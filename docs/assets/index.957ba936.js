var cr=Object.defineProperty;var ur=(P,c,v)=>c in P?cr(P,c,{enumerable:!0,configurable:!0,writable:!0,value:v}):P[c]=v;var ze=(P,c,v)=>(ur(P,typeof c!="symbol"?c+"":c,v),v),Bt=(P,c,v)=>{if(!c.has(P))throw TypeError("Cannot "+v)};var B=(P,c,v)=>(Bt(P,c,"read from private field"),v?v.call(P):c.get(P)),fe=(P,c,v)=>{if(c.has(P))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(P):c.set(P,v)},Ae=(P,c,v,n)=>(Bt(P,c,"write to private field"),n?n.call(P,v):c.set(P,v),v),Ut=(P,c,v,n)=>({set _(i){Ae(P,c,i,v)},get _(){return B(P,c,n)}}),be=(P,c,v)=>(Bt(P,c,"access private method"),v);import{r as react,b as jsxs,j as jsx,p as propTypes,aq as _objectWithoutPropertiesLoose$1,ar as Nav,N as NavItem,m as NavLink$1,as as TabContent$1,at as TabPane,au as Alert$1,g as getAugmentedNamespace,av as _setPrototypeOf,aw as _typeof,o as _defineProperty,I as React,al as Row,am as Col,ai as commonjsGlobal,ax as createRoot,G as Button,ay as Offcanvas$1,az as OffcanvasHeader,aA as OffcanvasBody,aB as Fragment,a9 as Label,aa as InputGroup,ac as InputGroupText,ab as Input$1}from"./index.870bcc44.js";import{_ as _createClass,b as _classCallCheck,c as _slicedToArray,d as _arrayLikeToArray,e as _unsupportedIterableToArray}from"./App.3a29c147.js";import{a as create}from"./yup.module.f13c4f92.js";function _assertThisInitialized(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function _objectWithoutProperties$1(P,c){if(P==null)return{};var v=_objectWithoutPropertiesLoose(P,c),n,i;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(P);for(i=0;i<d.length;i++)n=d[i],!(c.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(P,n)||(v[n]=P[n]))}return v}function _objectWithoutPropertiesLoose(P,c){if(P==null)return{};var v={},n=Object.keys(P),i,d;for(d=0;d<n.length;d++)i=n[d],!(c.indexOf(i)>=0)&&(v[i]=P[i]);return v}var ArrowLeft=react.exports.forwardRef(function(P,c){var v=P.color,n=v===void 0?"currentColor":v,i=P.size,d=i===void 0?24:i,I=_objectWithoutProperties$1(P,["color","size"]);return jsxs("svg",{ref:c,xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...I,children:[jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),jsx("polyline",{points:"12 19 5 12 12 5"})]})});ArrowLeft.propTypes={color:propTypes.exports.string,size:propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.number])};ArrowLeft.displayName="ArrowLeft";const ArrowLeft$1=ArrowLeft;function _objectWithoutProperties(P,c){if(P==null)return{};var v=_objectWithoutPropertiesLoose$1(P,c),n,i;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(P);for(i=0;i<d.length;i++)n=d[i],!(c.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(P,n)||(v[n]=P[n]))}return v}const ComponentSpinner=()=>jsx("div",{className:"fallback-spinner",children:jsxs("div",{className:"loading",children:[jsx("div",{className:"effect-1 effects"}),jsx("div",{className:"effect-2 effects"}),jsx("div",{className:"effect-3 effects"})]})}),UILoading=()=>jsx("div",{className:"w-100 h-100 d-flex justify-content-center align-items-center",children:jsx(ComponentSpinner,{})}),TabsVerticalLeft=({tabs:P})=>{const[c,v]=react.exports.useState("1"),n=i=>{c!==i&&v(i)};return jsxs("div",{className:"nav-vertical",children:[jsx(Nav,{tabs:!0,className:"nav-left",children:P.map(({id:i,title:d})=>jsx(NavItem,{children:jsx(NavLink$1,{active:c===i,onClick:()=>{n(i)},children:d})},i))}),jsx(TabContent$1,{activeTab:c,children:P.map(({id:i,Element:d})=>jsx(TabPane,{className:"overflow-hidden",tabId:i,children:d},i))})]})},Alert=({color:P,title:c,text:v})=>jsx("div",{className:"spacing-0",children:jsx(Alert$1,{color:P,children:jsxs("div",{className:"alert-body",children:[jsx("span",{className:"fw-bold",children:c}),jsx("span",{children:v})]})})});function commonjsRequire(P){throw new Error('Could not dynamically require "'+P+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(c,v){module.exports=v()})(globalThis,()=>(()=>{var __webpack_modules__=[,(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.VerbosityLevel=c.Util=c.UnknownErrorException=c.UnexpectedResponseException=c.UNSUPPORTED_FEATURES=c.TextRenderingMode=c.StreamType=c.RenderingIntentFlag=c.PermissionFlag=c.PasswordResponses=c.PasswordException=c.PageActionEventType=c.OPS=c.MissingPDFException=c.LINE_FACTOR=c.LINE_DESCENT_FACTOR=c.InvalidPDFException=c.ImageKind=c.IDENTITY_MATRIX=c.FormatError=c.FontType=c.FeatureTest=c.FONT_IDENTITY_MATRIX=c.DocumentActionEventType=c.CMapCompressionType=c.BaseException=c.AnnotationType=c.AnnotationStateModelType=c.AnnotationReviewState=c.AnnotationReplyType=c.AnnotationMode=c.AnnotationMarkedState=c.AnnotationFlag=c.AnnotationFieldFlag=c.AnnotationEditorType=c.AnnotationEditorPrefix=c.AnnotationEditorParamsType=c.AnnotationBorderStyleType=c.AnnotationActionEventType=c.AbortException=void 0,c.arrayByteLength=ae,c.arraysToBytes=me,c.assert=y,c.bytesToString=U,c.createPromiseCapability=we,c.createValidAbsoluteUrl=L,c.escapeString=Me,c.getModificationDate=de,c.getVerbosityLevel=le,c.info=ge,c.isArrayBuffer=Ue,c.isArrayEqual=lt,c.isAscii=Be,c.objectFromMap=re,c.objectSize=ue,c.setVerbosityLevel=ee,c.shadow=q,c.string32=ie,c.stringToBytes=W,c.stringToPDFString=Fe,c.stringToUTF16BEString=Pe,c.stringToUTF8String=et,c.unreachable=V,c.utf8StringToString=Ie,c.warn=xe,v(2);const n=[1,0,0,1,0,0];c.IDENTITY_MATRIX=n;const i=[.001,0,0,.001,0,0];c.FONT_IDENTITY_MATRIX=i;const d=1.35;c.LINE_FACTOR=d;const I=.35;c.LINE_DESCENT_FACTOR=I;const O={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};c.RenderingIntentFlag=O;const x={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};c.AnnotationMode=x;const b="pdfjs_internal_editor_";c.AnnotationEditorPrefix=b;const T={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};c.AnnotationEditorType=T;const N={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};c.AnnotationEditorParamsType=N;const F={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};c.PermissionFlag=F;const k={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};c.TextRenderingMode=k;const p={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};c.ImageKind=p;const s={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};c.AnnotationType=s;const l={MARKED:"Marked",REVIEW:"Review"};c.AnnotationStateModelType=l;const h={MARKED:"Marked",UNMARKED:"Unmarked"};c.AnnotationMarkedState=h;const E={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};c.AnnotationReviewState=E;const S={GROUP:"Group",REPLY:"R"};c.AnnotationReplyType=S;const f={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};c.AnnotationFlag=f;const o={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};c.AnnotationFieldFlag=o;const a={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};c.AnnotationBorderStyleType=a;const _={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};c.AnnotationActionEventType=_;const D={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};c.DocumentActionEventType=D;const R={O:"PageOpen",C:"PageClose"};c.PageActionEventType=R;const A={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};c.StreamType=A;const j={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};c.FontType=j;const oe={ERRORS:0,WARNINGS:1,INFOS:5};c.VerbosityLevel=oe;const ce={NONE:0,BINARY:1,STREAM:2};c.CMapCompressionType=ce;const ne={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};c.OPS=ne;const te={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};c.UNSUPPORTED_FEATURES=te;const X={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};c.PasswordResponses=X;let Q=oe.WARNINGS;function ee(se){Number.isInteger(se)&&(Q=se)}function le(){return Q}function ge(se){Q>=oe.INFOS&&console.log(`Info: ${se}`)}function xe(se){Q>=oe.WARNINGS&&console.log(`Warning: ${se}`)}function V(se){throw new Error(se)}function y(se,Y){se||V(Y)}function g(se){if(!se)return!1;switch(se.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function L(se,Y=null,J=null){if(!se)return null;try{if(J&&typeof se=="string"){if(J.addDefaultProtocol&&se.startsWith("www.")){const Se=se.match(/\./g);Se&&Se.length>=2&&(se=`http://${se}`)}if(J.tryConvertEncoding)try{se=et(se)}catch{}}const _e=Y?new URL(se,Y):new URL(se);if(g(_e))return _e}catch{}return null}function q(se,Y,J){return Object.defineProperty(se,Y,{value:J,enumerable:!0,configurable:!0,writable:!1}),J}const H=function(){function Y(J,_e){this.constructor===Y&&V("Cannot initialize BaseException."),this.message=J,this.name=_e}return Y.prototype=new Error,Y.constructor=Y,Y}();c.BaseException=H;class G extends H{constructor(Y,J){super(Y,"PasswordException"),this.code=J}}c.PasswordException=G;class K extends H{constructor(Y,J){super(Y,"UnknownErrorException"),this.details=J}}c.UnknownErrorException=K;class Z extends H{constructor(Y){super(Y,"InvalidPDFException")}}c.InvalidPDFException=Z;class u extends H{constructor(Y){super(Y,"MissingPDFException")}}c.MissingPDFException=u;class w extends H{constructor(Y,J){super(Y,"UnexpectedResponseException"),this.status=J}}c.UnexpectedResponseException=w;class C extends H{constructor(Y){super(Y,"FormatError")}}c.FormatError=C;class M extends H{constructor(Y){super(Y,"AbortException")}}c.AbortException=M;function U(se){(typeof se!="object"||se===null||se.length===void 0)&&V("Invalid argument for bytesToString");const Y=se.length,J=8192;if(Y<J)return String.fromCharCode.apply(null,se);const _e=[];for(let Se=0;Se<Y;Se+=J){const Ee=Math.min(Se+J,Y),Re=se.subarray(Se,Ee);_e.push(String.fromCharCode.apply(null,Re))}return _e.join("")}function W(se){typeof se!="string"&&V("Invalid argument for stringToBytes");const Y=se.length,J=new Uint8Array(Y);for(let _e=0;_e<Y;++_e)J[_e]=se.charCodeAt(_e)&255;return J}function ae(se){if(se.length!==void 0)return se.length;if(se.byteLength!==void 0)return se.byteLength;V("Invalid argument for arrayByteLength")}function me(se){const Y=se.length;if(Y===1&&se[0]instanceof Uint8Array)return se[0];let J=0;for(let Ee=0;Ee<Y;Ee++)J+=ae(se[Ee]);let _e=0;const Se=new Uint8Array(J);for(let Ee=0;Ee<Y;Ee++){let Re=se[Ee];Re instanceof Uint8Array||(typeof Re=="string"?Re=W(Re):Re=new Uint8Array(Re));const Le=Re.byteLength;Se.set(Re,_e),_e+=Le}return Se}function ie(se){return String.fromCharCode(se>>24&255,se>>16&255,se>>8&255,se&255)}function ue(se){return Object.keys(se).length}function re(se){const Y=Object.create(null);for(const[J,_e]of se)Y[J]=_e;return Y}function pe(){const se=new Uint8Array(4);return se[0]=1,new Uint32Array(se.buffer,0,1)[0]===1}function ve(){try{return new Function(""),!0}catch{return!1}}class ${static get isLittleEndian(){return q(this,"isLittleEndian",pe())}static get isEvalSupported(){return q(this,"isEvalSupported",ve())}static get isOffscreenCanvasSupported(){return q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}c.FeatureTest=$;const ye=[...Array(256).keys()].map(se=>se.toString(16).padStart(2,"0"));class Ce{static makeHexColor(Y,J,_e){return`#${ye[Y]}${ye[J]}${ye[_e]}`}static scaleMinMax(Y,J){let _e;Y[0]?(Y[0]<0&&(_e=J[0],J[0]=J[1],J[1]=_e),J[0]*=Y[0],J[1]*=Y[0],Y[3]<0&&(_e=J[2],J[2]=J[3],J[3]=_e),J[2]*=Y[3],J[3]*=Y[3]):(_e=J[0],J[0]=J[2],J[2]=_e,_e=J[1],J[1]=J[3],J[3]=_e,Y[1]<0&&(_e=J[2],J[2]=J[3],J[3]=_e),J[2]*=Y[1],J[3]*=Y[1],Y[2]<0&&(_e=J[0],J[0]=J[1],J[1]=_e),J[0]*=Y[2],J[1]*=Y[2]),J[0]+=Y[4],J[1]+=Y[4],J[2]+=Y[5],J[3]+=Y[5]}static transform(Y,J){return[Y[0]*J[0]+Y[2]*J[1],Y[1]*J[0]+Y[3]*J[1],Y[0]*J[2]+Y[2]*J[3],Y[1]*J[2]+Y[3]*J[3],Y[0]*J[4]+Y[2]*J[5]+Y[4],Y[1]*J[4]+Y[3]*J[5]+Y[5]]}static applyTransform(Y,J){const _e=Y[0]*J[0]+Y[1]*J[2]+J[4],Se=Y[0]*J[1]+Y[1]*J[3]+J[5];return[_e,Se]}static applyInverseTransform(Y,J){const _e=J[0]*J[3]-J[1]*J[2],Se=(Y[0]*J[3]-Y[1]*J[2]+J[2]*J[5]-J[4]*J[3])/_e,Ee=(-Y[0]*J[1]+Y[1]*J[0]+J[4]*J[1]-J[5]*J[0])/_e;return[Se,Ee]}static getAxialAlignedBoundingBox(Y,J){const _e=Ce.applyTransform(Y,J),Se=Ce.applyTransform(Y.slice(2,4),J),Ee=Ce.applyTransform([Y[0],Y[3]],J),Re=Ce.applyTransform([Y[2],Y[1]],J);return[Math.min(_e[0],Se[0],Ee[0],Re[0]),Math.min(_e[1],Se[1],Ee[1],Re[1]),Math.max(_e[0],Se[0],Ee[0],Re[0]),Math.max(_e[1],Se[1],Ee[1],Re[1])]}static inverseTransform(Y){const J=Y[0]*Y[3]-Y[1]*Y[2];return[Y[3]/J,-Y[1]/J,-Y[2]/J,Y[0]/J,(Y[2]*Y[5]-Y[4]*Y[3])/J,(Y[4]*Y[1]-Y[5]*Y[0])/J]}static apply3dTransform(Y,J){return[Y[0]*J[0]+Y[1]*J[1]+Y[2]*J[2],Y[3]*J[0]+Y[4]*J[1]+Y[5]*J[2],Y[6]*J[0]+Y[7]*J[1]+Y[8]*J[2]]}static singularValueDecompose2dScale(Y){const J=[Y[0],Y[2],Y[1],Y[3]],_e=Y[0]*J[0]+Y[1]*J[2],Se=Y[0]*J[1]+Y[1]*J[3],Ee=Y[2]*J[0]+Y[3]*J[2],Re=Y[2]*J[1]+Y[3]*J[3],Le=(_e+Re)/2,je=Math.sqrt((_e+Re)**2-4*(_e*Re-Ee*Se))/2,Ne=Le+je||1,Oe=Le-je||1;return[Math.sqrt(Ne),Math.sqrt(Oe)]}static normalizeRect(Y){const J=Y.slice(0);return Y[0]>Y[2]&&(J[0]=Y[2],J[2]=Y[0]),Y[1]>Y[3]&&(J[1]=Y[3],J[3]=Y[1]),J}static intersect(Y,J){const _e=Math.max(Math.min(Y[0],Y[2]),Math.min(J[0],J[2])),Se=Math.min(Math.max(Y[0],Y[2]),Math.max(J[0],J[2]));if(_e>Se)return null;const Ee=Math.max(Math.min(Y[1],Y[3]),Math.min(J[1],J[3])),Re=Math.min(Math.max(Y[1],Y[3]),Math.max(J[1],J[3]));return Ee>Re?null:[_e,Ee,Se,Re]}static bezierBoundingBox(Y,J,_e,Se,Ee,Re,Le,je){const Ne=[],Oe=[[],[]];let We,$e,Ve,De,qe,Ke,tt,nt;for(let ot=0;ot<2;++ot){if(ot===0?($e=6*Y-12*_e+6*Ee,We=-3*Y+9*_e-9*Ee+3*Le,Ve=3*_e-3*Y):($e=6*J-12*Se+6*Re,We=-3*J+9*Se-9*Re+3*je,Ve=3*Se-3*J),Math.abs(We)<1e-12){if(Math.abs($e)<1e-12)continue;De=-Ve/$e,0<De&&De<1&&Ne.push(De);continue}tt=$e*$e-4*Ve*We,nt=Math.sqrt(tt),!(tt<0)&&(qe=(-$e+nt)/(2*We),0<qe&&qe<1&&Ne.push(qe),Ke=(-$e-nt)/(2*We),0<Ke&&Ke<1&&Ne.push(Ke))}let Ze=Ne.length,Ge;const Je=Ze;for(;Ze--;)De=Ne[Ze],Ge=1-De,Oe[0][Ze]=Ge*Ge*Ge*Y+3*Ge*Ge*De*_e+3*Ge*De*De*Ee+De*De*De*Le,Oe[1][Ze]=Ge*Ge*Ge*J+3*Ge*Ge*De*Se+3*Ge*De*De*Re+De*De*De*je;return Oe[0][Je]=Y,Oe[1][Je]=J,Oe[0][Je+1]=Le,Oe[1][Je+1]=je,Oe[0].length=Oe[1].length=Je+2,[Math.min(...Oe[0]),Math.min(...Oe[1]),Math.max(...Oe[0]),Math.max(...Oe[1])]}}c.Util=Ce;const ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(se){if(se[0]>="\xEF"){let J;if(se[0]==="\xFE"&&se[1]==="\xFF"?J="utf-16be":se[0]==="\xFF"&&se[1]==="\xFE"?J="utf-16le":se[0]==="\xEF"&&se[1]==="\xBB"&&se[2]==="\xBF"&&(J="utf-8"),J)try{const _e=new TextDecoder(J,{fatal:!0}),Se=W(se);return _e.decode(Se)}catch(_e){xe(`stringToPDFString: "${_e}".`)}}const Y=[];for(let J=0,_e=se.length;J<_e;J++){const Se=ke[se.charCodeAt(J)];Y.push(Se?String.fromCharCode(Se):se.charAt(J))}return Y.join("")}function Me(se){return se.replace(/([()\\\n\r])/g,Y=>Y===`
`?"\\n":Y==="\r"?"\\r":`\\${Y}`)}function Be(se){return/^[\x00-\x7F]*$/.test(se)}function Pe(se){const Y=["\xFE\xFF"];for(let J=0,_e=se.length;J<_e;J++){const Se=se.charCodeAt(J);Y.push(String.fromCharCode(Se>>8&255),String.fromCharCode(Se&255))}return Y.join("")}function et(se){return decodeURIComponent(escape(se))}function Ie(se){return unescape(encodeURIComponent(se))}function Ue(se){return typeof se=="object"&&se!==null&&se.byteLength!==void 0}function lt(se,Y){if(se.length!==Y.length)return!1;for(let J=0,_e=se.length;J<_e;J++)if(se[J]!==Y[J])return!1;return!0}function de(se=new Date){return[se.getUTCFullYear().toString(),(se.getUTCMonth()+1).toString().padStart(2,"0"),se.getUTCDate().toString().padStart(2,"0"),se.getUTCHours().toString().padStart(2,"0"),se.getUTCMinutes().toString().padStart(2,"0"),se.getUTCSeconds().toString().padStart(2,"0")].join("")}function we(){const se=Object.create(null);let Y=!1;return Object.defineProperty(se,"settled",{get(){return Y}}),se.promise=new Promise(function(J,_e){se.resolve=function(Se){Y=!0,J(Se)},se.reject=function(Se){Y=!0,_e(Se)}}),se}},(P,c,v)=>{v(3)},(P,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.isNodeJS=void 0;const v=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");c.isNodeJS=v},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var P,v,n,i,d,I,O,x,b,$t,N,F;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:p,NodeCMapReaderFactory:s,NodeStandardFontDataFactory:l}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=p,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=s,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=l}let createPDFNetworkStream;function setPDFNetworkStreamFactory(p){createPDFNetworkStream=p}function getDocument(p){const s=new PDFDocumentLoadingTask;let l;if(typeof p=="string"||p instanceof URL)l={url:p};else if((0,_util.isArrayBuffer)(p))l={data:p};else if(p instanceof PDFDataRangeTransport)l={range:p};else{if(typeof p!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!p.url&&!p.data&&!p.range)throw new Error("Invalid parameter object: need either .data, .range or .url");l=p}const h=Object.create(null);let E=null,S=null;for(const o in l){const a=l[o];switch(o){case"url":if(typeof window<"u")try{h[o]=new URL(a,window.location).href;continue}catch(_){(0,_util.warn)(`Cannot create valid URL: "${_}".`)}else if(typeof a=="string"||a instanceof URL){h[o]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":E=a;continue;case"worker":S=a;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&a instanceof Buffer)h[o]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if(typeof a=="string")h[o]=(0,_util.stringToBytes)(a);else if(typeof a=="object"&&a!==null&&!isNaN(a.length))h[o]=new Uint8Array(a);else if((0,_util.isArrayBuffer)(a))h[o]=new Uint8Array(a);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}h[o]=a}if(h.CMapReaderFactory=h.CMapReaderFactory||DefaultCMapReaderFactory,h.StandardFontDataFactory=h.StandardFontDataFactory||DefaultStandardFontDataFactory,h.ignoreErrors=h.stopAtErrors!==!0,h.fontExtraProperties=h.fontExtraProperties===!0,h.pdfBug=h.pdfBug===!0,h.enableXfa=h.enableXfa===!0,(!Number.isInteger(h.rangeChunkSize)||h.rangeChunkSize<1)&&(h.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof h.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(h.docBaseUrl))&&(h.docBaseUrl=null),(!Number.isInteger(h.maxImageSize)||h.maxImageSize<-1)&&(h.maxImageSize=-1),typeof h.cMapUrl!="string"&&(h.cMapUrl=null),typeof h.standardFontDataUrl!="string"&&(h.standardFontDataUrl=null),typeof h.useWorkerFetch!="boolean"&&(h.useWorkerFetch=h.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&h.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof h.isEvalSupported!="boolean"&&(h.isEvalSupported=!0),typeof h.disableFontFace!="boolean"&&(h.disableFontFace=_is_node.isNodeJS),typeof h.useSystemFonts!="boolean"&&(h.useSystemFonts=!_is_node.isNodeJS&&!h.disableFontFace),(typeof h.ownerDocument!="object"||h.ownerDocument===null)&&(h.ownerDocument=globalThis.document),typeof h.disableRange!="boolean"&&(h.disableRange=!1),typeof h.disableStream!="boolean"&&(h.disableStream=!1),typeof h.disableAutoFetch!="boolean"&&(h.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(h.verbosity),!S){const o={verbosity:h.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};S=o.port?PDFWorker.fromPort(o):new PDFWorker(o),s._worker=S}const f=s.docId;return S.promise.then(function(){if(s.destroyed)throw new Error("Loading aborted");const o=_fetchDocument(S,h,E,f),a=new Promise(function(_){let D;E?D=new _transport_stream.PDFDataTransportStream({length:h.length,initialData:h.initialData,progressiveDone:h.progressiveDone,contentDispositionFilename:h.contentDispositionFilename,disableRange:h.disableRange,disableStream:h.disableStream},E):h.data||(D=createPDFNetworkStream({url:h.url,length:h.length,httpHeaders:h.httpHeaders,withCredentials:h.withCredentials,rangeChunkSize:h.rangeChunkSize,disableRange:h.disableRange,disableStream:h.disableStream})),_(D)});return Promise.all([o,a]).then(function([_,D]){if(s.destroyed)throw new Error("Loading aborted");const R=new _message_handler.MessageHandler(f,_,S.port),A=new WorkerTransport(R,s,D,h);s._transport=A,R.send("Ready",null)})}).catch(s._capability.reject),s}async function _fetchDocument(p,s,l,h){if(p.destroyed)throw new Error("Worker was destroyed");l&&(s.length=l.length,s.initialData=l.initialData,s.progressiveDone=l.progressiveDone,s.contentDispositionFilename=l.contentDispositionFilename);const E=await p.messageHandler.sendWithPromise("GetDocRequest",{docId:h,apiVersion:"2.16.105",source:{data:s.data,url:s.url,password:s.password,disableAutoFetch:s.disableAutoFetch,rangeChunkSize:s.rangeChunkSize,length:s.length},maxImageSize:s.maxImageSize,disableFontFace:s.disableFontFace,docBaseUrl:s.docBaseUrl,ignoreErrors:s.ignoreErrors,isEvalSupported:s.isEvalSupported,fontExtraProperties:s.fontExtraProperties,enableXfa:s.enableXfa,useSystemFonts:s.useSystemFonts,cMapUrl:s.useWorkerFetch?s.cMapUrl:null,standardFontDataUrl:s.useWorkerFetch?s.standardFontDataUrl:null});if(s.data&&(s.data=null),p.destroyed)throw new Error("Worker was destroyed");return E}const c=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Ut(c,P)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var s;this.destroyed=!0,await((s=this._transport)==null?void 0:s.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=c;P=new WeakMap,fe(PDFDocumentLoadingTask,P,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(s,l,h=!1,E=null){this.length=s,this.initialData=l,this.progressiveDone=h,this.contentDispositionFilename=E,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(s){this._rangeListeners.push(s)}addProgressListener(s){this._progressListeners.push(s)}addProgressiveReadListener(s){this._progressiveReadListeners.push(s)}addProgressiveDoneListener(s){this._progressiveDoneListeners.push(s)}onDataRange(s,l){for(const h of this._rangeListeners)h(s,l)}onDataProgress(s,l){this._readyCapability.promise.then(()=>{for(const h of this._progressListeners)h(s,l)})}onDataProgressiveRead(s){this._readyCapability.promise.then(()=>{for(const l of this._progressiveReadListeners)l(s)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const s of this._progressiveDoneListeners)s()})}transportReady(){this._readyCapability.resolve()}requestDataRange(s,l){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(s,l){this._pdfInfo=s,this._transport=l,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(s){return this._transport.getPage(s)}getPageIndex(s){return this._transport.getPageIndex(s)}getDestinations(){return this._transport.getDestinations()}getDestination(s){return this._transport.getDestination(s)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(s=!1){return this._transport.startCleanup(s||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(s,l,h,E,S=!1){this._pageIndex=s,this._pageInfo=l,this._ownerDocument=E,this._transport=h,this._stats=S?new _display_utils.StatTimer:null,this._pdfBug=S,this.commonObjs=h.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:s,rotation:l=this.rotate,offsetX:h=0,offsetY:E=0,dontFlip:S=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:s,rotation:l,offsetX:h,offsetY:E,dontFlip:S})}getAnnotations({intent:s="display"}={}){const l=this._transport.getRenderingIntent(s);let h=this._annotationPromises.get(l.cacheKey);return h||(h=this._transport.getAnnotations(this._pageIndex,l.renderingIntent),this._annotationPromises.set(l.cacheKey,h),h=h.then(E=>{for(const S of E)S.titleObj!==void 0&&Object.defineProperty(S,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),S.titleObj.str}}),S.contentsObj!==void 0&&Object.defineProperty(S,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),S.contentsObj.str}});return E})),h}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var s;return((s=this._transport._htmlForXfa)==null?void 0:s.children[this._pageIndex])||null}render({canvasContext:s,viewport:l,intent:h="display",annotationMode:E=_util.AnnotationMode.ENABLE,transform:S=null,imageLayer:f=null,canvasFactory:o=null,background:a=null,optionalContentConfigPromise:_=null,annotationCanvasMap:D=null,pageColors:R=null,printAnnotationStorage:A=null}){var ee,le;((ee=arguments[0])==null?void 0:ee.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&E===_util.AnnotationMode.ENABLE&&(E=_util.AnnotationMode.ENABLE_FORMS)),((le=arguments[0])==null?void 0:le.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&E===_util.AnnotationMode.ENABLE&&(E=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const j=this._transport.getRenderingIntent(h,E,A);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());let oe=this._intentStates.get(j.cacheKey);oe||(oe=Object.create(null),this._intentStates.set(j.cacheKey,oe)),oe.streamReaderCancelTimeout&&(clearTimeout(oe.streamReaderCancelTimeout),oe.streamReaderCancelTimeout=null);const ce=o||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ne=!!(j.renderingIntent&_util.RenderingIntentFlag.PRINT);oe.displayReadyCapability||(oe.displayReadyCapability=(0,_util.createPromiseCapability)(),oe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(j));const te=ge=>{oe.renderTasks.delete(X),(this.cleanupAfterRender||ne)&&(this.pendingCleanup=!0),this._tryCleanup(),ge?(X.capability.reject(ge),this._abortOperatorList({intentState:oe,reason:ge instanceof Error?ge:new Error(ge)})):X.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},X=new InternalRenderTask({callback:te,params:{canvasContext:s,viewport:l,transform:S,imageLayer:f,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:D,operatorList:oe.operatorList,pageIndex:this._pageIndex,canvasFactory:ce,useRequestAnimationFrame:!ne,pdfBug:this._pdfBug,pageColors:R});(oe.renderTasks||(oe.renderTasks=new Set)).add(X);const Q=X.task;return Promise.all([oe.displayReadyCapability.promise,_]).then(([ge,xe])=>{if(this.pendingCleanup){te();return}this._stats&&this._stats.time("Rendering"),X.initializeGraphics({transparency:ge,optionalContentConfig:xe}),X.operatorListChanged()}).catch(te),Q}getOperatorList({intent:s="display",annotationMode:l=_util.AnnotationMode.ENABLE,printAnnotationStorage:h=null}={}){function E(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(o))}const S=this._transport.getRenderingIntent(s,l,h,!0);let f=this._intentStates.get(S.cacheKey);f||(f=Object.create(null),this._intentStates.set(S.cacheKey,f));let o;return f.opListReadCapability||(o=Object.create(null),o.operatorListChanged=E,f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||(f.renderTasks=new Set)).add(o),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(S)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:s=!1,includeMarkedContent:l=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:s!==!0,includeMarkedContent:l===!0},{highWaterMark:100,size(E){return E.items.length}})}getTextContent(s={}){if(this._transport._htmlForXfa)return this.getXfa().then(h=>_xfa_text.XfaText.textContent(h));const l=this.streamTextContent(s);return new Promise(function(h,E){function S(){f.read().then(function({value:a,done:_}){if(_){h(o);return}Object.assign(o.styles,a.styles),o.items.push(...a.items),S()},E)}const f=l.getReader(),o={items:[],styles:Object.create(null)};S()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const s=[];for(const l of this._intentStates.values())if(this._abortOperatorList({intentState:l,reason:new Error("Page was destroyed."),force:!0}),!l.opListReadCapability)for(const h of l.renderTasks)s.push(h.completed),h.cancel();this.objs.clear();for(const l of this._bitmaps)l.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(s)}cleanup(s=!1){return this.pendingCleanup=!0,this._tryCleanup(s)}_tryCleanup(s=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:l,operatorList:h}of this._intentStates.values())if(l.size>0||!h.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,s&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const l of this._bitmaps)l.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(s,l){const h=this._intentStates.get(l);!h||(this._stats&&this._stats.timeEnd("Page Request"),h.displayReadyCapability&&h.displayReadyCapability.resolve(s))}_renderPageChunk(s,l){for(let h=0,E=s.length;h<E;h++)l.operatorList.fnArray.push(s.fnArray[h]),l.operatorList.argsArray.push(s.argsArray[h]);l.operatorList.lastChunk=s.lastChunk,l.operatorList.separateAnnots=s.separateAnnots;for(const h of l.renderTasks)h.operatorListChanged();s.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:s,cacheKey:l,annotationStorageMap:h}){const S=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:s,cacheKey:l,annotationStorage:h}).getReader(),f=this._intentStates.get(l);f.streamReader=S;const o=()=>{S.read().then(({value:a,done:_})=>{if(_){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(a,f),o())},a=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const _ of f.renderTasks)_.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(a);else if(f.opListReadCapability)f.opListReadCapability.reject(a);else throw a}})};o()}_abortOperatorList({intentState:s,reason:l,force:h=!1}){if(!!s.streamReader){if(!h){if(s.renderTasks.size>0)return;if(l instanceof _display_utils.RenderingCancelledException){s.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:s,reason:l,force:!0}),s.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(s.streamReader.cancel(new _util.AbortException(l.message)).catch(()=>{}),s.streamReader=null,!this._transport.destroyed){for(const[E,S]of this._intentStates)if(S===s){this._intentStates.delete(E);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(s,l){const h={data:structuredClone(s,l)};this._deferred.then(()=>{for(const E of this._listeners)E.call(this,h)})}addEventListener(s,l){this._listeners.push(l)}removeEventListener(s,l){const h=this._listeners.indexOf(l);this._listeners.splice(h,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const p=(v=document==null?void 0:document.currentScript)==null?void 0:v.src;p&&(PDFWorkerUtil.fallbackWorkerSrc=p.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(p,s){let l;try{if(l=new URL(p),!l.origin||l.origin==="null")return!1}catch{return!1}const h=new URL(s,l);return l.origin===h.origin},PDFWorkerUtil.createCDNWrapper=function(p){const s=`importScripts("${p}");`;return URL.createObjectURL(new Blob([s]))}}const _PDFWorker=class{constructor({name:p=null,port:s=null,verbosity:l=(0,_util.getVerbosityLevel)()}={}){if(s&&B(_PDFWorker,n).has(s))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=p,this.destroyed=!1,this.verbosity=l,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,s){B(_PDFWorker,n).set(s,this),this._initializeFromPort(s);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(p){this._port=p,this._messageHandler=new _message_handler.MessageHandler("main","worker",p),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:p}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,p)||(p=PDFWorkerUtil.createCDNWrapper(new URL(p,window.location).href));const s=new Worker(p),l=new _message_handler.MessageHandler("main","worker",s),h=()=>{s.removeEventListener("error",E),l.destroy(),s.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},E=()=>{this._webWorker||h()};s.addEventListener("error",E),l.on("test",f=>{if(s.removeEventListener("error",E),this.destroyed){h();return}f?(this._messageHandler=l,this._port=s,this._webWorker=s,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),l.destroy(),s.terminate())}),l.on("ready",f=>{if(s.removeEventListener("error",E),this.destroyed){h();return}try{S()}catch{this._setupFakeWorker()}});const S=()=>{const f=new Uint8Array;l.send("test",f,[f.buffer])};S();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(p=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const s=new LoopbackPort;this._port=s;const l=`fake${PDFWorkerUtil.fakeWorkerId++}`,h=new _message_handler.MessageHandler(l+"_worker",l,s);p.setup(h,s);const E=new _message_handler.MessageHandler(l,l+"_worker",s);this._messageHandler=E,this._readyCapability.resolve(),E.send("configure",{verbosity:this.verbosity})}).catch(p=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${p.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),B(_PDFWorker,n).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(p){if(!(p!=null&&p.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return B(this,n).has(p.port)?B(this,n).get(p.port):new _PDFWorker(p)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var p;try{return((p=globalThis.pdfjsWorker)==null?void 0:p.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;n=new WeakMap,fe(PDFWorker,n,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(s,l,h,E){fe(this,i,null);fe(this,d,new Map);fe(this,I,new Map);fe(this,O,null);this.messageHandler=s,this.loadingTask=l,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:l.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:E.ownerDocument,styleElement:E.styleElement}),this._params=E,E.useWorkerFetch||(this.CMapReaderFactory=new E.CMapReaderFactory({baseUrl:E.cMapUrl,isCompressed:E.cMapPacked}),this.StandardFontDataFactory=new E.StandardFontDataFactory({baseUrl:E.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=h,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return B(this,i)}getRenderingIntent(s,l=_util.AnnotationMode.ENABLE,h=null,E=!1){let S=_util.RenderingIntentFlag.DISPLAY,f=null;switch(s){case"any":S=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":S=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${s}`)}switch(l){case _util.AnnotationMode.DISABLE:S+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:S+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:S+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=(S&_util.RenderingIntentFlag.PRINT&&h instanceof _annotation_storage.PrintAnnotationStorage?h:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${l}`)}return E&&(S+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:S,cacheKey:`${S}_${_annotation_storage.AnnotationStorage.getHash(f)}`,annotationStorageMap:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const s=[];for(const h of B(this,d).values())s.push(h._destroy());B(this,d).clear(),B(this,I).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const l=this.messageHandler.sendWithPromise("Terminate",null);return s.push(l),Promise.all(s).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Ae(this,O,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:s,loadingTask:l}=this;s.on("GetReader",(h,E)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=S=>{this._lastProgress={loaded:S.loaded,total:S.total}},E.onPull=()=>{this._fullReader.read().then(function({value:S,done:f}){if(f){E.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(S),"GetReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(S),1,[S])}).catch(S=>{E.error(S)})},E.onCancel=S=>{this._fullReader.cancel(S),E.ready.catch(f=>{if(!this.destroyed)throw f})}}),s.on("ReaderHeadersReady",h=>{const E=(0,_util.createPromiseCapability)(),S=this._fullReader;return S.headersReady.then(()=>{var f;(!S.isStreamingSupported||!S.isRangeSupported)&&(this._lastProgress&&((f=l.onProgress)==null||f.call(l,this._lastProgress)),S.onProgress=o=>{var a;(a=l.onProgress)==null||a.call(l,{loaded:o.loaded,total:o.total})}),E.resolve({isStreamingSupported:S.isStreamingSupported,isRangeSupported:S.isRangeSupported,contentLength:S.contentLength})},E.reject),E.promise}),s.on("GetRangeReader",(h,E)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const S=this._networkStream.getRangeReader(h.begin,h.end);if(!S){E.close();return}E.onPull=()=>{S.read().then(function({value:f,done:o}){if(o){E.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(f),"GetRangeReader - expected an ArrayBuffer."),E.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{E.error(f)})},E.onCancel=f=>{S.cancel(f),E.ready.catch(o=>{if(!this.destroyed)throw o})}}),s.on("GetDoc",({pdfInfo:h})=>{this._numPages=h.numPages,this._htmlForXfa=h.htmlForXfa,delete h.htmlForXfa,l._capability.resolve(new PDFDocumentProxy(h,this))}),s.on("DocException",function(h){let E;switch(h.name){case"PasswordException":E=new _util.PasswordException(h.message,h.code);break;case"InvalidPDFException":E=new _util.InvalidPDFException(h.message);break;case"MissingPDFException":E=new _util.MissingPDFException(h.message);break;case"UnexpectedResponseException":E=new _util.UnexpectedResponseException(h.message,h.status);break;case"UnknownErrorException":E=new _util.UnknownErrorException(h.message,h.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}l._capability.reject(E)}),s.on("PasswordRequest",h=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),l.onPassword){const E=S=>{S instanceof Error?this._passwordCapability.reject(S):this._passwordCapability.resolve({password:S})};try{l.onPassword(E,h.code)}catch(S){this._passwordCapability.reject(S)}}else this._passwordCapability.reject(new _util.PasswordException(h.message,h.code));return this._passwordCapability.promise}),s.on("DataLoaded",h=>{var E;(E=l.onProgress)==null||E.call(l,{loaded:h.length,total:h.length}),this.downloadInfoCapability.resolve(h)}),s.on("StartRenderPage",h=>{if(this.destroyed)return;B(this,d).get(h.pageIndex)._startRenderPage(h.transparency,h.cacheKey)}),s.on("commonobj",([h,E,S])=>{var f;if(!this.destroyed&&!this.commonObjs.has(h))switch(E){case"Font":const o=this._params;if("error"in S){const D=S.error;(0,_util.warn)(`Error during font loading: ${D}`),this.commonObjs.resolve(h,D);break}let a=null;o.pdfBug&&((f=globalThis.FontInspector)==null?void 0:f.enabled)&&(a={registerFont(D,R){globalThis.FontInspector.fontAdded(D,R)}});const _=new _font_loader.FontFaceObject(S,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(_).catch(D=>s.sendWithPromise("FontFallback",{id:h})).finally(()=>{!o.fontExtraProperties&&_.data&&(_.data=null),this.commonObjs.resolve(h,_)});break;case"FontPath":case"Image":this.commonObjs.resolve(h,S);break;default:throw new Error(`Got unknown common object type ${E}`)}}),s.on("obj",([h,E,S,f])=>{var a;if(this.destroyed)return;const o=B(this,d).get(E);if(!o.objs.has(h))switch(S){case"Image":o.objs.resolve(h,f);const _=8e6;if(f){let D;if(f.bitmap){const{bitmap:R,width:A,height:j}=f;D=A*j*4,o._bitmaps.add(R)}else D=((a=f.data)==null?void 0:a.length)||0;D>_&&(o.cleanupAfterRender=!0)}break;case"Pattern":o.objs.resolve(h,f);break;default:throw new Error(`Got unknown object type ${S}`)}}),s.on("DocProgress",h=>{var E;this.destroyed||(E=l.onProgress)==null||E.call(l,{loaded:h.loaded,total:h.total})}),s.on("DocStats",h=>{this.destroyed||Ae(this,i,Object.freeze({streamTypes:Object.freeze(h.streamTypes),fontTypes:Object.freeze(h.fontTypes)}))}),s.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),s.on("FetchBuiltInCMap",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(h):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),s.on("FetchStandardFontData",h=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(h):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:s}){var l,h;this.destroyed||(h=(l=this.loadingTask).onUnsupportedFeature)==null||h.call(l,s)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(s){if(!Number.isInteger(s)||s<=0||s>this._numPages)return Promise.reject(new Error("Invalid page request."));const l=s-1,h=B(this,I).get(l);if(h)return h;const E=this.messageHandler.sendWithPromise("GetPage",{pageIndex:l}).then(S=>{if(this.destroyed)throw new Error("Transport destroyed");const f=new PDFPageProxy(l,S,this,this._params.ownerDocument,this._params.pdfBug);return B(this,d).set(l,f),f});return B(this,I).set(l,E),E}getPageIndex(s){return typeof s!="object"||s===null||!Number.isInteger(s.num)||s.num<0||!Number.isInteger(s.gen)||s.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:s.num,gen:s.gen})}getAnnotations(s,l){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:s,intent:l})}saveDocument(){var s,l;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(l=(s=this._fullReader)==null?void 0:s.filename)!=null?l:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(s){return typeof s!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:s})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(s){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:s})}getStructTree(s){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:s})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(s=>new _optional_content_config.OptionalContentConfig(s))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return B(this,O)||Ae(this,O,this.messageHandler.sendWithPromise("GetMetadata",null).then(s=>{var l,h,E,S;return{info:s[0],metadata:s[1]?new _metadata.Metadata(s[1]):null,contentDispositionFilename:(h=(l=this._fullReader)==null?void 0:l.filename)!=null?h:null,contentLength:(S=(E=this._fullReader)==null?void 0:E.contentLength)!=null?S:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(s=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const l of B(this,d).values())if(!l.cleanup())throw new Error(`startCleanup: Page ${l.pageNumber} is currently rendering.`);this.commonObjs.clear(),s||this.fontLoader.clear(),Ae(this,O,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const s=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:s.disableAutoFetch,enableXfa:s.enableXfa})}}i=new WeakMap,d=new WeakMap,I=new WeakMap,O=new WeakMap;class PDFObjects{constructor(){fe(this,b);fe(this,x,Object.create(null))}get(s,l=null){if(l){const E=be(this,b,$t).call(this,s);return E.capability.promise.then(()=>l(E.data)),null}const h=B(this,x)[s];if(!(h!=null&&h.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${s}.`);return h.data}has(s){const l=B(this,x)[s];return(l==null?void 0:l.capability.settled)||!1}resolve(s,l=null){const h=be(this,b,$t).call(this,s);h.data=l,h.capability.resolve()}clear(){Ae(this,x,Object.create(null))}}x=new WeakMap,b=new WeakSet,$t=function(s){const l=B(this,x)[s];return l||(B(this,x)[s]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(s){fe(this,N,null);Ae(this,N,s),this.onContinue=null}get promise(){return B(this,N).capability.promise}cancel(){B(this,N).cancel()}get separateAnnots(){const{separateAnnots:s}=B(this,N).operatorList;if(!s)return!1;const{annotationCanvasMap:l}=B(this,N);return s.form||s.canvas&&(l==null?void 0:l.size)>0}}N=new WeakMap,exports.RenderTask=RenderTask;const k=class{constructor({callback:s,params:l,objs:h,commonObjs:E,annotationCanvasMap:S,operatorList:f,pageIndex:o,canvasFactory:a,useRequestAnimationFrame:_=!1,pdfBug:D=!1,pageColors:R=null}){this.callback=s,this.params=l,this.objs=h,this.commonObjs=E,this.annotationCanvasMap=S,this.operatorListIdx=null,this.operatorList=f,this._pageIndex=o,this.canvasFactory=a,this._pdfBug=D,this.pageColors=R,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=l.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:s=!1,optionalContentConfig:l}){var a;if(this.cancelled)return;if(this._canvas){if(B(k,F).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");B(k,F).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)==null?void 0:a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:h,viewport:E,transform:S,imageLayer:f,background:o}=this.params;this.gfx=new _canvas.CanvasGraphics(h,this.commonObjs,this.objs,this.canvasFactory,f,l,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:S,viewport:E,transparency:s,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(s=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&B(k,F).delete(this._canvas),this.callback(s||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&B(k,F).delete(this._canvas),this.callback())))}};let InternalRenderTask=k;F=new WeakMap,fe(InternalRenderTask,F,new WeakSet);const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(P,c,v)=>{var x,Ln,T;Object.defineProperty(c,"__esModule",{value:!0}),c.PrintAnnotationStorage=c.AnnotationStorage=void 0;var n=v(1),i=v(6),d=v(10);class I{constructor(){fe(this,x);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(F,k){const p=this._storage.get(F);return p===void 0?k:Object.assign(k,p)}getRawValue(F){return this._storage.get(F)}remove(F){if(this._storage.delete(F),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const k of this._storage.values())if(k instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(F,k){const p=this._storage.get(F);let s=!1;if(p!==void 0)for(const[l,h]of Object.entries(k))p[l]!==h&&(s=!0,p[l]=h);else s=!0,this._storage.set(F,k);s&&be(this,x,Ln).call(this),k instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(k.constructor._type)}has(F){return this._storage.has(F)}getAll(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new O(this)}get serializable(){if(this._storage.size===0)return null;const F=new Map;for(const[k,p]of this._storage){const s=p instanceof i.AnnotationEditor?p.serialize():p;s&&F.set(k,s)}return F}static getHash(F){if(!F)return"";const k=new d.MurmurHash3_64;for(const[p,s]of F)k.update(`${p}:${JSON.stringify(s)}`);return k.hexdigest()}}x=new WeakSet,Ln=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},c.AnnotationStorage=I;class O extends I{constructor(k){super();fe(this,T,null);Ae(this,T,structuredClone(k.serializable))}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return B(this,T)}}T=new WeakMap,c.PrintAnnotationStorage=O},(P,c,v)=>{var I,O,x,b,T,N;Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditor=void 0;var n=v(7),i=v(1);const F=class{constructor(p){fe(this,I,this.focusin.bind(this));fe(this,O,this.focusout.bind(this));fe(this,x,!1);fe(this,b,!1);fe(this,T,!1);fe(this,N,F._zIndex++);this.constructor===F&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=p.parent,this.id=p.id,this.width=this.height=null,this.pageIndex=p.parent.pageIndex,this.name=p.name,this.div=null;const[s,l]=this.parent.viewportBaseDimensions;this.x=p.x/s,this.y=p.y/l,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=B(this,N)}focusin(p){B(this,x)?Ae(this,x,!1):this.parent.setSelected(this)}focusout(p){if(!this.isAttachedToDOM)return;const s=p.relatedTarget;s!=null&&s.closest(`#${this.id}`)||(p.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(p){const s=this.parent.div.getBoundingClientRect();this.startX=p.clientX-s.x,this.startY=p.clientY-s.y,p.dataTransfer.setData("text/plain",this.id),p.dataTransfer.effectAllowed="move"}setAt(p,s,l,h){const[E,S]=this.parent.viewportBaseDimensions;[l,h]=this.screenToPageTranslation(l,h),this.x=(p+l)/E,this.y=(s+h)/S,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(p,s){const[l,h]=this.parent.viewportBaseDimensions;[p,s]=this.screenToPageTranslation(p,s),this.x+=p/l,this.y+=s/h,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(p,s){const{rotation:l}=this.parent.viewport;switch(l){case 90:return[s,-p];case 180:return[-p,-s];case 270:return[-s,p];default:return[p,s]}}setDims(p,s){const[l,h]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*p/l}%`,this.div.style.height=`${100*s/h}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",B(this,I)),this.div.addEventListener("focusout",B(this,O));const[p,s]=this.getInitialTranslation();return this.translate(p,s),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(p){const s=n.KeyboardManager.platform.isMac;if(p.button!==0||p.ctrlKey&&s){p.preventDefault();return}p.ctrlKey&&!s||p.shiftKey||p.metaKey&&s?this.parent.toggleSelected(this):this.parent.setSelected(this),Ae(this,x,!0)}getRect(p,s){const[l,h]=this.parent.viewportBaseDimensions,[E,S]=this.parent.pageDimensions,f=E*p/l,o=S*s/h,a=this.x*E,_=this.y*S,D=this.width*E,R=this.height*S;switch(this.rotation){case 0:return[a+f,S-_-o-R,a+f+D,S-_-o];case 90:return[a+o,S-_+f,a+o+R,S-_+f+D];case 180:return[a-f-D,S-_+o,a-f,S-_+o+R];case 270:return[a-o-R,S-_-f-D,a-o,S-_-f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(p,s){const[l,h,E,S]=p,f=E-l,o=S-h;switch(this.rotation){case 0:return[l,s-S,f,o];case 90:return[l,s-h,o,f];case 180:return[E,s-h,f,o];case 270:return[E,s-S,o,f];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Ae(this,T,!0)}disableEditMode(){Ae(this,T,!1)}isInEditMode(){return B(this,T)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var p;(p=this.div)==null||p.addEventListener("focusin",B(this,I))}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(p,s){const l=new this.prototype.constructor({parent:s,id:s.getNextId()});l.rotation=p.rotation;const[h,E]=s.pageDimensions,[S,f,o,a]=l.getRectInCurrentCoords(p.rect,E);return l.x=S/h,l.y=f/E,l.width=o/h,l.height=a/E,l}remove(){this.div.removeEventListener("focusin",B(this,I)),this.div.removeEventListener("focusout",B(this,O)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var p;(p=this.div)==null||p.classList.add("selectedEditor")}unselect(){var p;(p=this.div)==null||p.classList.remove("selectedEditor")}updateParams(p,s){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return B(this,b)}set isEditing(p){Ae(this,b,p),p?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let d=F;I=new WeakMap,O=new WeakMap,x=new WeakMap,b=new WeakMap,T=new WeakMap,N=new WeakMap,ze(d,"_colorManager",new n.ColorManager),ze(d,"_zIndex",1),c.AnnotationEditor=d},(P,c,v)=>{var k,p,s,l,h,E,Dn,o,_,D,R,A,j,oe,ce,ne,te,X,Q,ee,le,ge,xe,V,y,g,Nn,q,Wt,G,Qe,Z,wt,w,jn,M,Bn,W,qt,me,vt,ue,Ct;Object.defineProperty(c,"__esModule",{value:!0}),c.KeyboardManager=c.CommandManager=c.ColorManager=c.AnnotationEditorUIManager=void 0,c.bindEvents=d,c.opacityToHex=I;var n=v(1),i=v(8);function d(ve,$,ye){for(const Ce of ye)$.addEventListener(Ce,ve[Ce].bind(ve))}function I(ve){return Math.round(Math.min(255,Math.max(1,255*ve))).toString(16).padStart(2,"0")}class O{constructor(){fe(this,k,0)}getId(){return`${n.AnnotationEditorPrefix}${Ut(this,k)._++}`}}k=new WeakMap;class x{constructor($=128){fe(this,p,[]);fe(this,s,!1);fe(this,l,void 0);fe(this,h,-1);Ae(this,l,$)}add({cmd:$,undo:ye,mustExec:Ce,type:ke=NaN,overwriteIfSameType:Fe=!1,keepUndo:Me=!1}){if(Ce&&$(),B(this,s))return;const Be={cmd:$,undo:ye,type:ke};if(B(this,h)===-1){B(this,p).length>0&&(B(this,p).length=0),Ae(this,h,0),B(this,p).push(Be);return}if(Fe&&B(this,p)[B(this,h)].type===ke){Me&&(Be.undo=B(this,p)[B(this,h)].undo),B(this,p)[B(this,h)]=Be;return}const Pe=B(this,h)+1;Pe===B(this,l)?B(this,p).splice(0,1):(Ae(this,h,Pe),Pe<B(this,p).length&&B(this,p).splice(Pe)),B(this,p).push(Be)}undo(){B(this,h)!==-1&&(Ae(this,s,!0),B(this,p)[B(this,h)].undo(),Ae(this,s,!1),Ae(this,h,B(this,h)-1))}redo(){B(this,h)<B(this,p).length-1&&(Ae(this,h,B(this,h)+1),Ae(this,s,!0),B(this,p)[B(this,h)].cmd(),Ae(this,s,!1))}hasSomethingToUndo(){return B(this,h)!==-1}hasSomethingToRedo(){return B(this,h)<B(this,p).length-1}destroy(){Ae(this,p,null)}}p=new WeakMap,s=new WeakMap,l=new WeakMap,h=new WeakMap,c.CommandManager=x;const f=class{constructor($){fe(this,E);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const ye=f.platform.isMac;for(const[Ce,ke]of $)for(const Fe of Ce){const Me=Fe.startsWith("mac+");ye&&Me?(this.callbacks.set(Fe.slice(4),ke),this.allKeys.add(Fe.split("+").at(-1))):!ye&&!Me&&(this.callbacks.set(Fe,ke),this.allKeys.add(Fe.split("+").at(-1)))}}static get platform(){const $=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:$.includes("Win"),isMac:$.includes("Mac")})}exec($,ye){if(!this.allKeys.has(ye.key))return;const Ce=this.callbacks.get(be(this,E,Dn).call(this,ye));!Ce||(Ce.bind($)(),ye.stopPropagation(),ye.preventDefault())}};let b=f;E=new WeakSet,Dn=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ye=this.buffer.join("+");return this.buffer.length=0,ye},c.KeyboardManager=b;class T{constructor(){fe(this,o,null)}copy($){!$||(Array.isArray($)?Ae(this,o,$.map(ye=>ye.serialize())):Ae(this,o,[$.serialize()]),Ae(this,o,B(this,o).filter(ye=>!!ye)),B(this,o).length===0&&Ae(this,o,null))}paste(){return B(this,o)}isEmpty(){return B(this,o)===null}destroy(){Ae(this,o,null)}}o=new WeakMap;const a=class{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)($),(0,n.shadow)(this,"_colors",$)}convert($){const ye=(0,i.getRGB)($);if(!window.matchMedia("(forced-colors: active)").matches)return ye;for(const[Ce,ke]of this._colors)if(ke.every((Fe,Me)=>Fe===ye[Me]))return a._colorsMapping.get(Ce);return ye}getHexCode($){const ye=this._colors.get($);return ye?n.Util.makeHexColor(...ye):$}};let N=a;ze(N,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),c.ColorManager=N;const pe=class{constructor($,ye){fe(this,g);fe(this,q);fe(this,G);fe(this,Z);fe(this,w);fe(this,M);fe(this,W);fe(this,me);fe(this,ue);fe(this,_,null);fe(this,D,new Map);fe(this,R,new Map);fe(this,A,new T);fe(this,j,new x);fe(this,oe,0);fe(this,ce,null);fe(this,ne,null);fe(this,te,new O);fe(this,X,!1);fe(this,Q,n.AnnotationEditorType.NONE);fe(this,ee,new Set);fe(this,le,this.keydown.bind(this));fe(this,ge,this.onEditingAction.bind(this));fe(this,xe,this.onPageChanging.bind(this));fe(this,V,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});fe(this,y,null);Ae(this,y,$),Ae(this,ne,ye),B(this,ne)._on("editingaction",B(this,ge)),B(this,ne)._on("pagechanging",B(this,xe))}destroy(){be(this,q,Wt).call(this),B(this,ne)._off("editingaction",B(this,ge)),B(this,ne)._off("pagechanging",B(this,xe));for(const $ of B(this,R).values())$.destroy();B(this,R).clear(),B(this,D).clear(),Ae(this,_,null),B(this,ee).clear(),B(this,A).destroy(),B(this,j).destroy()}onPageChanging({pageNumber:$}){Ae(this,oe,$-1)}focusMainContainer(){B(this,y).focus()}keydown($){var ye;(ye=this.getActive())!=null&&ye.shouldGetKeyboardEvents()||pe._keyboardManager.exec(this,$)}onEditingAction($){["undo","redo","cut","copy","paste","delete","selectAll"].includes($.name)&&this[$.name]()}setEditingState($){$?(be(this,g,Nn).call(this),be(this,G,Qe).call(this,{isEditing:B(this,Q)!==n.AnnotationEditorType.NONE,isEmpty:be(this,me,vt).call(this),hasSomethingToUndo:B(this,j).hasSomethingToUndo(),hasSomethingToRedo:B(this,j).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:B(this,A).isEmpty()})):(be(this,q,Wt).call(this),be(this,G,Qe).call(this,{isEditing:!1}))}registerEditorTypes($){Ae(this,ce,$);for(const ye of B(this,ce))be(this,Z,wt).call(this,ye.defaultPropertiesToUpdate)}getId(){return B(this,te).getId()}addLayer($){B(this,R).set($.pageIndex,$),B(this,X)?$.enable():$.disable()}removeLayer($){B(this,R).delete($.pageIndex)}updateMode($){if(Ae(this,Q,$),$===n.AnnotationEditorType.NONE)this.setEditingState(!1),be(this,M,Bn).call(this);else{this.setEditingState(!0),be(this,w,jn).call(this);for(const ye of B(this,R).values())ye.updateMode($)}}updateToolbar($){$!==B(this,Q)&&B(this,ne).dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ye){for(const Ce of B(this,ee))Ce.updateParams($,ye);for(const Ce of B(this,ce))Ce.updateDefaultParams($,ye)}getEditors($){const ye=[];for(const Ce of B(this,D).values())Ce.pageIndex===$&&ye.push(Ce);return ye}getEditor($){return B(this,D).get($)}addEditor($){B(this,D).set($.id,$)}removeEditor($){B(this,D).delete($.id),this.unselect($)}setActiveEditor($){B(this,_)!==$&&(Ae(this,_,$),$&&be(this,Z,wt).call(this,$.propertiesToUpdate))}toggleSelected($){if(B(this,ee).has($)){B(this,ee).delete($),$.unselect(),be(this,G,Qe).call(this,{hasSelectedEditor:this.hasSelection});return}B(this,ee).add($),$.select(),be(this,Z,wt).call(this,$.propertiesToUpdate),be(this,G,Qe).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ye of B(this,ee))ye!==$&&ye.unselect();B(this,ee).clear(),B(this,ee).add($),$.select(),be(this,Z,wt).call(this,$.propertiesToUpdate),be(this,G,Qe).call(this,{hasSelectedEditor:!0})}isSelected($){return B(this,ee).has($)}unselect($){$.unselect(),B(this,ee).delete($),be(this,G,Qe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return B(this,ee).size!==0}undo(){B(this,j).undo(),be(this,G,Qe).call(this,{hasSomethingToUndo:B(this,j).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:be(this,me,vt).call(this)})}redo(){B(this,j).redo(),be(this,G,Qe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:B(this,j).hasSomethingToRedo(),isEmpty:be(this,me,vt).call(this)})}addCommands($){B(this,j).add($),be(this,G,Qe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:be(this,me,vt).call(this)})}delete(){if(B(this,_)&&B(this,_).commitOrRemove(),!this.hasSelection)return;const $=[...B(this,ee)],ye=()=>{for(const ke of $)ke.remove()},Ce=()=>{for(const ke of $)be(this,W,qt).call(this,ke)};this.addCommands({cmd:ye,undo:Ce,mustExec:!0})}copy(){if(B(this,_)&&B(this,_).commitOrRemove(),this.hasSelection){const $=[];for(const ye of B(this,ee))ye.isEmpty()||$.push(ye);if($.length===0)return;B(this,A).copy($),be(this,G,Qe).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(B(this,A).isEmpty())return;this.unselectAll();const $=B(this,R).get(B(this,oe)),ye=B(this,A).paste().map(Fe=>$.deserialize(Fe)),Ce=()=>{for(const Fe of ye)be(this,W,qt).call(this,Fe);be(this,ue,Ct).call(this,ye)},ke=()=>{for(const Fe of ye)Fe.remove()};this.addCommands({cmd:Ce,undo:ke,mustExec:!0})}selectAll(){for(const $ of B(this,ee))$.commit();be(this,ue,Ct).call(this,B(this,D).values())}unselectAll(){if(B(this,_)){B(this,_).commitOrRemove();return}if(be(this,ue,Ct).size!==0){for(const $ of B(this,ee))$.unselect();B(this,ee).clear(),be(this,G,Qe).call(this,{hasSelectedEditor:!1})}}isActive($){return B(this,_)===$}getActive(){return B(this,_)}getMode(){return B(this,Q)}};let F=pe;_=new WeakMap,D=new WeakMap,R=new WeakMap,A=new WeakMap,j=new WeakMap,oe=new WeakMap,ce=new WeakMap,ne=new WeakMap,te=new WeakMap,X=new WeakMap,Q=new WeakMap,ee=new WeakMap,le=new WeakMap,ge=new WeakMap,xe=new WeakMap,V=new WeakMap,y=new WeakMap,g=new WeakSet,Nn=function(){B(this,y).addEventListener("keydown",B(this,le))},q=new WeakSet,Wt=function(){B(this,y).removeEventListener("keydown",B(this,le))},G=new WeakSet,Qe=function($){Object.entries($).some(([Ce,ke])=>B(this,V)[Ce]!==ke)&&B(this,ne).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(B(this,V),$)})},Z=new WeakSet,wt=function($){B(this,ne).dispatch("annotationeditorparamschanged",{source:this,details:$})},w=new WeakSet,jn=function(){if(!B(this,X)){Ae(this,X,!0);for(const $ of B(this,R).values())$.enable()}},M=new WeakSet,Bn=function(){if(this.unselectAll(),B(this,X)){Ae(this,X,!1);for(const $ of B(this,R).values())$.disable()}},W=new WeakSet,qt=function($){const ye=B(this,R).get($.pageIndex);ye?ye.addOrRebuild($):this.addEditor($)},me=new WeakSet,vt=function(){if(B(this,D).size===0)return!0;if(B(this,D).size===1)for(const $ of B(this,D).values())return $.isEmpty();return!1},ue=new WeakSet,Ct=function($){B(this,ee).clear();for(const ye of $)ye.isEmpty()||(B(this,ee).add(ye),ye.select());be(this,G,Qe).call(this,{hasSelectedEditor:!0})},ze(F,"_keyboardManager",new b([[["ctrl+a","mac+meta+a"],pe.prototype.selectAll],[["ctrl+c","mac+meta+c"],pe.prototype.copy],[["ctrl+v","mac+meta+v"],pe.prototype.paste],[["ctrl+x","mac+meta+x"],pe.prototype.cut],[["ctrl+z","mac+meta+z"],pe.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],pe.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],pe.prototype.delete],[["Escape","mac+Escape"],pe.prototype.unselectAll]])),c.AnnotationEditorUIManager=F},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.StatTimer=c.RenderingCancelledException=c.PixelsPerInch=c.PageViewport=c.PDFDateString=c.DOMStandardFontDataFactory=c.DOMSVGFactory=c.DOMCanvasFactory=c.DOMCMapReaderFactory=c.AnnotationPrefix=void 0,c.deprecated=a,c.getColorValues=j,c.getCurrentTransform=oe,c.getCurrentTransformInverse=ce,c.getFilenameFromUrl=h,c.getPdfFilenameFromUrl=E,c.getRGB=A,c.getXfaPageViewport=R,c.isDataScheme=s,c.isPdfFile=l,c.isValidFetchUrl=f,c.loadScript=o;var n=v(9),i=v(1);const d="http://www.w3.org/2000/svg",I="pdfjs_internal_id_";c.AnnotationPrefix=I;const ne=class{};let O=ne;ze(O,"CSS",96),ze(O,"PDF",72),ze(O,"PDF_TO_CSS_UNITS",ne.CSS/ne.PDF),c.PixelsPerInch=O;class x extends n.BaseCanvasFactory{constructor({ownerDocument:X=globalThis.document}={}){super(),this._document=X}_createCanvas(X,Q){const ee=this._document.createElement("canvas");return ee.width=X,ee.height=Q,ee}}c.DOMCanvasFactory=x;async function b(te,X=!1){if(f(te,document.baseURI)){const Q=await fetch(te);if(!Q.ok)throw new Error(Q.statusText);return X?new Uint8Array(await Q.arrayBuffer()):(0,i.stringToBytes)(await Q.text())}return new Promise((Q,ee)=>{const le=new XMLHttpRequest;le.open("GET",te,!0),X&&(le.responseType="arraybuffer"),le.onreadystatechange=()=>{if(le.readyState===XMLHttpRequest.DONE){if(le.status===200||le.status===0){let ge;if(X&&le.response?ge=new Uint8Array(le.response):!X&&le.responseText&&(ge=(0,i.stringToBytes)(le.responseText)),ge){Q(ge);return}}ee(new Error(le.statusText))}},le.send(null)})}class T extends n.BaseCMapReaderFactory{_fetchData(X,Q){return b(X,this.isCompressed).then(ee=>({cMapData:ee,compressionType:Q}))}}c.DOMCMapReaderFactory=T;class N extends n.BaseStandardFontDataFactory{_fetchData(X){return b(X,!0)}}c.DOMStandardFontDataFactory=N;class F extends n.BaseSVGFactory{_createSVG(X){return document.createElementNS(d,X)}}c.DOMSVGFactory=F;class k{constructor({viewBox:X,scale:Q,rotation:ee,offsetX:le=0,offsetY:ge=0,dontFlip:xe=!1}){this.viewBox=X,this.scale=Q,this.rotation=ee,this.offsetX=le,this.offsetY=ge;const V=(X[2]+X[0])/2,y=(X[3]+X[1])/2;let g,L,q,H;switch(ee%=360,ee<0&&(ee+=360),ee){case 180:g=-1,L=0,q=0,H=1;break;case 90:g=0,L=1,q=1,H=0;break;case 270:g=0,L=-1,q=-1,H=0;break;case 0:g=1,L=0,q=0,H=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}xe&&(q=-q,H=-H);let G,K,Z,u;g===0?(G=Math.abs(y-X[1])*Q+le,K=Math.abs(V-X[0])*Q+ge,Z=Math.abs(X[3]-X[1])*Q,u=Math.abs(X[2]-X[0])*Q):(G=Math.abs(V-X[0])*Q+le,K=Math.abs(y-X[1])*Q+ge,Z=Math.abs(X[2]-X[0])*Q,u=Math.abs(X[3]-X[1])*Q),this.transform=[g*Q,L*Q,q*Q,H*Q,G-g*Q*V-q*Q*y,K-L*Q*V-H*Q*y],this.width=Z,this.height=u}clone({scale:X=this.scale,rotation:Q=this.rotation,offsetX:ee=this.offsetX,offsetY:le=this.offsetY,dontFlip:ge=!1}={}){return new k({viewBox:this.viewBox.slice(),scale:X,rotation:Q,offsetX:ee,offsetY:le,dontFlip:ge})}convertToViewportPoint(X,Q){return i.Util.applyTransform([X,Q],this.transform)}convertToViewportRectangle(X){const Q=i.Util.applyTransform([X[0],X[1]],this.transform),ee=i.Util.applyTransform([X[2],X[3]],this.transform);return[Q[0],Q[1],ee[0],ee[1]]}convertToPdfPoint(X,Q){return i.Util.applyInverseTransform([X,Q],this.transform)}}c.PageViewport=k;class p extends i.BaseException{constructor(X,Q){super(X,"RenderingCancelledException"),this.type=Q}}c.RenderingCancelledException=p;function s(te){const X=te.length;let Q=0;for(;Q<X&&te[Q].trim()==="";)Q++;return te.substring(Q,Q+5).toLowerCase()==="data:"}function l(te){return typeof te=="string"&&/\.pdf$/i.test(te)}function h(te){const X=te.indexOf("#"),Q=te.indexOf("?"),ee=Math.min(X>0?X:te.length,Q>0?Q:te.length);return te.substring(te.lastIndexOf("/",ee)+1,ee)}function E(te,X="document.pdf"){if(typeof te!="string")return X;if(s(te))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),X;const Q=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,ee=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,le=Q.exec(te);let ge=ee.exec(le[1])||ee.exec(le[2])||ee.exec(le[3]);if(ge&&(ge=ge[0],ge.includes("%")))try{ge=ee.exec(decodeURIComponent(ge))[0]}catch{}return ge||X}class S{constructor(){this.started=Object.create(null),this.times=[]}time(X){X in this.started&&(0,i.warn)(`Timer is already running for ${X}`),this.started[X]=Date.now()}timeEnd(X){X in this.started||(0,i.warn)(`Timer has not been started for ${X}`),this.times.push({name:X,start:this.started[X],end:Date.now()}),delete this.started[X]}toString(){const X=[];let Q=0;for(const ee of this.times){const le=ee.name;le.length>Q&&(Q=le.length)}for(const ee of this.times){const le=ee.end-ee.start;X.push(`${ee.name.padEnd(Q)} ${le}ms
`)}return X.join("")}}c.StatTimer=S;function f(te,X){try{const{protocol:Q}=X?new URL(te,X):new URL(te);return Q==="http:"||Q==="https:"}catch{return!1}}function o(te,X=!1){return new Promise((Q,ee)=>{const le=document.createElement("script");le.src=te,le.onload=function(ge){X&&le.remove(),Q(ge)},le.onerror=function(){ee(new Error(`Cannot load script at: ${le.src}`))},(document.head||document.documentElement).append(le)})}function a(te){console.log("Deprecated API usage: "+te)}let _;class D{static toDateObject(X){if(!X||typeof X!="string")return null;_||(_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Q=_.exec(X);if(!Q)return null;const ee=parseInt(Q[1],10);let le=parseInt(Q[2],10);le=le>=1&&le<=12?le-1:0;let ge=parseInt(Q[3],10);ge=ge>=1&&ge<=31?ge:1;let xe=parseInt(Q[4],10);xe=xe>=0&&xe<=23?xe:0;let V=parseInt(Q[5],10);V=V>=0&&V<=59?V:0;let y=parseInt(Q[6],10);y=y>=0&&y<=59?y:0;const g=Q[7]||"Z";let L=parseInt(Q[8],10);L=L>=0&&L<=23?L:0;let q=parseInt(Q[9],10)||0;return q=q>=0&&q<=59?q:0,g==="-"?(xe+=L,V+=q):g==="+"&&(xe-=L,V-=q),new Date(Date.UTC(ee,le,ge,xe,V,y))}}c.PDFDateString=D;function R(te,{scale:X=1,rotation:Q=0}){const{width:ee,height:le}=te.attributes.style,ge=[0,0,parseInt(ee),parseInt(le)];return new k({viewBox:ge,scale:X,rotation:Q})}function A(te){if(te.startsWith("#")){const X=parseInt(te.slice(1),16);return[(X&16711680)>>16,(X&65280)>>8,X&255]}return te.startsWith("rgb(")?te.slice(4,-1).split(",").map(X=>parseInt(X)):te.startsWith("rgba(")?te.slice(5,-1).split(",").map(X=>parseInt(X)).slice(0,3):((0,i.warn)(`Not a valid color format: "${te}"`),[0,0,0])}function j(te){const X=document.createElement("span");X.style.visibility="hidden",document.body.append(X);for(const Q of te.keys()){X.style.color=Q;const ee=window.getComputedStyle(X).color;te.set(Q,A(ee))}X.remove()}function oe(te){const{a:X,b:Q,c:ee,d:le,e:ge,f:xe}=te.getTransform();return[X,Q,ee,le,ge,xe]}function ce(te){const{a:X,b:Q,c:ee,d:le,e:ge,f:xe}=te.getTransform().invertSelf();return[X,Q,ee,le,ge,xe]}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.BaseStandardFontDataFactory=c.BaseSVGFactory=c.BaseCanvasFactory=c.BaseCMapReaderFactory=void 0;var n=v(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(b,T){if(b<=0||T<=0)throw new Error("Invalid canvas size");const N=this._createCanvas(b,T);return{canvas:N,context:N.getContext("2d")}}reset(b,T,N){if(!b.canvas)throw new Error("Canvas is not specified");if(T<=0||N<=0)throw new Error("Invalid canvas size");b.canvas.width=T,b.canvas.height=N}destroy(b){if(!b.canvas)throw new Error("Canvas is not specified");b.canvas.width=0,b.canvas.height=0,b.canvas=null,b.context=null}_createCanvas(b,T){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}c.BaseCanvasFactory=i;class d{constructor({baseUrl:b=null,isCompressed:T=!1}){this.constructor===d&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=b,this.isCompressed=T}async fetch({name:b}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!b)throw new Error("CMap name must be specified.");const T=this.baseUrl+b+(this.isCompressed?".bcmap":""),N=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(T,N).catch(F=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${T}`)})}_fetchData(b,T){(0,n.unreachable)("Abstract method `_fetchData` called.")}}c.BaseCMapReaderFactory=d;class I{constructor({baseUrl:b=null}){this.constructor===I&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=b}async fetch({filename:b}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!b)throw new Error("Font filename must be specified.");const T=`${this.baseUrl}${b}`;return this._fetchData(T).catch(N=>{throw new Error(`Unable to load font data at: ${T}`)})}_fetchData(b){(0,n.unreachable)("Abstract method `_fetchData` called.")}}c.BaseStandardFontDataFactory=I;class O{constructor(){this.constructor===O&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(b,T,N=!1){if(b<=0||T<=0)throw new Error("Invalid SVG dimensions");const F=this._createSVG("svg:svg");return F.setAttribute("version","1.1"),N||(F.setAttribute("width",`${b}px`),F.setAttribute("height",`${T}px`)),F.setAttribute("preserveAspectRatio","none"),F.setAttribute("viewBox",`0 0 ${b} ${T}`),F}createElement(b){if(typeof b!="string")throw new Error("Invalid SVG element type");return this._createSVG(b)}_createSVG(b){(0,n.unreachable)("Abstract method `_createSVG` called.")}}c.BaseSVGFactory=O},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MurmurHash3_64=void 0;var n=v(1);const i=3285377520,d=4294901760,I=65535;class O{constructor(b){this.h1=b?b&4294967295:i,this.h2=b?b&4294967295:i}update(b){let T,N;if(typeof b=="string"){T=new Uint8Array(b.length*2),N=0;for(let _=0,D=b.length;_<D;_++){const R=b.charCodeAt(_);R<=255?T[N++]=R:(T[N++]=R>>>8,T[N++]=R&255)}}else if((0,n.isArrayBuffer)(b))T=b.slice(),N=T.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const F=N>>2,k=N-F*4,p=new Uint32Array(T.buffer,0,F);let s=0,l=0,h=this.h1,E=this.h2;const S=3432918353,f=461845907,o=S&I,a=f&I;for(let _=0;_<F;_++)_&1?(s=p[_],s=s*S&d|s*o&I,s=s<<15|s>>>17,s=s*f&d|s*a&I,h^=s,h=h<<13|h>>>19,h=h*5+3864292196):(l=p[_],l=l*S&d|l*o&I,l=l<<15|l>>>17,l=l*f&d|l*a&I,E^=l,E=E<<13|E>>>19,E=E*5+3864292196);switch(s=0,k){case 3:s^=T[F*4+2]<<16;case 2:s^=T[F*4+1]<<8;case 1:s^=T[F*4],s=s*S&d|s*o&I,s=s<<15|s>>>17,s=s*f&d|s*a&I,F&1?h^=s:E^=s}this.h1=h,this.h2=E}hexdigest(){let b=this.h1,T=this.h2;b^=T>>>1,b=b*3981806797&d|b*36045&I,T=T*4283543511&d|((T<<16|b>>>16)*2950163797&d)>>>16,b^=T>>>1,b=b*444984403&d|b*60499&I,T=T*3301882366&d|((T<<16|b>>>16)*3120437893&d)>>>16,b^=T>>>1;const N=(b>>>0).toString(16),F=(T>>>0).toString(16);return N.padStart(8,"0")+F.padStart(8,"0")}}c.MurmurHash3_64=O},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.FontLoader=c.FontFaceObject=void 0;var n=v(1);class i{constructor({docId:x,onUnsupportedFeature:b,ownerDocument:T=globalThis.document,styleElement:N=null}){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=b,this._document=T,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}insertRule(x){let b=this.styleElement;b||(b=this.styleElement=this._document.createElement("style"),b.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(b));const T=b.sheet;T.insertRule(x,T.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(x){if(x.attached||x.missingFile)return;if(x.attached=!0,this.isFontLoadingAPISupported){const T=x.createNativeFontFace();if(T){this.addNativeFontFace(T);try{await T.loaded}catch(N){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${T.family}': '${N}'.`),x.disableFontFace=!0,N}}return}const b=x.createFontFaceRule();if(b){if(this.insertRule(b),this.isSyncFontLoadingSupported)return;await new Promise(T=>{const N=this._queueLoadingCallback(T);this._prepareFontLoadEvent([b],[x],N)})}}_queueLoadingCallback(x){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var b;const x=!!((b=this._document)!=null&&b.fonts);return(0,n.shadow)(this,"isFontLoadingAPISupported",x)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(x,b,T){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let d;c.FontLoader=d,c.FontLoader=d=class extends i{constructor(x){super(x),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let x=!1;if(typeof navigator>"u")x=!0;else{const b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(b==null?void 0:b[1])>=14&&(x=!0)}return(0,n.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){function b(){for((0,n.assert)(!N.done,"completeRequest() cannot be called twice."),N.done=!0;T.requests.length>0&&T.requests[0].done;){const F=T.requests.shift();setTimeout(F.callback,0)}}const T=this.loadingContext,N={id:`pdfjs-font-loading-${T.nextRequestId++}`,done:!1,complete:b,callback:x};return T.requests.push(N),N}get _loadTestFont(){const x=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,n.shadow)(this,"_loadTestFont",x())}_prepareFontLoadEvent(x,b,T){function N(ce,ne){return ce.charCodeAt(ne)<<24|ce.charCodeAt(ne+1)<<16|ce.charCodeAt(ne+2)<<8|ce.charCodeAt(ne+3)&255}function F(ce,ne,te,X){const Q=ce.substring(0,ne),ee=ce.substring(ne+te);return Q+X+ee}let k,p;const s=this._document.createElement("canvas");s.width=1,s.height=1;const l=s.getContext("2d");let h=0;function E(ce,ne){if(h++,h>30){(0,n.warn)("Load test font never loaded."),ne();return}if(l.font="30px "+ce,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){ne();return}setTimeout(E.bind(null,ce,ne))}const S=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=F(f,976,S.length,S);const a=16,_=1482184792;let D=N(f,a);for(k=0,p=S.length-3;k<p;k+=4)D=D-_+N(S,k)|0;k<S.length&&(D=D-_+N(S+"XXX",k)|0),f=F(f,a,4,(0,n.string32)(D));const R=`url(data:font/opentype;base64,${btoa(f)});`,A=`@font-face {font-family:"${S}";src:${R}}`;this.insertRule(A);const j=[];for(const ce of b)j.push(ce.loadedName);j.push(S);const oe=this._document.createElement("div");oe.style.visibility="hidden",oe.style.width=oe.style.height="10px",oe.style.position="absolute",oe.style.top=oe.style.left="0px";for(const ce of j){const ne=this._document.createElement("span");ne.textContent="Hi",ne.style.fontFamily=ce,oe.append(ne)}this._document.body.append(oe),E(S,()=>{oe.remove(),T.complete()})}};class I{constructor(x,{isEvalSupported:b=!0,disableFontFace:T=!1,ignoreErrors:N=!1,onUnsupportedFeature:F,fontRegistry:k=null}){this.compiledGlyphs=Object.create(null);for(const p in x)this[p]=x[p];this.isEvalSupported=b!==!1,this.disableFontFace=T===!0,this.ignoreErrors=N===!0,this._onUnsupportedFeature=F,this.fontRegistry=k}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{const b={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(b.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,b)}return this.fontRegistry&&this.fontRegistry.registerFont(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,n.bytesToString)(this.data),b=`url(data:${this.mimetype};base64,${btoa(x)});`;let T;if(!this.cssFontInfo)T=`@font-face {font-family:"${this.loadedName}";src:${b}}`;else{let N=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(N+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),T=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${N}src:${b}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,b),T}getPathGenerator(x,b){if(this.compiledGlyphs[b]!==void 0)return this.compiledGlyphs[b];let T;try{T=x.get(this.loadedName+"_path_"+b)}catch(N){if(!this.ignoreErrors)throw N;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${N}".`),this.compiledGlyphs[b]=function(F,k){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){const N=[];for(const F of T){const k=F.args!==void 0?F.args.join(","):"";N.push("c.",F.cmd,"(",k,`);
`)}return this.compiledGlyphs[b]=new Function("c","size",N.join(""))}return this.compiledGlyphs[b]=function(N,F){for(const k of T)k.cmd==="scale"&&(k.args=[F,-F]),N[k.cmd].apply(N,k.args)}}}c.FontFaceObject=I},(P,c,v)=>{var le,Ht;Object.defineProperty(c,"__esModule",{value:!0}),c.CanvasGraphics=void 0;var n=v(8),i=v(1),d=v(13),I=v(14),O=v(3);const x=16,b=100,T=4096,N=15,F=10,k=O.isNodeJS&&typeof Path2D>"u"?-1:1e3,p=16;function s(V,y){if(V._removeMirroring)throw new Error("Context is already forwarding operations.");V.__originalSave=V.save,V.__originalRestore=V.restore,V.__originalRotate=V.rotate,V.__originalScale=V.scale,V.__originalTranslate=V.translate,V.__originalTransform=V.transform,V.__originalSetTransform=V.setTransform,V.__originalResetTransform=V.resetTransform,V.__originalClip=V.clip,V.__originalMoveTo=V.moveTo,V.__originalLineTo=V.lineTo,V.__originalBezierCurveTo=V.bezierCurveTo,V.__originalRect=V.rect,V.__originalClosePath=V.closePath,V.__originalBeginPath=V.beginPath,V._removeMirroring=()=>{V.save=V.__originalSave,V.restore=V.__originalRestore,V.rotate=V.__originalRotate,V.scale=V.__originalScale,V.translate=V.__originalTranslate,V.transform=V.__originalTransform,V.setTransform=V.__originalSetTransform,V.resetTransform=V.__originalResetTransform,V.clip=V.__originalClip,V.moveTo=V.__originalMoveTo,V.lineTo=V.__originalLineTo,V.bezierCurveTo=V.__originalBezierCurveTo,V.rect=V.__originalRect,V.closePath=V.__originalClosePath,V.beginPath=V.__originalBeginPath,delete V._removeMirroring},V.save=function(){y.save(),this.__originalSave()},V.restore=function(){y.restore(),this.__originalRestore()},V.translate=function(L,q){y.translate(L,q),this.__originalTranslate(L,q)},V.scale=function(L,q){y.scale(L,q),this.__originalScale(L,q)},V.transform=function(L,q,H,G,K,Z){y.transform(L,q,H,G,K,Z),this.__originalTransform(L,q,H,G,K,Z)},V.setTransform=function(L,q,H,G,K,Z){y.setTransform(L,q,H,G,K,Z),this.__originalSetTransform(L,q,H,G,K,Z)},V.resetTransform=function(){y.resetTransform(),this.__originalResetTransform()},V.rotate=function(L){y.rotate(L),this.__originalRotate(L)},V.clip=function(L){y.clip(L),this.__originalClip(L)},V.moveTo=function(g,L){y.moveTo(g,L),this.__originalMoveTo(g,L)},V.lineTo=function(g,L){y.lineTo(g,L),this.__originalLineTo(g,L)},V.bezierCurveTo=function(g,L,q,H,G,K){y.bezierCurveTo(g,L,q,H,G,K),this.__originalBezierCurveTo(g,L,q,H,G,K)},V.rect=function(g,L,q,H){y.rect(g,L,q,H),this.__originalRect(g,L,q,H)},V.closePath=function(){y.closePath(),this.__originalClosePath()},V.beginPath=function(){y.beginPath(),this.__originalBeginPath()}}class l{constructor(y){this.canvasFactory=y,this.cache=Object.create(null)}getCanvas(y,g,L){let q;return this.cache[y]!==void 0?(q=this.cache[y],this.canvasFactory.reset(q,g,L)):(q=this.canvasFactory.create(g,L),this.cache[y]=q),q}delete(y){delete this.cache[y]}clear(){for(const y in this.cache){const g=this.cache[y];this.canvasFactory.destroy(g),delete this.cache[y]}}}function h(V,y,g,L,q,H,G,K,Z,u){const[w,C,M,U,W,ae]=(0,n.getCurrentTransform)(V);if(C===0&&M===0){const ue=G*w+W,re=Math.round(ue),pe=K*U+ae,ve=Math.round(pe),$=(G+Z)*w+W,ye=Math.abs(Math.round($)-re)||1,Ce=(K+u)*U+ae,ke=Math.abs(Math.round(Ce)-ve)||1;return V.setTransform(Math.sign(w),0,0,Math.sign(U),re,ve),V.drawImage(y,g,L,q,H,0,0,ye,ke),V.setTransform(w,C,M,U,W,ae),[ye,ke]}if(w===0&&U===0){const ue=K*M+W,re=Math.round(ue),pe=G*C+ae,ve=Math.round(pe),$=(K+u)*M+W,ye=Math.abs(Math.round($)-re)||1,Ce=(G+Z)*C+ae,ke=Math.abs(Math.round(Ce)-ve)||1;return V.setTransform(0,Math.sign(C),Math.sign(M),0,re,ve),V.drawImage(y,g,L,q,H,0,0,ke,ye),V.setTransform(w,C,M,U,W,ae),[ke,ye]}V.drawImage(y,g,L,q,H,G,K,Z,u);const me=Math.hypot(w,C),ie=Math.hypot(M,U);return[me*Z,ie*u]}function E(V){const{width:y,height:g}=V;if(y>k||g>k)return null;const L=1e3,q=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),H=y+1;let G=new Uint8Array(H*(g+1)),K,Z,u;const w=y+7&-8;let C=new Uint8Array(w*g),M=0;for(const ie of V.data){let ue=128;for(;ue>0;)C[M++]=ie&ue?0:255,ue>>=1}let U=0;for(M=0,C[M]!==0&&(G[0]=1,++U),Z=1;Z<y;Z++)C[M]!==C[M+1]&&(G[Z]=C[M]?2:1,++U),M++;for(C[M]!==0&&(G[Z]=2,++U),K=1;K<g;K++){M=K*w,u=K*H,C[M-w]!==C[M]&&(G[u]=C[M]?1:8,++U);let ie=(C[M]?4:0)+(C[M-w]?8:0);for(Z=1;Z<y;Z++)ie=(ie>>2)+(C[M+1]?4:0)+(C[M-w+1]?8:0),q[ie]&&(G[u+Z]=q[ie],++U),M++;if(C[M-w]!==C[M]&&(G[u+Z]=C[M]?2:4,++U),U>L)return null}for(M=w*(g-1),u=K*H,C[M]!==0&&(G[u]=8,++U),Z=1;Z<y;Z++)C[M]!==C[M+1]&&(G[u+Z]=C[M]?4:8,++U),M++;if(C[M]!==0&&(G[u+Z]=4,++U),U>L)return null;const W=new Int32Array([0,H,-1,0,-H,0,0,0,1]),ae=new Path2D;for(K=0;U&&K<=g;K++){let ie=K*H;const ue=ie+y;for(;ie<ue&&!G[ie];)ie++;if(ie===ue)continue;ae.moveTo(ie%H,K);const re=ie;let pe=G[ie];do{const ve=W[pe];do ie+=ve;while(!G[ie]);const $=G[ie];$!==5&&$!==10?(pe=$,G[ie]=0):(pe=$&51*pe>>4,G[ie]&=pe>>2|pe<<2),ae.lineTo(ie%H,ie/H|0),G[ie]||--U}while(re!==ie);--K}return C=null,G=null,function(ie){ie.save(),ie.scale(1/y,-1/g),ie.translate(0,-g),ie.fill(ae),ie.beginPath(),ie.restore()}}class S{constructor(y,g){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,y,g])}clone(){const y=Object.create(this);return y.clipBox=this.clipBox.slice(),y}setCurrentPoint(y,g){this.x=y,this.y=g}updatePathMinMax(y,g,L){[g,L]=i.Util.applyTransform([g,L],y),this.minX=Math.min(this.minX,g),this.minY=Math.min(this.minY,L),this.maxX=Math.max(this.maxX,g),this.maxY=Math.max(this.maxY,L)}updateRectMinMax(y,g){const L=i.Util.applyTransform(g,y),q=i.Util.applyTransform(g.slice(2),y);this.minX=Math.min(this.minX,L[0],q[0]),this.minY=Math.min(this.minY,L[1],q[1]),this.maxX=Math.max(this.maxX,L[0],q[0]),this.maxY=Math.max(this.maxY,L[1],q[1])}updateScalingPathMinMax(y,g){i.Util.scaleMinMax(y,g),this.minX=Math.min(this.minX,g[0]),this.maxX=Math.max(this.maxX,g[1]),this.minY=Math.min(this.minY,g[2]),this.maxY=Math.max(this.maxY,g[3])}updateCurvePathMinMax(y,g,L,q,H,G,K,Z,u,w){const C=i.Util.bezierBoundingBox(g,L,q,H,G,K,Z,u);if(w){w[0]=Math.min(w[0],C[0],C[2]),w[1]=Math.max(w[1],C[0],C[2]),w[2]=Math.min(w[2],C[1],C[3]),w[3]=Math.max(w[3],C[1],C[3]);return}this.updateRectMinMax(y,C)}getPathBoundingBox(y=d.PathType.FILL,g=null){const L=[this.minX,this.minY,this.maxX,this.maxY];if(y===d.PathType.STROKE){g||(0,i.unreachable)("Stroke bounding box must include transform.");const q=i.Util.singularValueDecompose2dScale(g),H=q[0]*this.lineWidth/2,G=q[1]*this.lineWidth/2;L[0]-=H,L[1]-=G,L[2]+=H,L[3]+=G}return L}updateClipFromPath(){const y=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(y||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(y){this.clipBox=y,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(y=d.PathType.FILL,g=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(y,g))}}function f(V,y,g=null){if(typeof ImageData<"u"&&y instanceof ImageData){V.putImageData(y,0,0);return}const L=y.height,q=y.width,H=L%p,G=(L-H)/p,K=H===0?G:G+1,Z=V.createImageData(q,p);let u=0,w;const C=y.data,M=Z.data;let U,W,ae,me,ie,ue,re,pe;if(g)switch(g.length){case 1:ie=g[0],ue=g[0],re=g[0],pe=g[0];break;case 4:ie=g[0],ue=g[1],re=g[2],pe=g[3];break}if(y.kind===i.ImageKind.GRAYSCALE_1BPP){const ve=C.byteLength,$=new Uint32Array(M.buffer,0,M.byteLength>>2),ye=$.length,Ce=q+7>>3;let ke=4294967295,Fe=i.FeatureTest.isLittleEndian?4278190080:255;for(pe&&pe[0]===255&&pe[255]===0&&([ke,Fe]=[Fe,ke]),U=0;U<K;U++){for(ae=U<G?p:H,w=0,W=0;W<ae;W++){const Me=ve-u;let Be=0;const Pe=Me>Ce?q:Me*8-7,et=Pe&-8;let Ie=0,Ue=0;for(;Be<et;Be+=8)Ue=C[u++],$[w++]=Ue&128?ke:Fe,$[w++]=Ue&64?ke:Fe,$[w++]=Ue&32?ke:Fe,$[w++]=Ue&16?ke:Fe,$[w++]=Ue&8?ke:Fe,$[w++]=Ue&4?ke:Fe,$[w++]=Ue&2?ke:Fe,$[w++]=Ue&1?ke:Fe;for(;Be<Pe;Be++)Ie===0&&(Ue=C[u++],Ie=128),$[w++]=Ue&Ie?ke:Fe,Ie>>=1}for(;w<ye;)$[w++]=0;V.putImageData(Z,0,U*p)}}else if(y.kind===i.ImageKind.RGBA_32BPP){const ve=!!(ie||ue||re);for(W=0,me=q*p*4,U=0;U<G;U++){if(M.set(C.subarray(u,u+me)),u+=me,ve)for(let $=0;$<me;$+=4)ie&&(M[$+0]=ie[M[$+0]]),ue&&(M[$+1]=ue[M[$+1]]),re&&(M[$+2]=re[M[$+2]]);V.putImageData(Z,0,W),W+=p}if(U<K){if(me=q*H*4,M.set(C.subarray(u,u+me)),ve)for(let $=0;$<me;$+=4)ie&&(M[$+0]=ie[M[$+0]]),ue&&(M[$+1]=ue[M[$+1]]),re&&(M[$+2]=re[M[$+2]]);V.putImageData(Z,0,W)}}else if(y.kind===i.ImageKind.RGB_24BPP){const ve=!!(ie||ue||re);for(ae=p,me=q*ae,U=0;U<K;U++){for(U>=G&&(ae=H,me=q*ae),w=0,W=me;W--;)M[w++]=C[u++],M[w++]=C[u++],M[w++]=C[u++],M[w++]=255;if(ve)for(let $=0;$<w;$+=4)ie&&(M[$+0]=ie[M[$+0]]),ue&&(M[$+1]=ue[M[$+1]]),re&&(M[$+2]=re[M[$+2]]);V.putImageData(Z,0,U*p)}}else throw new Error(`bad image kind: ${y.kind}`)}function o(V,y){if(y.bitmap){V.drawImage(y.bitmap,0,0);return}const g=y.height,L=y.width,q=g%p,H=(g-q)/p,G=q===0?H:H+1,K=V.createImageData(L,p);let Z=0;const u=y.data,w=K.data;for(let C=0;C<G;C++){const M=C<H?p:q;({srcPos:Z}=(0,I.applyMaskImageData)({src:u,srcPos:Z,dest:w,width:L,height:M})),V.putImageData(K,0,C*p)}}function a(V,y){const g=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let L=0,q=g.length;L<q;L++){const H=g[L];V[H]!==void 0&&(y[H]=V[H])}V.setLineDash!==void 0&&(y.setLineDash(V.getLineDash()),y.lineDashOffset=V.lineDashOffset)}function _(V,y){V.strokeStyle=V.fillStyle=y||"#000000",V.fillRule="nonzero",V.globalAlpha=1,V.lineWidth=1,V.lineCap="butt",V.lineJoin="miter",V.miterLimit=10,V.globalCompositeOperation="source-over",V.font="10px sans-serif",V.setLineDash!==void 0&&(V.setLineDash([]),V.lineDashOffset=0)}function D(V,y,g,L){const q=V.length;for(let H=3;H<q;H+=4){const G=V[H];if(G===0)V[H-3]=y,V[H-2]=g,V[H-1]=L;else if(G<255){const K=255-G;V[H-3]=V[H-3]*G+y*K>>8,V[H-2]=V[H-2]*G+g*K>>8,V[H-1]=V[H-1]*G+L*K>>8}}}function R(V,y,g){const L=V.length,q=1/255;for(let H=3;H<L;H+=4){const G=g?g[V[H]]:V[H];y[H]=y[H]*G*q|0}}function A(V,y,g){const L=V.length;for(let q=3;q<L;q+=4){const H=V[q-3]*77+V[q-2]*152+V[q-1]*28;y[q]=g?y[q]*g[H>>8]>>8:y[q]*H>>16}}function j(V,y,g,L,q,H,G,K,Z,u,w){const C=!!H,M=C?H[0]:0,U=C?H[1]:0,W=C?H[2]:0;let ae;q==="Luminosity"?ae=A:ae=R;const ie=Math.min(L,Math.ceil(1048576/g));for(let ue=0;ue<L;ue+=ie){const re=Math.min(ie,L-ue),pe=V.getImageData(K-u,ue+(Z-w),g,re),ve=y.getImageData(K,ue+Z,g,re);C&&D(pe.data,M,U,W),ae(pe.data,ve.data,G),y.putImageData(ve,K,ue+Z)}}function oe(V,y,g,L){const q=L[0],H=L[1],G=L[2]-q,K=L[3]-H;G===0||K===0||(j(y.context,g,G,K,y.subtype,y.backdrop,y.transferMap,q,H,y.offsetX,y.offsetY),V.save(),V.globalAlpha=1,V.globalCompositeOperation="source-over",V.setTransform(1,0,0,1,0,0),V.drawImage(g.canvas,0,0),V.restore())}function ce(V,y){const g=i.Util.singularValueDecompose2dScale(V);g[0]=Math.fround(g[0]),g[1]=Math.fround(g[1]);const L=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return y!==void 0?y:g[0]<=L||g[1]<=L}const ne=["butt","round","square"],te=["miter","round","bevel"],X={},Q={},xe=class{constructor(y,g,L,q,H,G,K,Z){fe(this,le);this.ctx=y,this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=g,this.objs=L,this.canvasFactory=q,this.imageLayer=H,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=G,this.cachedCanvases=new l(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=K,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(Z==null?void 0:Z.background)||null,this.foregroundColor=(Z==null?void 0:Z.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(y,g=null){return typeof y=="string"?y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y):g}beginDrawing({transform:y,viewport:g,transparency:L=!1,background:q=null}){const H=this.ctx.canvas.width,G=this.ctx.canvas.height,K=q||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const Z=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const u=this.backgroundColor=this.ctx.fillStyle;let w=!0,C=K;if(this.ctx.fillStyle=K,C=this.ctx.fillStyle,w=typeof C=="string"&&/^#[0-9A-Fa-f]{6}$/.test(C),Z==="#000000"&&u==="#ffffff"||Z===u||!w)this.foregroundColor=this.backgroundColor=null;else{const[M,U,W]=(0,n.getRGB)(C),ae=ie=>(ie/=255,ie<=.03928?ie/12.92:((ie+.055)/1.055)**2.4),me=Math.round(.2126*ae(M)+.7152*ae(U)+.0722*ae(W));this.selectColor=(ie,ue,re)=>{const pe=.2126*ae(ie)+.7152*ae(ue)+.0722*ae(re);return Math.round(pe)===me?u:Z}}}if(this.ctx.fillStyle=this.backgroundColor||K,this.ctx.fillRect(0,0,H,G),this.ctx.restore(),L){const Z=this.cachedCanvases.getCanvas("transparent",H,G);this.compositeCtx=this.ctx,this.transparentCanvas=Z.canvas,this.ctx=Z.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_(this.ctx,this.foregroundColor),y&&(this.ctx.transform(...y),this.outputScaleX=y[0],this.outputScaleY=y[0]),this.ctx.transform(...g.transform),this.viewportScale=g.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx),this.imageLayer&&((0,n.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(y,g,L,q){const H=y.argsArray,G=y.fnArray;let K=g||0;const Z=H.length;if(Z===K)return K;const u=Z-K>F&&typeof L=="function",w=u?Date.now()+N:0;let C=0;const M=this.commonObjs,U=this.objs;let W;for(;;){if(q!==void 0&&K===q.nextBreakPoint)return q.breakIt(K,L),K;if(W=G[K],W!==i.OPS.dependency)this[W].apply(this,H[K]);else for(const ae of H[K]){const me=ae.startsWith("g_")?M:U;if(!me.has(ae))return me.get(ae,L),K}if(K++,K===Z)return K;if(u&&++C>F){if(Date.now()>w)return L(),K;C=0}}}endDrawing(){be(this,le,Ht).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const y of this._cachedBitmapsMap.values()){for(const g of y.values())typeof HTMLCanvasElement<"u"&&g instanceof HTMLCanvasElement&&(g.width=g.height=0);y.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(y,g){const L=y.width,q=y.height;let H=Math.max(Math.hypot(g[0],g[1]),1),G=Math.max(Math.hypot(g[2],g[3]),1),K=L,Z=q,u="prescale1",w,C;for(;H>2&&K>1||G>2&&Z>1;){let M=K,U=Z;H>2&&K>1&&(M=Math.ceil(K/2),H/=K/M),G>2&&Z>1&&(U=Math.ceil(Z/2),G/=Z/U),w=this.cachedCanvases.getCanvas(u,M,U),C=w.context,C.clearRect(0,0,M,U),C.drawImage(y,0,0,K,Z,0,0,M,U),y=w.canvas,K=M,Z=U,u=u==="prescale1"?"prescale2":"prescale1"}return{img:y,paintWidth:K,paintHeight:Z}}_createMaskCanvas(y){const g=this.ctx,{width:L,height:q}=y,H=this.current.fillColor,G=this.current.patternFill,K=(0,n.getCurrentTransform)(g);let Z,u,w,C;if((y.bitmap||y.data)&&y.count>1){const ye=y.bitmap||y.data.buffer,Ce=K.slice(0,4);u=JSON.stringify(G?Ce:[Ce,H]),Z=this._cachedBitmapsMap.get(ye),Z||(Z=new Map,this._cachedBitmapsMap.set(ye,Z));const ke=Z.get(u);if(ke&&!G){const Fe=Math.round(Math.min(K[0],K[2])+K[4]),Me=Math.round(Math.min(K[1],K[3])+K[5]);return{canvas:ke,offsetX:Fe,offsetY:Me}}w=ke}w||(C=this.cachedCanvases.getCanvas("maskCanvas",L,q),o(C.context,y));let M=i.Util.transform(K,[1/L,0,0,-1/q,0,0]);M=i.Util.transform(M,[1,0,0,1,0,-q]);const U=i.Util.applyTransform([0,0],M),W=i.Util.applyTransform([L,q],M),ae=i.Util.normalizeRect([U[0],U[1],W[0],W[1]]),me=Math.round(ae[2]-ae[0])||1,ie=Math.round(ae[3]-ae[1])||1,ue=this.cachedCanvases.getCanvas("fillCanvas",me,ie),re=ue.context,pe=Math.min(U[0],W[0]),ve=Math.min(U[1],W[1]);re.translate(-pe,-ve),re.transform(...M),w||(w=this._scaleImage(C.canvas,(0,n.getCurrentTransformInverse)(re)),w=w.img,Z&&G&&Z.set(u,w)),re.imageSmoothingEnabled=ce((0,n.getCurrentTransform)(re),y.interpolate),h(re,w,0,0,w.width,w.height,0,0,L,q),re.globalCompositeOperation="source-in";const $=i.Util.transform((0,n.getCurrentTransformInverse)(re),[1,0,0,1,-pe,-ve]);return re.fillStyle=G?H.getPattern(g,this,$,d.PathType.FILL):H,re.fillRect(0,0,L,q),Z&&!G&&(this.cachedCanvases.delete("fillCanvas"),Z.set(u,ue.canvas)),{canvas:ue.canvas,offsetX:Math.round(pe),offsetY:Math.round(ve)}}setLineWidth(y){y!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=y,this.ctx.lineWidth=y}setLineCap(y){this.ctx.lineCap=ne[y]}setLineJoin(y){this.ctx.lineJoin=te[y]}setMiterLimit(y){this.ctx.miterLimit=y}setDash(y,g){const L=this.ctx;L.setLineDash!==void 0&&(L.setLineDash(y),L.lineDashOffset=g)}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(let g=0,L=y.length;g<L;g++){const q=y[g],H=q[0],G=q[1];switch(H){case"LW":this.setLineWidth(G);break;case"LC":this.setLineCap(G);break;case"LJ":this.setLineJoin(G);break;case"ML":this.setMiterLimit(G);break;case"D":this.setDash(G[0],G[1]);break;case"RI":this.setRenderingIntent(G);break;case"FL":this.setFlatness(G);break;case"Font":this.setFont(G[0],G[1]);break;case"CA":this.current.strokeAlpha=q[1];break;case"ca":this.current.fillAlpha=q[1],this.ctx.globalAlpha=q[1];break;case"BM":this.ctx.globalCompositeOperation=G;break;case"SMask":this.current.activeSMask=G?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=G}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const y=this.inSMaskMode;this.current.activeSMask&&!y?this.beginSMaskMode():!this.current.activeSMask&&y&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const y=this.ctx.canvas.width,g=this.ctx.canvas.height,L="smaskGroupAt"+this.groupLevel,q=this.cachedCanvases.getCanvas(L,y,g);this.suspendedCtx=this.ctx,this.ctx=q.context;const H=this.ctx;H.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),a(this.suspendedCtx,H),s(H,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),a(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(y){if(!this.current.activeSMask)return;y?(y[0]=Math.floor(y[0]),y[1]=Math.floor(y[1]),y[2]=Math.ceil(y[2]),y[3]=Math.ceil(y[3])):y=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const g=this.current.activeSMask,L=this.suspendedCtx;oe(L,g,this.ctx,y),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(a(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const y=this.current;this.stateStack.push(y),this.current=y.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),a(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(y,g,L,q,H,G){this.ctx.transform(y,g,L,q,H,G),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(y,g,L){const q=this.ctx,H=this.current;let G=H.x,K=H.y,Z,u;const w=(0,n.getCurrentTransform)(q),C=w[0]===0&&w[3]===0||w[1]===0&&w[2]===0,M=C?L.slice(0):null;for(let U=0,W=0,ae=y.length;U<ae;U++)switch(y[U]|0){case i.OPS.rectangle:G=g[W++],K=g[W++];const me=g[W++],ie=g[W++],ue=G+me,re=K+ie;q.moveTo(G,K),me===0||ie===0?q.lineTo(ue,re):(q.lineTo(ue,K),q.lineTo(ue,re),q.lineTo(G,re)),C||H.updateRectMinMax(w,[G,K,ue,re]),q.closePath();break;case i.OPS.moveTo:G=g[W++],K=g[W++],q.moveTo(G,K),C||H.updatePathMinMax(w,G,K);break;case i.OPS.lineTo:G=g[W++],K=g[W++],q.lineTo(G,K),C||H.updatePathMinMax(w,G,K);break;case i.OPS.curveTo:Z=G,u=K,G=g[W+4],K=g[W+5],q.bezierCurveTo(g[W],g[W+1],g[W+2],g[W+3],G,K),H.updateCurvePathMinMax(w,Z,u,g[W],g[W+1],g[W+2],g[W+3],G,K,M),W+=6;break;case i.OPS.curveTo2:Z=G,u=K,q.bezierCurveTo(G,K,g[W],g[W+1],g[W+2],g[W+3]),H.updateCurvePathMinMax(w,Z,u,G,K,g[W],g[W+1],g[W+2],g[W+3],M),G=g[W+2],K=g[W+3],W+=4;break;case i.OPS.curveTo3:Z=G,u=K,G=g[W+2],K=g[W+3],q.bezierCurveTo(g[W],g[W+1],G,K,G,K),H.updateCurvePathMinMax(w,Z,u,g[W],g[W+1],G,K,G,K,M),W+=4;break;case i.OPS.closePath:q.closePath();break}C&&H.updateScalingPathMinMax(w,M),H.setCurrentPoint(G,K)}closePath(){this.ctx.closePath()}stroke(y){y=typeof y<"u"?y:!0;const g=this.ctx,L=this.current.strokeColor;g.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof L=="object"&&(L==null?void 0:L.getPattern)?(g.save(),g.strokeStyle=L.getPattern(g,this,(0,n.getCurrentTransformInverse)(g),d.PathType.STROKE),this.rescaleAndStroke(!1),g.restore()):this.rescaleAndStroke(!0)),y&&this.consumePath(this.current.getClippedPathBoundingBox()),g.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(y){y=typeof y<"u"?y:!0;const g=this.ctx,L=this.current.fillColor,q=this.current.patternFill;let H=!1;q&&(g.save(),g.fillStyle=L.getPattern(g,this,(0,n.getCurrentTransformInverse)(g),d.PathType.FILL),H=!0);const G=this.current.getClippedPathBoundingBox();this.contentVisible&&G!==null&&(this.pendingEOFill?(g.fill("evenodd"),this.pendingEOFill=!1):g.fill()),H&&g.restore(),y&&this.consumePath(G)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=X}eoClip(){this.pendingClip=Q}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const y=this.pendingTextPaths,g=this.ctx;if(y===void 0){g.beginPath();return}g.save(),g.beginPath();for(const L of y)g.setTransform(...L.transform),g.translate(L.x,L.y),L.addToPath(g,L.fontSize);g.restore(),g.clip(),g.beginPath(),delete this.pendingTextPaths}setCharSpacing(y){this.current.charSpacing=y}setWordSpacing(y){this.current.wordSpacing=y}setHScale(y){this.current.textHScale=y/100}setLeading(y){this.current.leading=-y}setFont(y,g){const L=this.commonObjs.get(y),q=this.current;if(!L)throw new Error(`Can't find font for ${y}`);if(q.fontMatrix=L.fontMatrix||i.FONT_IDENTITY_MATRIX,(q.fontMatrix[0]===0||q.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+y),g<0?(g=-g,q.fontDirection=-1):q.fontDirection=1,this.current.font=L,this.current.fontSize=g,L.isType3Font)return;const H=L.loadedName||"sans-serif";let G="normal";L.black?G="900":L.bold&&(G="bold");const K=L.italic?"italic":"normal",Z=`"${H}", ${L.fallbackName}`;let u=g;g<x?u=x:g>b&&(u=b),this.current.fontSizeScale=g/u,this.ctx.font=`${K} ${G} ${u}px ${Z}`}setTextRenderingMode(y){this.current.textRenderingMode=y}setTextRise(y){this.current.textRise=y}moveText(y,g){this.current.x=this.current.lineX+=y,this.current.y=this.current.lineY+=g}setLeadingMoveText(y,g){this.setLeading(-g),this.moveText(y,g)}setTextMatrix(y,g,L,q,H,G){this.current.textMatrix=[y,g,L,q,H,G],this.current.textMatrixScale=Math.hypot(y,g),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(y,g,L,q){const H=this.ctx,G=this.current,K=G.font,Z=G.textRenderingMode,u=G.fontSize/G.fontSizeScale,w=Z&i.TextRenderingMode.FILL_STROKE_MASK,C=!!(Z&i.TextRenderingMode.ADD_TO_PATH_FLAG),M=G.patternFill&&!K.missingFile;let U;(K.disableFontFace||C||M)&&(U=K.getPathGenerator(this.commonObjs,y)),K.disableFontFace||M?(H.save(),H.translate(g,L),H.beginPath(),U(H,u),q&&H.setTransform(...q),(w===i.TextRenderingMode.FILL||w===i.TextRenderingMode.FILL_STROKE)&&H.fill(),(w===i.TextRenderingMode.STROKE||w===i.TextRenderingMode.FILL_STROKE)&&H.stroke(),H.restore()):((w===i.TextRenderingMode.FILL||w===i.TextRenderingMode.FILL_STROKE)&&H.fillText(y,g,L),(w===i.TextRenderingMode.STROKE||w===i.TextRenderingMode.FILL_STROKE)&&H.strokeText(y,g,L)),C&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,n.getCurrentTransform)(H),x:g,y:L,fontSize:u,addToPath:U})}get isFontSubpixelAAEnabled(){const{context:y}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);y.scale(1.5,1),y.fillText("I",0,10);const g=y.getImageData(0,0,10,10).data;let L=!1;for(let q=3;q<g.length;q+=4)if(g[q]>0&&g[q]<255){L=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",L)}showText(y){const g=this.current,L=g.font;if(L.isType3Font)return this.showType3Text(y);const q=g.fontSize;if(q===0)return;const H=this.ctx,G=g.fontSizeScale,K=g.charSpacing,Z=g.wordSpacing,u=g.fontDirection,w=g.textHScale*u,C=y.length,M=L.vertical,U=M?1:-1,W=L.defaultVMetrics,ae=q*g.fontMatrix[0],me=g.textRenderingMode===i.TextRenderingMode.FILL&&!L.disableFontFace&&!g.patternFill;H.save(),H.transform(...g.textMatrix),H.translate(g.x,g.y+g.textRise),u>0?H.scale(w,-1):H.scale(w,1);let ie;if(g.patternFill){H.save();const $=g.fillColor.getPattern(H,this,(0,n.getCurrentTransformInverse)(H),d.PathType.FILL);ie=(0,n.getCurrentTransform)(H),H.restore(),H.fillStyle=$}let ue=g.lineWidth;const re=g.textMatrixScale;if(re===0||ue===0){const $=g.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;($===i.TextRenderingMode.STROKE||$===i.TextRenderingMode.FILL_STROKE)&&(ue=this.getSinglePixelWidth())}else ue/=re;G!==1&&(H.scale(G,G),ue/=G),H.lineWidth=ue;let pe=0,ve;for(ve=0;ve<C;++ve){const $=y[ve];if(typeof $=="number"){pe+=U*$*q/1e3;continue}let ye=!1;const Ce=($.isSpace?Z:0)+K,ke=$.fontChar,Fe=$.accent;let Me,Be,Pe=$.width;if(M){const Ie=$.vmetric||W,Ue=-($.vmetric?Ie[1]:Pe*.5)*ae,lt=Ie[2]*ae;Pe=Ie?-Ie[0]:Pe,Me=Ue/G,Be=(pe+lt)/G}else Me=pe/G,Be=0;if(L.remeasure&&Pe>0){const Ie=H.measureText(ke).width*1e3/q*G;if(Pe<Ie&&this.isFontSubpixelAAEnabled){const Ue=Pe/Ie;ye=!0,H.save(),H.scale(Ue,1),Me/=Ue}else Pe!==Ie&&(Me+=(Pe-Ie)/2e3*q/G)}if(this.contentVisible&&($.isInFont||L.missingFile)){if(me&&!Fe)H.fillText(ke,Me,Be);else if(this.paintChar(ke,Me,Be,ie),Fe){const Ie=Me+q*Fe.offset.x/G,Ue=Be-q*Fe.offset.y/G;this.paintChar(Fe.fontChar,Ie,Ue,ie)}}let et;M?et=Pe*ae-Ce*u:et=Pe*ae+Ce*u,pe+=et,ye&&H.restore()}M?g.y-=pe:g.x+=pe*w,H.restore(),this.compose()}showType3Text(y){const g=this.ctx,L=this.current,q=L.font,H=L.fontSize,G=L.fontDirection,K=q.vertical?1:-1,Z=L.charSpacing,u=L.wordSpacing,w=L.textHScale*G,C=L.fontMatrix||i.FONT_IDENTITY_MATRIX,M=y.length,U=L.textRenderingMode===i.TextRenderingMode.INVISIBLE;let W,ae,me,ie;if(!(U||H===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,g.save(),g.transform(...L.textMatrix),g.translate(L.x,L.y),g.scale(w,G),W=0;W<M;++W){if(ae=y[W],typeof ae=="number"){ie=K*ae*H/1e3,this.ctx.translate(ie,0),L.x+=ie*w;continue}const ue=(ae.isSpace?u:0)+Z,re=q.charProcOperatorList[ae.operatorListId];if(!re){(0,i.warn)(`Type3 character "${ae.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ae,this.save(),g.scale(H,H),g.transform(...C),this.executeOperatorList(re),this.restore()),me=i.Util.applyTransform([ae.width,0],C)[0]*H+ue,g.translate(me,0),L.x+=me*w}g.restore(),this.processingType3=null}}setCharWidth(y,g){}setCharWidthAndBounds(y,g,L,q,H,G){this.ctx.rect(L,q,H-L,G-q),this.ctx.clip(),this.endPath()}getColorN_Pattern(y){let g;if(y[0]==="TilingPattern"){const L=y[1],q=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),H={createCanvasGraphics:G=>new xe(G,this.commonObjs,this.objs,this.canvasFactory)};g=new d.TilingPattern(y,L,this.ctx,H,q)}else g=this._getPattern(y[1],y[2]);return g}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(y,g,L){var H;const q=((H=this.selectColor)==null?void 0:H.call(this,y,g,L))||i.Util.makeHexColor(y,g,L);this.ctx.strokeStyle=q,this.current.strokeColor=q}setFillRGBColor(y,g,L){var H;const q=((H=this.selectColor)==null?void 0:H.call(this,y,g,L))||i.Util.makeHexColor(y,g,L);this.ctx.fillStyle=q,this.current.fillColor=q,this.current.patternFill=!1}_getPattern(y,g=null){let L;return this.cachedPatterns.has(y)?L=this.cachedPatterns.get(y):(L=(0,d.getShadingPattern)(this.objs.get(y)),this.cachedPatterns.set(y,L)),g&&(L.matrix=g),L}shadingFill(y){if(!this.contentVisible)return;const g=this.ctx;this.save();const L=this._getPattern(y);g.fillStyle=L.getPattern(g,this,(0,n.getCurrentTransformInverse)(g),d.PathType.SHADING);const q=(0,n.getCurrentTransformInverse)(g);if(q){const H=g.canvas,G=H.width,K=H.height,Z=i.Util.applyTransform([0,0],q),u=i.Util.applyTransform([0,K],q),w=i.Util.applyTransform([G,0],q),C=i.Util.applyTransform([G,K],q),M=Math.min(Z[0],u[0],w[0],C[0]),U=Math.min(Z[1],u[1],w[1],C[1]),W=Math.max(Z[0],u[0],w[0],C[0]),ae=Math.max(Z[1],u[1],w[1],C[1]);this.ctx.fillRect(M,U,W-M,ae-U)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(y,g){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(y)&&y.length===6&&this.transform(...y),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),g)){const L=g[2]-g[0],q=g[3]-g[1];this.ctx.rect(g[0],g[1],L,q),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),g),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(y){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const g=this.ctx;y.isolated||(0,i.info)("TODO: Support non-isolated groups."),y.knockout&&(0,i.warn)("Knockout groups not supported.");const L=(0,n.getCurrentTransform)(g);if(y.matrix&&g.transform(...y.matrix),!y.bbox)throw new Error("Bounding box is required.");let q=i.Util.getAxialAlignedBoundingBox(y.bbox,(0,n.getCurrentTransform)(g));const H=[0,0,g.canvas.width,g.canvas.height];q=i.Util.intersect(q,H)||[0,0,0,0];const G=Math.floor(q[0]),K=Math.floor(q[1]);let Z=Math.max(Math.ceil(q[2])-G,1),u=Math.max(Math.ceil(q[3])-K,1),w=1,C=1;Z>T&&(w=Z/T,Z=T),u>T&&(C=u/T,u=T),this.current.startNewPathAndClipBox([0,0,Z,u]);let M="groupAt"+this.groupLevel;y.smask&&(M+="_smask_"+this.smaskCounter++%2);const U=this.cachedCanvases.getCanvas(M,Z,u),W=U.context;W.scale(1/w,1/C),W.translate(-G,-K),W.transform(...L),y.smask?this.smaskStack.push({canvas:U.canvas,context:W,offsetX:G,offsetY:K,scaleX:w,scaleY:C,subtype:y.smask.subtype,backdrop:y.smask.backdrop,transferMap:y.smask.transferMap||null,startTransformInverse:null}):(g.setTransform(1,0,0,1,0,0),g.translate(G,K),g.scale(w,C),g.save()),a(g,W),this.ctx=W,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(g),this.groupLevel++}endGroup(y){if(!this.contentVisible)return;this.groupLevel--;const g=this.ctx,L=this.groupStack.pop();if(this.ctx=L,this.ctx.imageSmoothingEnabled=!1,y.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const q=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...q);const H=i.Util.getAxialAlignedBoundingBox([0,0,g.canvas.width,g.canvas.height],q);this.ctx.drawImage(g.canvas,0,0),this.ctx.restore(),this.compose(H)}}beginAnnotation(y,g,L,q,H){if(be(this,le,Ht).call(this),_(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(g)&&g.length===4){const G=g[2]-g[0],K=g[3]-g[1];if(H&&this.annotationCanvasMap){L=L.slice(),L[4]-=g[0],L[5]-=g[1],g=g.slice(),g[0]=g[1]=0,g[2]=G,g[3]=K;const[Z,u]=i.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:w}=this,C=Math.ceil(G*this.outputScaleX*w),M=Math.ceil(K*this.outputScaleY*w);this.annotationCanvas=this.canvasFactory.create(C,M);const{canvas:U,context:W}=this.annotationCanvas;this.annotationCanvasMap.set(y,U),this.annotationCanvas.savedCtx=this.ctx,this.ctx=W,this.ctx.setTransform(Z,0,0,-u,0,K*u),_(this.ctx,this.foregroundColor)}else _(this.ctx,this.foregroundColor),this.ctx.rect(g[0],g[1],G,K),this.ctx.clip(),this.endPath()}this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...L),this.transform(...q)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(y){if(!this.contentVisible)return;const g=y.count;y=this.getObject(y.data,y),y.count=g;const L=this.ctx,q=this.processingType3;if(q&&(q.compiled===void 0&&(q.compiled=E(y)),q.compiled)){q.compiled(L);return}const H=this._createMaskCanvas(y),G=H.canvas;L.save(),L.setTransform(1,0,0,1,0,0),L.drawImage(G,H.offsetX,H.offsetY),L.restore(),this.compose()}paintImageMaskXObjectRepeat(y,g,L=0,q=0,H,G){if(!this.contentVisible)return;y=this.getObject(y.data,y);const K=this.ctx;K.save();const Z=(0,n.getCurrentTransform)(K);K.transform(g,L,q,H,0,0);const u=this._createMaskCanvas(y);K.setTransform(1,0,0,1,0,0);for(let w=0,C=G.length;w<C;w+=2){const M=i.Util.transform(Z,[g,L,q,H,G[w],G[w+1]]),[U,W]=i.Util.applyTransform([0,0],M);K.drawImage(u.canvas,U,W)}K.restore(),this.compose()}paintImageMaskXObjectGroup(y){if(!this.contentVisible)return;const g=this.ctx,L=this.current.fillColor,q=this.current.patternFill;for(const H of y){const{data:G,width:K,height:Z,transform:u}=H,w=this.cachedCanvases.getCanvas("maskCanvas",K,Z),C=w.context;C.save();const M=this.getObject(G,H);o(C,M),C.globalCompositeOperation="source-in",C.fillStyle=q?L.getPattern(C,this,(0,n.getCurrentTransformInverse)(g),d.PathType.FILL):L,C.fillRect(0,0,K,Z),C.restore(),g.save(),g.transform(...u),g.scale(1,-1),h(g,w.canvas,0,0,K,Z,0,-1,1,1),g.restore()}this.compose()}paintImageXObject(y){if(!this.contentVisible)return;const g=this.getObject(y);if(!g){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(g)}paintImageXObjectRepeat(y,g,L,q){if(!this.contentVisible)return;const H=this.getObject(y);if(!H){(0,i.warn)("Dependent image isn't ready yet");return}const G=H.width,K=H.height,Z=[];for(let u=0,w=q.length;u<w;u+=2)Z.push({transform:[g,0,0,L,q[u],q[u+1]],x:0,y:0,w:G,h:K});this.paintInlineImageXObjectGroup(H,Z)}paintInlineImageXObject(y){if(!this.contentVisible)return;const g=y.width,L=y.height,q=this.ctx;this.save(),q.scale(1/g,-1/L);let H;if(typeof HTMLElement=="function"&&y instanceof HTMLElement||!y.data)H=y;else{const u=this.cachedCanvases.getCanvas("inlineImage",g,L),w=u.context;f(w,y,this.current.transferMaps),H=u.canvas}const G=this._scaleImage(H,(0,n.getCurrentTransformInverse)(q));q.imageSmoothingEnabled=ce((0,n.getCurrentTransform)(q),y.interpolate);const[K,Z]=h(q,G.img,0,0,G.paintWidth,G.paintHeight,0,-L,g,L);if(this.imageLayer){const[u,w]=i.Util.applyTransform([0,-L],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:y,left:u,top:w,width:K,height:Z})}this.compose(),this.restore()}paintInlineImageXObjectGroup(y,g){if(!this.contentVisible)return;const L=this.ctx,q=y.width,H=y.height,G=this.cachedCanvases.getCanvas("inlineImage",q,H),K=G.context;f(K,y,this.current.transferMaps);for(const Z of g){if(L.save(),L.transform(...Z.transform),L.scale(1,-1),h(L,G.canvas,Z.x,Z.y,Z.w,Z.h,0,-1,1,1),this.imageLayer){const[u,w]=i.Util.applyTransform([Z.x,Z.y],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:y,left:u,top:w,width:q,height:H})}L.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(y){}markPointProps(y,g){}beginMarkedContent(y){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(y,g){y==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(g)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(y){const g=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(y);const L=this.ctx;this.pendingClip&&(g||(this.pendingClip===Q?L.clip("evenodd"):L.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),L.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const y=(0,n.getCurrentTransform)(this.ctx);if(y[1]===0&&y[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(y[0]),Math.abs(y[3]));else{const g=Math.abs(y[0]*y[3]-y[2]*y[1]),L=Math.hypot(y[0],y[2]),q=Math.hypot(y[1],y[3]);this._cachedGetSinglePixelWidth=Math.max(L,q)/g}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:y}=this.current,g=(0,n.getCurrentTransform)(this.ctx);let L,q;if(g[1]===0&&g[2]===0){const H=Math.abs(g[0]),G=Math.abs(g[3]);if(y===0)L=1/H,q=1/G;else{const K=H*y,Z=G*y;L=K<1?1/K:1,q=Z<1?1/Z:1}}else{const H=Math.abs(g[0]*g[3]-g[2]*g[1]),G=Math.hypot(g[0],g[1]),K=Math.hypot(g[2],g[3]);if(y===0)L=K/H,q=G/H;else{const Z=y*H;L=K>Z?K/Z:1,q=G>Z?G/Z:1}}this._cachedScaleForStroking=[L,q]}return this._cachedScaleForStroking}rescaleAndStroke(y){const{ctx:g}=this,{lineWidth:L}=this.current,[q,H]=this.getScaleForStroking();if(g.lineWidth=L||1,q===1&&H===1){g.stroke();return}let G,K,Z;y&&(G=(0,n.getCurrentTransform)(g),K=g.getLineDash().slice(),Z=g.lineDashOffset),g.scale(q,H);const u=Math.max(q,H);g.setLineDash(g.getLineDash().map(w=>w/u)),g.lineDashOffset/=u,g.stroke(),y&&(g.setTransform(...G),g.setLineDash(K),g.lineDashOffset=Z)}isContentVisible(){for(let y=this.markedContentStack.length-1;y>=0;y--)if(!this.markedContentStack[y].visible)return!1;return!0}};let ee=xe;le=new WeakSet,Ht=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},c.CanvasGraphics=ee;for(const V in i.OPS)ee.prototype[V]!==void 0&&(ee.prototype[i.OPS[V]]=ee.prototype[V])},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TilingPattern=c.PathType=void 0,c.getShadingPattern=p;var n=v(1),i=v(8),d=v(3);const I={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};c.PathType=I;function O(h,E){if(!E||d.isNodeJS)return;const S=E[2]-E[0],f=E[3]-E[1],o=new Path2D;o.rect(E[0],E[1],S,f),h.clip(o)}class x{constructor(){this.constructor===x&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class b extends x{constructor(E){super(),this._type=E[1],this._bbox=E[2],this._colorStops=E[3],this._p0=E[4],this._p1=E[5],this._r0=E[6],this._r1=E[7],this.matrix=null}_createGradient(E){let S;this._type==="axial"?S=E.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(S=E.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const f of this._colorStops)S.addColorStop(f[0],f[1]);return S}getPattern(E,S,f,o){let a;if(o===I.STROKE||o===I.FILL){const _=S.current.getClippedPathBoundingBox(o,(0,i.getCurrentTransform)(E))||[0,0,0,0],D=Math.ceil(_[2]-_[0])||1,R=Math.ceil(_[3]-_[1])||1,A=S.cachedCanvases.getCanvas("pattern",D,R,!0),j=A.context;j.clearRect(0,0,j.canvas.width,j.canvas.height),j.beginPath(),j.rect(0,0,j.canvas.width,j.canvas.height),j.translate(-_[0],-_[1]),f=n.Util.transform(f,[1,0,0,1,_[0],_[1]]),j.transform(...S.baseTransform),this.matrix&&j.transform(...this.matrix),O(j,this._bbox),j.fillStyle=this._createGradient(j),j.fill(),a=E.createPattern(A.canvas,"no-repeat");const oe=new DOMMatrix(f);try{a.setTransform(oe)}catch(ce){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${ce==null?void 0:ce.message}".`)}}else O(E,this._bbox),a=this._createGradient(E);return a}}function T(h,E,S,f,o,a,_,D){const R=E.coords,A=E.colors,j=h.data,oe=h.width*4;let ce;R[S+1]>R[f+1]&&(ce=S,S=f,f=ce,ce=a,a=_,_=ce),R[f+1]>R[o+1]&&(ce=f,f=o,o=ce,ce=_,_=D,D=ce),R[S+1]>R[f+1]&&(ce=S,S=f,f=ce,ce=a,a=_,_=ce);const ne=(R[S]+E.offsetX)*E.scaleX,te=(R[S+1]+E.offsetY)*E.scaleY,X=(R[f]+E.offsetX)*E.scaleX,Q=(R[f+1]+E.offsetY)*E.scaleY,ee=(R[o]+E.offsetX)*E.scaleX,le=(R[o+1]+E.offsetY)*E.scaleY;if(te>=le)return;const ge=A[a],xe=A[a+1],V=A[a+2],y=A[_],g=A[_+1],L=A[_+2],q=A[D],H=A[D+1],G=A[D+2],K=Math.round(te),Z=Math.round(le);let u,w,C,M,U,W,ae,me;for(let ie=K;ie<=Z;ie++){if(ie<Q){let $;ie<te?$=0:$=(te-ie)/(te-Q),u=ne-(ne-X)*$,w=ge-(ge-y)*$,C=xe-(xe-g)*$,M=V-(V-L)*$}else{let $;ie>le?$=1:Q===le?$=0:$=(Q-ie)/(Q-le),u=X-(X-ee)*$,w=y-(y-q)*$,C=g-(g-H)*$,M=L-(L-G)*$}let ue;ie<te?ue=0:ie>le?ue=1:ue=(te-ie)/(te-le),U=ne-(ne-ee)*ue,W=ge-(ge-q)*ue,ae=xe-(xe-H)*ue,me=V-(V-G)*ue;const re=Math.round(Math.min(u,U)),pe=Math.round(Math.max(u,U));let ve=oe*ie+re*4;for(let $=re;$<=pe;$++)ue=(u-$)/(u-U),ue<0?ue=0:ue>1&&(ue=1),j[ve++]=w-(w-W)*ue|0,j[ve++]=C-(C-ae)*ue|0,j[ve++]=M-(M-me)*ue|0,j[ve++]=255}}function N(h,E,S){const f=E.coords,o=E.colors;let a,_;switch(E.type){case"lattice":const D=E.verticesPerRow,R=Math.floor(f.length/D)-1,A=D-1;for(a=0;a<R;a++){let j=a*D;for(let oe=0;oe<A;oe++,j++)T(h,S,f[j],f[j+1],f[j+D],o[j],o[j+1],o[j+D]),T(h,S,f[j+D+1],f[j+1],f[j+D],o[j+D+1],o[j+1],o[j+D])}break;case"triangles":for(a=0,_=f.length;a<_;a+=3)T(h,S,f[a],f[a+1],f[a+2],o[a],o[a+1],o[a+2]);break;default:throw new Error("illegal figure")}}class F extends x{constructor(E){super(),this._coords=E[2],this._colors=E[3],this._figures=E[4],this._bounds=E[5],this._bbox=E[7],this._background=E[8],this.matrix=null}_createMeshCanvas(E,S,f){const D=Math.floor(this._bounds[0]),R=Math.floor(this._bounds[1]),A=Math.ceil(this._bounds[2])-D,j=Math.ceil(this._bounds[3])-R,oe=Math.min(Math.ceil(Math.abs(A*E[0]*1.1)),3e3),ce=Math.min(Math.ceil(Math.abs(j*E[1]*1.1)),3e3),ne=A/oe,te=j/ce,X={coords:this._coords,colors:this._colors,offsetX:-D,offsetY:-R,scaleX:1/ne,scaleY:1/te},Q=oe+2*2,ee=ce+2*2,le=f.getCanvas("mesh",Q,ee,!1),ge=le.context,xe=ge.createImageData(oe,ce);if(S){const y=xe.data;for(let g=0,L=y.length;g<L;g+=4)y[g]=S[0],y[g+1]=S[1],y[g+2]=S[2],y[g+3]=255}for(const y of this._figures)N(xe,y,X);return ge.putImageData(xe,2,2),{canvas:le.canvas,offsetX:D-2*ne,offsetY:R-2*te,scaleX:ne,scaleY:te}}getPattern(E,S,f,o){O(E,this._bbox);let a;if(o===I.SHADING)a=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(E));else if(a=n.Util.singularValueDecompose2dScale(S.baseTransform),this.matrix){const D=n.Util.singularValueDecompose2dScale(this.matrix);a=[a[0]*D[0],a[1]*D[1]]}const _=this._createMeshCanvas(a,o===I.SHADING?null:this._background,S.cachedCanvases);return o!==I.SHADING&&(E.setTransform(...S.baseTransform),this.matrix&&E.transform(...this.matrix)),E.translate(_.offsetX,_.offsetY),E.scale(_.scaleX,_.scaleY),E.createPattern(_.canvas,"no-repeat")}}class k extends x{getPattern(){return"hotpink"}}function p(h){switch(h[0]){case"RadialAxial":return new b(h);case"Mesh":return new F(h);case"Dummy":return new k}throw new Error(`Unknown IR type: ${h[0]}`)}const s={COLORED:1,UNCOLORED:2};class l{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(E,S,f,o,a){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=S,this.ctx=f,this.canvasGraphicsFactory=o,this.baseTransform=a}createPatternCanvas(E){const S=this.operatorList,f=this.bbox,o=this.xstep,a=this.ystep,_=this.paintType,D=this.tilingType,R=this.color,A=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+D);const j=f[0],oe=f[1],ce=f[2],ne=f[3],te=n.Util.singularValueDecompose2dScale(this.matrix),X=n.Util.singularValueDecompose2dScale(this.baseTransform),Q=[te[0]*X[0],te[1]*X[1]],ee=this.getSizeAndScale(o,this.ctx.canvas.width,Q[0]),le=this.getSizeAndScale(a,this.ctx.canvas.height,Q[1]),ge=E.cachedCanvases.getCanvas("pattern",ee.size,le.size,!0),xe=ge.context,V=A.createCanvasGraphics(xe);V.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(V,_,R);let y=j,g=oe,L=ce,q=ne;return j<0&&(y=0,L+=Math.abs(j)),oe<0&&(g=0,q+=Math.abs(oe)),xe.translate(-(ee.scale*y),-(le.scale*g)),V.transform(ee.scale,0,0,le.scale,0,0),xe.save(),this.clipBbox(V,y,g,L,q),V.baseTransform=(0,i.getCurrentTransform)(V.ctx),V.executeOperatorList(S),V.endDrawing(),{canvas:ge.canvas,scaleX:ee.scale,scaleY:le.scale,offsetX:y,offsetY:g}}getSizeAndScale(E,S,f){E=Math.abs(E);const o=Math.max(l.MAX_PATTERN_SIZE,S);let a=Math.ceil(E*f);return a>=o?a=o:f=a/E,{scale:f,size:a}}clipBbox(E,S,f,o,a){const _=o-S,D=a-f;E.ctx.rect(S,f,_,D),E.current.updateRectMinMax((0,i.getCurrentTransform)(E.ctx),[S,f,o,a]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,S,f){const o=E.ctx,a=E.current;switch(S){case s.COLORED:const _=this.ctx;o.fillStyle=_.fillStyle,o.strokeStyle=_.strokeStyle,a.fillColor=_.fillStyle,a.strokeColor=_.strokeStyle;break;case s.UNCOLORED:const D=n.Util.makeHexColor(f[0],f[1],f[2]);o.fillStyle=D,o.strokeStyle=D,a.fillColor=D,a.strokeColor=D;break;default:throw new n.FormatError(`Unsupported paint type: ${S}`)}}getPattern(E,S,f,o){let a=f;o!==I.SHADING&&(a=n.Util.transform(a,S.baseTransform),this.matrix&&(a=n.Util.transform(a,this.matrix)));const _=this.createPatternCanvas(S);let D=new DOMMatrix(a);D=D.translate(_.offsetX,_.offsetY),D=D.scale(1/_.scaleX,1/_.scaleY);const R=E.createPattern(_.canvas,"repeat");try{R.setTransform(D)}catch(A){(0,n.warn)(`TilingPattern.getPattern: "${A==null?void 0:A.message}".`)}return R}}c.TilingPattern=l},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.applyMaskImageData=i;var n=v(1);function i({src:d,srcPos:I=0,dest:O,destPos:x=0,width:b,height:T,inverseDecode:N=!1}){const F=n.FeatureTest.isLittleEndian?4278190080:255,[k,p]=N?[0,F]:[F,0],s=b>>3,l=b&7,h=d.length;O=new Uint32Array(O.buffer);for(let E=0;E<T;E++){for(const f=I+s;I<f;I++){const o=I<h?d[I]:255;O[x++]=o&128?p:k,O[x++]=o&64?p:k,O[x++]=o&32?p:k,O[x++]=o&16?p:k,O[x++]=o&8?p:k,O[x++]=o&4?p:k,O[x++]=o&2?p:k,O[x++]=o&1?p:k}if(l===0)continue;const S=I<h?d[I++]:255;for(let f=0;f<l;f++)O[x++]=S&1<<7-f?p:k}return{srcPos:I,destPos:x}}},(P,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.GlobalWorkerOptions=void 0;const v=Object.create(null);c.GlobalWorkerOptions=v,v.workerPort=v.workerPort===void 0?null:v.workerPort,v.workerSrc=v.workerSrc===void 0?"":v.workerSrc},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.MessageHandler=void 0;var n=v(1);const i={UNKNOWN:0,DATA:1,ERROR:2},d={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function I(x){switch(x instanceof Error||typeof x=="object"&&x!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new n.AbortException(x.message);case"MissingPDFException":return new n.MissingPDFException(x.message);case"PasswordException":return new n.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new n.UnknownErrorException(x.message,x.details);default:return new n.UnknownErrorException(x.message,x.toString())}}class O{constructor(b,T,N){this.sourceName=b,this.targetName=T,this.comObj=N,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=F=>{const k=F.data;if(k.targetName!==this.sourceName)return;if(k.stream){this._processStreamMessage(k);return}if(k.callback){const s=k.callbackId,l=this.callbackCapabilities[s];if(!l)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],k.callback===i.DATA)l.resolve(k.data);else if(k.callback===i.ERROR)l.reject(I(k.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[k.action];if(!p)throw new Error(`Unknown action from worker: ${k.action}`);if(k.callbackId){const s=this.sourceName,l=k.sourceName;new Promise(function(h){h(p(k.data))}).then(function(h){N.postMessage({sourceName:s,targetName:l,callback:i.DATA,callbackId:k.callbackId,data:h})},function(h){N.postMessage({sourceName:s,targetName:l,callback:i.ERROR,callbackId:k.callbackId,reason:I(h)})});return}if(k.streamId){this._createStreamSink(k);return}p(k.data)},N.addEventListener("message",this._onComObjOnMessage)}on(b,T){const N=this.actionHandler;if(N[b])throw new Error(`There is already an actionName called "${b}"`);N[b]=T}send(b,T,N){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,data:T},N)}sendWithPromise(b,T,N){const F=this.callbackId++,k=(0,n.createPromiseCapability)();this.callbackCapabilities[F]=k;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:b,callbackId:F,data:T},N)}catch(p){k.reject(p)}return k.promise}sendWithStream(b,T,N,F){const k=this.streamId++,p=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:h=>{const E=(0,n.createPromiseCapability)();return this.streamControllers[k]={controller:h,startCall:E,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:p,targetName:s,action:b,streamId:k,data:T,desiredSize:h.desiredSize},F),E.promise},pull:h=>{const E=(0,n.createPromiseCapability)();return this.streamControllers[k].pullCall=E,l.postMessage({sourceName:p,targetName:s,stream:d.PULL,streamId:k,desiredSize:h.desiredSize}),E.promise},cancel:h=>{(0,n.assert)(h instanceof Error,"cancel must have a valid reason");const E=(0,n.createPromiseCapability)();return this.streamControllers[k].cancelCall=E,this.streamControllers[k].isClosed=!0,l.postMessage({sourceName:p,targetName:s,stream:d.CANCEL,streamId:k,reason:I(h)}),E.promise}},N)}_createStreamSink(b){const T=b.streamId,N=this.sourceName,F=b.sourceName,k=this.comObj,p=this,s=this.actionHandler[b.action],l={enqueue(h,E=1,S){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=E,f>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),k.postMessage({sourceName:N,targetName:F,stream:d.ENQUEUE,streamId:T,chunk:h},S)},close(){this.isCancelled||(this.isCancelled=!0,k.postMessage({sourceName:N,targetName:F,stream:d.CLOSE,streamId:T}),delete p.streamSinks[T])},error(h){(0,n.assert)(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,k.postMessage({sourceName:N,targetName:F,stream:d.ERROR,streamId:T,reason:I(h)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:b.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[T]=l,new Promise(function(h){h(s(b.data,l))}).then(function(){k.postMessage({sourceName:N,targetName:F,stream:d.START_COMPLETE,streamId:T,success:!0})},function(h){k.postMessage({sourceName:N,targetName:F,stream:d.START_COMPLETE,streamId:T,reason:I(h)})})}_processStreamMessage(b){const T=b.streamId,N=this.sourceName,F=b.sourceName,k=this.comObj,p=this.streamControllers[T],s=this.streamSinks[T];switch(b.stream){case d.START_COMPLETE:b.success?p.startCall.resolve():p.startCall.reject(I(b.reason));break;case d.PULL_COMPLETE:b.success?p.pullCall.resolve():p.pullCall.reject(I(b.reason));break;case d.PULL:if(!s){k.postMessage({sourceName:N,targetName:F,stream:d.PULL_COMPLETE,streamId:T,success:!0});break}s.desiredSize<=0&&b.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=b.desiredSize,new Promise(function(l){l(s.onPull&&s.onPull())}).then(function(){k.postMessage({sourceName:N,targetName:F,stream:d.PULL_COMPLETE,streamId:T,success:!0})},function(l){k.postMessage({sourceName:N,targetName:F,stream:d.PULL_COMPLETE,streamId:T,reason:I(l)})});break;case d.ENQUEUE:if((0,n.assert)(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(b.chunk);break;case d.CLOSE:if((0,n.assert)(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this._deleteStreamController(p,T);break;case d.ERROR:(0,n.assert)(p,"error should have stream controller"),p.controller.error(I(b.reason)),this._deleteStreamController(p,T);break;case d.CANCEL_COMPLETE:b.success?p.cancelCall.resolve():p.cancelCall.reject(I(b.reason)),this._deleteStreamController(p,T);break;case d.CANCEL:if(!s)break;new Promise(function(l){l(s.onCancel&&s.onCancel(I(b.reason)))}).then(function(){k.postMessage({sourceName:N,targetName:F,stream:d.CANCEL_COMPLETE,streamId:T,success:!0})},function(l){k.postMessage({sourceName:N,targetName:F,stream:d.CANCEL_COMPLETE,streamId:T,reason:I(l)})}),s.sinkCapability.reject(I(b.reason)),s.isCancelled=!0,delete this.streamSinks[T];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(b,T){await Promise.allSettled([b.startCall&&b.startCall.promise,b.pullCall&&b.pullCall.promise,b.cancelCall&&b.cancelCall.promise]),delete this.streamControllers[T]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}c.MessageHandler=O},(P,c,v)=>{var d,I;Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;var n=v(1);class i{constructor({parsedData:x,rawData:b}){fe(this,d,void 0);fe(this,I,void 0);Ae(this,d,x),Ae(this,I,b)}getRaw(){return B(this,I)}get(x){var b;return(b=B(this,d).get(x))!=null?b:null}getAll(){return(0,n.objectFromMap)(B(this,d))}has(x){return B(this,d).has(x)}}d=new WeakMap,I=new WeakMap,c.Metadata=i},(P,c,v)=>{var O,x,b,T,N,F,zt;Object.defineProperty(c,"__esModule",{value:!0}),c.OptionalContentConfig=void 0;var n=v(1);const i=Symbol("INTERNAL");class d{constructor(s,l){fe(this,O,!0);this.name=s,this.intent=l}get visible(){return B(this,O)}_setVisible(s,l){s!==i&&(0,n.unreachable)("Internal method `_setVisible` called."),Ae(this,O,l)}}O=new WeakMap;class I{constructor(s){fe(this,F);fe(this,x,!0);fe(this,b,new Map);fe(this,T,null);fe(this,N,null);if(this.name=null,this.creator=null,s!==null){this.name=s.name,this.creator=s.creator,Ae(this,N,s.order);for(const l of s.groups)B(this,b).set(l.id,new d(l.name,l.intent));if(s.baseState==="OFF")for(const l of B(this,b).values())l._setVisible(i,!1);for(const l of s.on)B(this,b).get(l)._setVisible(i,!0);for(const l of s.off)B(this,b).get(l)._setVisible(i,!1);Ae(this,T,new Map);for(const[l,h]of B(this,b))B(this,T).set(l,h.visible)}}isVisible(s){if(B(this,b).size===0)return!0;if(!s)return(0,n.warn)("Optional content group not defined."),!0;if(s.type==="OCG")return B(this,b).has(s.id)?B(this,b).get(s.id).visible:((0,n.warn)(`Optional content group not found: ${s.id}`),!0);if(s.type==="OCMD"){if(s.expression)return be(this,F,zt).call(this,s.expression);if(!s.policy||s.policy==="AnyOn"){for(const l of s.ids){if(!B(this,b).has(l))return(0,n.warn)(`Optional content group not found: ${l}`),!0;if(B(this,b).get(l).visible)return!0}return!1}else if(s.policy==="AllOn"){for(const l of s.ids){if(!B(this,b).has(l))return(0,n.warn)(`Optional content group not found: ${l}`),!0;if(!B(this,b).get(l).visible)return!1}return!0}else if(s.policy==="AnyOff"){for(const l of s.ids){if(!B(this,b).has(l))return(0,n.warn)(`Optional content group not found: ${l}`),!0;if(!B(this,b).get(l).visible)return!0}return!1}else if(s.policy==="AllOff"){for(const l of s.ids){if(!B(this,b).has(l))return(0,n.warn)(`Optional content group not found: ${l}`),!0;if(B(this,b).get(l).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${s.policy}.`),!0}return(0,n.warn)(`Unknown group type ${s.type}.`),!0}setVisibility(s,l=!0){if(!B(this,b).has(s)){(0,n.warn)(`Optional content group not found: ${s}`);return}B(this,b).get(s)._setVisible(i,!!l),Ae(this,x,null)}get hasInitialVisibility(){if(B(this,x)!==null)return B(this,x);for(const[s,l]of B(this,b)){const h=B(this,T).get(s);if(l.visible!==h)return Ae(this,x,!1)}return Ae(this,x,!0)}getOrder(){return B(this,b).size?B(this,N)?B(this,N).slice():[...B(this,b).keys()]:null}getGroups(){return B(this,b).size>0?(0,n.objectFromMap)(B(this,b)):null}getGroup(s){return B(this,b).get(s)||null}}x=new WeakMap,b=new WeakMap,T=new WeakMap,N=new WeakMap,F=new WeakSet,zt=function(s){const l=s.length;if(l<2)return!0;const h=s[0];for(let E=1;E<l;E++){const S=s[E];let f;if(Array.isArray(S))f=be(this,F,zt).call(this,S);else if(B(this,b).has(S))f=B(this,b).get(S).visible;else return(0,n.warn)(`Optional content group not found: ${S}`),!0;switch(h){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return h==="And"},c.OptionalContentConfig=I},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFDataTransportStream=void 0;var n=v(1),i=v(8);class d{constructor(b,T){(0,n.assert)(T,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=b.progressiveDone||!1,this._contentDispositionFilename=b.contentDispositionFilename||null;const N=b.initialData;if((N==null?void 0:N.length)>0){const F=new Uint8Array(N).buffer;this._queuedChunks.push(F)}this._pdfDataRangeTransport=T,this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._contentLength=b.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((F,k)=>{this._onReceiveData({begin:F,chunk:k})}),this._pdfDataRangeTransport.addProgressListener((F,k)=>{this._onProgress({loaded:F,total:k})}),this._pdfDataRangeTransport.addProgressiveReadListener(F=>{this._onReceiveData({chunk:F})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(b){const T=new Uint8Array(b.chunk).buffer;if(b.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(T):this._queuedChunks.push(T);else{const N=this._rangeReaders.some(function(F){return F._begin!==b.begin?!1:(F._enqueue(T),!0)});(0,n.assert)(N,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var b,T;return(T=(b=this._fullRequestReader)==null?void 0:b._loaded)!=null?T:0}_onProgress(b){if(b.total===void 0){const T=this._rangeReaders[0];T!=null&&T.onProgress&&T.onProgress({loaded:b.loaded})}else{const T=this._fullRequestReader;T!=null&&T.onProgress&&T.onProgress({loaded:b.loaded,total:b.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(b){const T=this._rangeReaders.indexOf(b);T>=0&&this._rangeReaders.splice(T,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const b=this._queuedChunks;return this._queuedChunks=null,new I(this,b,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(b,T){if(T<=this._progressiveDataLength)return null;const N=new O(this,b,T);return this._pdfDataRangeTransport.requestDataRange(b,T),this._rangeReaders.push(N),N}cancelAllRequests(b){this._fullRequestReader&&this._fullRequestReader.cancel(b);for(const T of this._rangeReaders.slice(0))T.cancel(b);this._pdfDataRangeTransport.abort()}}c.PDFDataTransportStream=d;class I{constructor(b,T,N=!1,F=null){this._stream=b,this._done=N||!1,this._filename=(0,i.isPdfFile)(F)?F:null,this._queuedChunks=T||[],this._loaded=0;for(const k of this._queuedChunks)this._loaded+=k.byteLength;this._requests=[],this._headersReady=Promise.resolve(),b._fullRequestReader=this,this.onProgress=null}_enqueue(b){this._done||(this._requests.length>0?this._requests.shift().resolve({value:b,done:!1}):this._queuedChunks.push(b),this._loaded+=b.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const b=(0,n.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class O{constructor(b,T,N){this._stream=b,this._begin=T,this._end=N,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(b){if(!this._done){if(this._requests.length===0)this._queuedChunk=b;else{this._requests.shift().resolve({value:b,done:!1});for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const T=this._queuedChunk;return this._queuedChunk=null,{value:T,done:!1}}if(this._done)return{value:void 0,done:!0};const b=(0,n.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(b){this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(P,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaText=void 0;class v{static textContent(i){const d=[],I={items:d,styles:Object.create(null)};function O(x){var N;if(!x)return;let b=null;const T=x.name;if(T==="#text")b=x.value;else if(v.shouldBuildText(T))(N=x==null?void 0:x.attributes)!=null&&N.textContent?b=x.attributes.textContent:x.value&&(b=x.value);else return;if(b!==null&&d.push({str:b}),!!x.children)for(const F of x.children)O(F)}return O(i),I}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}c.XfaText=v},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.NodeStandardFontDataFactory=c.NodeCanvasFactory=c.NodeCMapReaderFactory=void 0;var n=v(9);const i=function(x){return new Promise((b,T)=>{require$$5.readFile(x,(F,k)=>{if(F||!k){T(new Error(F));return}b(new Uint8Array(k))})})};class d extends n.BaseCanvasFactory{_createCanvas(b,T){return require$$5.createCanvas(b,T)}}c.NodeCanvasFactory=d;class I extends n.BaseCMapReaderFactory{_fetchData(b,T){return i(b).then(N=>({cMapData:N,compressionType:T}))}}c.NodeCMapReaderFactory=I;class O extends n.BaseStandardFontDataFactory{_fetchData(b){return i(b)}}c.NodeStandardFontDataFactory=O},(P,c,v)=>{var x,b,T,N,F,k,p,s,l,Gt,E,Un,f,Vt,a,$n;Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationEditorLayer=void 0;var n=v(7),i=v(1),d=v(23),I=v(24);const D=class{constructor(A){fe(this,l);fe(this,E);fe(this,f);fe(this,a);fe(this,x,void 0);fe(this,b,!1);fe(this,T,this.pointerup.bind(this));fe(this,N,this.pointerdown.bind(this));fe(this,F,new Map);fe(this,k,!1);fe(this,p,!1);fe(this,s,void 0);D._initialized||(D._initialized=!0,d.FreeTextEditor.initialize(A.l10n),I.InkEditor.initialize(A.l10n),A.uiManager.registerEditorTypes([d.FreeTextEditor,I.InkEditor])),Ae(this,s,A.uiManager),this.annotationStorage=A.annotationStorage,this.pageIndex=A.pageIndex,this.div=A.div,Ae(this,x,A.accessibilityManager),B(this,s).addLayer(this)}updateToolbar(A){B(this,s).updateToolbar(A)}updateMode(A=B(this,s).getMode()){be(this,a,$n).call(this),A===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),B(this,s).unselectAll()}addInkEditorIfNeeded(A){if(!A&&B(this,s).getMode()!==i.AnnotationEditorType.INK)return;if(!A){for(const oe of B(this,F).values())if(oe.isEmpty()){oe.setInBackground();return}}be(this,f,Vt).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(A){B(this,s).setEditingState(A)}addCommands(A){B(this,s).addCommands(A)}enable(){this.div.style.pointerEvents="auto";for(const A of B(this,F).values())A.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const A of B(this,F).values())A.disableEditing()}setActiveEditor(A){B(this,s).getActive()!==A&&B(this,s).setActiveEditor(A)}enableClick(){this.div.addEventListener("pointerdown",B(this,N)),this.div.addEventListener("pointerup",B(this,T))}disableClick(){this.div.removeEventListener("pointerdown",B(this,N)),this.div.removeEventListener("pointerup",B(this,T))}attach(A){B(this,F).set(A.id,A)}detach(A){var j;B(this,F).delete(A.id),(j=B(this,x))==null||j.removePointerInTextLayer(A.contentDiv)}remove(A){B(this,s).removeEditor(A),this.detach(A),this.annotationStorage.remove(A.id),A.div.style.display="none",setTimeout(()=>{A.div.style.display="",A.div.remove(),A.isAttachedToDOM=!1,document.activeElement===document.body&&B(this,s).focusMainContainer()},0),B(this,p)||this.addInkEditorIfNeeded(!1)}add(A){if(be(this,l,Gt).call(this,A),B(this,s).addEditor(A),this.attach(A),!A.isAttachedToDOM){const j=A.render();this.div.append(j),A.isAttachedToDOM=!0}this.moveEditorInDOM(A),A.onceAdded(),this.addToAnnotationStorage(A)}moveEditorInDOM(A){var j;(j=B(this,x))==null||j.moveElementInDOM(this.div,A.div,A.contentDiv,!0)}addToAnnotationStorage(A){!A.isEmpty()&&!this.annotationStorage.has(A.id)&&this.annotationStorage.setValue(A.id,A)}addOrRebuild(A){A.needsToBeRebuilt()?A.rebuild():this.add(A)}addANewEditor(A){const j=()=>{this.addOrRebuild(A)},oe=()=>{A.remove()};this.addCommands({cmd:j,undo:oe,mustExec:!0})}addUndoableEditor(A){const j=()=>{this.addOrRebuild(A)},oe=()=>{A.remove()};this.addCommands({cmd:j,undo:oe,mustExec:!1})}getNextId(){return B(this,s).getId()}deserialize(A){switch(A.annotationType){case i.AnnotationEditorType.FREETEXT:return d.FreeTextEditor.deserialize(A,this);case i.AnnotationEditorType.INK:return I.InkEditor.deserialize(A,this)}return null}setSelected(A){B(this,s).setSelected(A)}toggleSelected(A){B(this,s).toggleSelected(A)}isSelected(A){return B(this,s).isSelected(A)}unselect(A){B(this,s).unselect(A)}pointerup(A){const j=n.KeyboardManager.platform.isMac;if(!(A.button!==0||A.ctrlKey&&j)&&A.target===this.div&&!!B(this,k)){if(Ae(this,k,!1),!B(this,b)){Ae(this,b,!0);return}be(this,f,Vt).call(this,A)}}pointerdown(A){const j=n.KeyboardManager.platform.isMac;if(A.button!==0||A.ctrlKey&&j||A.target!==this.div)return;Ae(this,k,!0);const oe=B(this,s).getActive();Ae(this,b,!oe||oe.isEmpty())}drop(A){const j=A.dataTransfer.getData("text/plain"),oe=B(this,s).getEditor(j);if(!oe)return;A.preventDefault(),A.dataTransfer.dropEffect="move",be(this,l,Gt).call(this,oe);const ce=this.div.getBoundingClientRect(),ne=A.clientX-ce.x,te=A.clientY-ce.y;oe.translate(ne-oe.startX,te-oe.startY),this.moveEditorInDOM(oe),oe.div.focus()}dragover(A){A.preventDefault()}destroy(){var A,j;((A=B(this,s).getActive())==null?void 0:A.parent)===this&&B(this,s).setActiveEditor(null);for(const oe of B(this,F).values())(j=B(this,x))==null||j.removePointerInTextLayer(oe.contentDiv),oe.isAttachedToDOM=!1,oe.div.remove(),oe.parent=null;this.div=null,B(this,F).clear(),B(this,s).removeLayer(this)}render(A){this.viewport=A.viewport,(0,n.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const j of B(this,s).getEditors(this.pageIndex))this.add(j);this.updateMode()}update(A){this.viewport=A.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[A,j,oe,ce]=this.viewport.viewBox,ne=oe-A,te=ce-j;return[ne,te]}get viewportBaseDimensions(){const{width:A,height:j,rotation:oe}=this.viewport;return oe%180===0?[A,j]:[j,A]}setDimensions(){const{width:A,height:j,rotation:oe}=this.viewport,ce=oe%180!==0,ne=Math.floor(A)+"px",te=Math.floor(j)+"px";this.div.style.width=ce?te:ne,this.div.style.height=ce?ne:te,this.div.setAttribute("data-main-rotation",oe)}};let O=D;x=new WeakMap,b=new WeakMap,T=new WeakMap,N=new WeakMap,F=new WeakMap,k=new WeakMap,p=new WeakMap,s=new WeakMap,l=new WeakSet,Gt=function(A){var j;A.parent!==this&&(this.attach(A),A.pageIndex=this.pageIndex,(j=A.parent)==null||j.detach(A),A.parent=this,A.div&&A.isAttachedToDOM&&(A.div.remove(),this.div.append(A.div)))},E=new WeakSet,Un=function(A){switch(B(this,s).getMode()){case i.AnnotationEditorType.FREETEXT:return new d.FreeTextEditor(A);case i.AnnotationEditorType.INK:return new I.InkEditor(A)}return null},f=new WeakSet,Vt=function(A){const j=this.getNextId(),oe=be(this,E,Un).call(this,{parent:this,id:j,x:A.offsetX,y:A.offsetY});return oe&&this.add(oe),oe},a=new WeakSet,$n=function(){Ae(this,p,!0);for(const A of B(this,F).values())A.isEmpty()&&A.remove();Ae(this,p,!1)},ze(O,"_initialized",!1),c.AnnotationEditorLayer=O},(P,c,v)=>{var O,x,b,T,N,F,k,p,Wn,l,qn,E,Hn,f,Xt;Object.defineProperty(c,"__esModule",{value:!0}),c.FreeTextEditor=void 0;var n=v(1),i=v(7),d=v(6);const a=class extends d.AnnotationEditor{constructor(R){super({...R,name:"freeTextEditor"});fe(this,p);fe(this,l);fe(this,E);fe(this,f);fe(this,O,this.editorDivBlur.bind(this));fe(this,x,this.editorDivFocus.bind(this));fe(this,b,this.editorDivKeydown.bind(this));fe(this,T,void 0);fe(this,N,"");fe(this,F,!1);fe(this,k,void 0);Ae(this,T,R.color||a._defaultColor||d.AnnotationEditor._defaultLineColor),Ae(this,k,R.fontSize||a._defaultFontSize)}static initialize(R){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(j=>[j,R.get(j)]));const A=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(A.getPropertyValue("--freetext-padding"))}static updateDefaultParams(R,A){switch(R){case n.AnnotationEditorParamsType.FREETEXT_SIZE:a._defaultFontSize=A;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:a._defaultColor=A;break}}updateParams(R,A){switch(R){case n.AnnotationEditorParamsType.FREETEXT_SIZE:be(this,p,Wn).call(this,A);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:be(this,l,qn).call(this,A);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,a._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,a._defaultColor||d.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,B(this,k)],[n.AnnotationEditorParamsType.FREETEXT_COLOR,B(this,T)]]}getInitialTranslation(){return[-a._internalPadding*this.parent.scaleFactor,-(a._internalPadding+B(this,k))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",B(this,b)),this.editorDiv.addEventListener("focus",B(this,x)),this.editorDiv.addEventListener("blur",B(this,O)))}disableEditMode(){!this.isInEditMode()||(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",B(this,b)),this.editorDiv.removeEventListener("focus",B(this,x)),this.editorDiv.removeEventListener("blur",B(this,O)),this.div.focus(),this.isEditing=!1)}focusin(R){super.focusin(R),R.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),B(this,F)||(Ae(this,F,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Ae(this,N,be(this,E,Hn).call(this).trimEnd()),be(this,f,Xt).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(R){this.enableEditMode(),this.editorDiv.focus()}keydown(R){R.target===this.div&&R.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(R){a._keyboardManager.exec(this,R)}editorDivFocus(R){this.isEditing=!0}editorDivBlur(R){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let R,A;this.width&&(R=this.x,A=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),a._l10nPromise.get("editor_free_text_aria_label").then(oe=>{var ce;return(ce=this.editorDiv)==null?void 0:ce.setAttribute("aria-label",oe)}),a._l10nPromise.get("free_text_default_content").then(oe=>{var ce;return(ce=this.editorDiv)==null?void 0:ce.setAttribute("default-content",oe)}),this.editorDiv.contentEditable=!0;const{style:j}=this.editorDiv;if(j.fontSize=`calc(${B(this,k)}px * var(--scale-factor))`,j.color=B(this,T),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[oe,ce]=this.parent.viewportBaseDimensions;this.setAt(R*oe,A*ce,this.width*oe,this.height*ce);for(const ne of B(this,N).split(`
`)){const te=document.createElement("div");te.append(ne?document.createTextNode(ne):document.createElement("br")),this.editorDiv.append(te)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(R,A){const j=super.deserialize(R,A);return Ae(j,k,R.fontSize),Ae(j,T,n.Util.makeHexColor(...R.color)),Ae(j,N,R.value),j}serialize(){if(this.isEmpty())return null;const R=a._internalPadding*this.parent.scaleFactor,A=this.getRect(R,R),j=d.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:n.AnnotationEditorType.FREETEXT,color:j,fontSize:B(this,k),value:B(this,N),pageIndex:this.parent.pageIndex,rect:A,rotation:this.rotation}}};let I=a;O=new WeakMap,x=new WeakMap,b=new WeakMap,T=new WeakMap,N=new WeakMap,F=new WeakMap,k=new WeakMap,p=new WeakSet,Wn=function(R){const A=oe=>{this.editorDiv.style.fontSize=`calc(${oe}px * var(--scale-factor))`,this.translate(0,-(oe-B(this,k))*this.parent.scaleFactor),Ae(this,k,oe),be(this,f,Xt).call(this)},j=B(this,k);this.parent.addCommands({cmd:()=>{A(R)},undo:()=>{A(j)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},l=new WeakSet,qn=function(R){const A=B(this,T);this.parent.addCommands({cmd:()=>{Ae(this,T,R),this.editorDiv.style.color=R},undo:()=>{Ae(this,T,A),this.editorDiv.style.color=A},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},E=new WeakSet,Hn=function(){const R=this.editorDiv.getElementsByTagName("div");if(R.length===0)return this.editorDiv.innerText;const A=[];for(let j=0,oe=R.length;j<oe;j++){const ne=R[j].firstChild;(ne==null?void 0:ne.nodeName)==="#text"?A.push(ne.data):A.push("")}return A.join(`
`)},f=new WeakSet,Xt=function(){const[R,A]=this.parent.viewportBaseDimensions,j=this.div.getBoundingClientRect();this.width=j.width/R,this.height=j.height/A},ze(I,"_freeTextDefaultContent",""),ze(I,"_l10nPromise"),ze(I,"_internalPadding",0),ze(I,"_defaultColor",null),ze(I,"_defaultFontSize",10),ze(I,"_keyboardManager",new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],a.prototype.commitOrRemove]])),ze(I,"_type","freetext"),c.FreeTextEditor=I},(P,c,v)=>{var b,T,N,F,k,p,s,l,h,E,S,f,o,a,_,zn,R,Gn,j,Vn,ce,Xn,te,Yt,Q,Yn,le,Kn,xe,Jn,y,rt,L,Kt,H,Et,K,Tt,u,pt,C,Jt,U,Pt,ae,Qt,ie,Qn,re,Zn,ve,es,ye,Zt,ke,kt,Me,gt,Pe,en;Object.defineProperty(c,"__esModule",{value:!0}),c.InkEditor=void 0,Object.defineProperty(c,"fitCurve",{enumerable:!0,get:function(){return d.fitCurve}});var n=v(1),i=v(6),d=v(25),I=v(7);const O=16,Ie=class extends i.AnnotationEditor{constructor(de){super({...de,name:"inkEditor"});fe(this,_);fe(this,R);fe(this,j);fe(this,ce);fe(this,te);fe(this,Q);fe(this,le);fe(this,xe);fe(this,y);fe(this,L);fe(this,H);fe(this,K);fe(this,u);fe(this,C);fe(this,U);fe(this,ie);fe(this,re);fe(this,ve);fe(this,ye);fe(this,ke);fe(this,Me);fe(this,Pe);fe(this,b,0);fe(this,T,0);fe(this,N,0);fe(this,F,this.canvasPointermove.bind(this));fe(this,k,this.canvasPointerleave.bind(this));fe(this,p,this.canvasPointerup.bind(this));fe(this,s,this.canvasPointerdown.bind(this));fe(this,l,!1);fe(this,h,!1);fe(this,E,null);fe(this,S,null);fe(this,f,0);fe(this,o,0);fe(this,a,null);this.color=de.color||null,this.thickness=de.thickness||null,this.opacity=de.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(de){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(we=>[we,de.get(we)]))}static updateDefaultParams(de,we){switch(de){case n.AnnotationEditorParamsType.INK_THICKNESS:Ie._defaultThickness=we;break;case n.AnnotationEditorParamsType.INK_COLOR:Ie._defaultColor=we;break;case n.AnnotationEditorParamsType.INK_OPACITY:Ie._defaultOpacity=we/100;break}}updateParams(de,we){switch(de){case n.AnnotationEditorParamsType.INK_THICKNESS:be(this,_,zn).call(this,we);break;case n.AnnotationEditorParamsType.INK_COLOR:be(this,R,Gn).call(this,we);break;case n.AnnotationEditorParamsType.INK_OPACITY:be(this,j,Vn).call(this,we);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,Ie._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,Ie._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(Ie._defaultOpacity*100)]]}get propertiesToUpdate(){var de;return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Ie._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||Ie._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*((de=this.opacity)!=null?de:Ie._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(be(this,H,Et).call(this),be(this,K,Tt).call(this)),this.isAttachedToDOM||(this.parent.add(this),be(this,u,pt).call(this)),be(this,Me,gt).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,B(this,S).disconnect(),Ae(this,S,null),super.remove())}enableEditMode(){B(this,l)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",B(this,s)),this.canvas.addEventListener("pointerup",B(this,p)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",B(this,s)),this.canvas.removeEventListener("pointerup",B(this,p)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){B(this,l)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Ae(this,l,!0),this.div.classList.add("disabled"),be(this,Me,gt).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(de){super.focusin(de),this.enableEditMode()}canvasPointerdown(de){de.button!==0||!this.isInEditMode()||B(this,l)||(this.setInForeground(),de.type!=="mouse"&&this.div.focus(),de.stopPropagation(),this.canvas.addEventListener("pointerleave",B(this,k)),this.canvas.addEventListener("pointermove",B(this,F)),be(this,Q,Yn).call(this,de.offsetX,de.offsetY))}canvasPointermove(de){de.stopPropagation(),be(this,le,Kn).call(this,de.offsetX,de.offsetY)}canvasPointerup(de){de.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(de.stopPropagation(),be(this,L,Kt).call(this,de),this.setInBackground())}canvasPointerleave(de){be(this,L,Kt).call(this,de),this.setInBackground()}render(){if(this.div)return this.div;let de,we;this.width&&(de=this.x,we=this.y),super.render(),Ie._l10nPromise.get("editor_ink_aria_label").then(Se=>{var Ee;return(Ee=this.div)==null?void 0:Ee.setAttribute("aria-label",Se)});const[se,Y,J,_e]=be(this,ce,Xn).call(this);if(this.setAt(se,Y,0,0),this.setDims(J,_e),be(this,H,Et).call(this),this.width){const[Se,Ee]=this.parent.viewportBaseDimensions;this.setAt(de*Se,we*Ee,this.width*Se,this.height*Ee),Ae(this,h,!0),be(this,u,pt).call(this),this.setDims(this.width*Se,this.height*Ee),be(this,y,rt).call(this),be(this,Pe,en).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return be(this,K,Tt).call(this),this.div}setDimensions(de,we){const se=Math.round(de),Y=Math.round(we);if(B(this,f)===se&&B(this,o)===Y)return;Ae(this,f,se),Ae(this,o,Y),this.canvas.style.visibility="hidden",B(this,b)&&Math.abs(B(this,b)-de/we)>.01&&(we=Math.ceil(de/B(this,b)),this.setDims(de,we));const[J,_e]=this.parent.viewportBaseDimensions;this.width=de/J,this.height=we/_e,B(this,l)&&be(this,C,Jt).call(this,de,we),be(this,u,pt).call(this),be(this,y,rt).call(this),this.canvas.style.visibility="visible"}static deserialize(de,we){var je,Ne;const se=super.deserialize(de,we);se.thickness=de.thickness,se.color=n.Util.makeHexColor(...de.color),se.opacity=de.opacity;const[Y,J]=we.pageDimensions,_e=se.width*Y,Se=se.height*J,Ee=we.scaleFactor,Re=de.thickness/2;Ae(se,b,_e/Se),Ae(se,l,!0),Ae(se,f,Math.round(_e)),Ae(se,o,Math.round(Se));for(const{bezier:Oe}of de.paths){const We=[];se.paths.push(We);let $e=Ee*(Oe[0]-Re),Ve=Ee*(Se-Oe[1]-Re);for(let qe=2,Ke=Oe.length;qe<Ke;qe+=6){const tt=Ee*(Oe[qe]-Re),nt=Ee*(Se-Oe[qe+1]-Re),Ze=Ee*(Oe[qe+2]-Re),Ge=Ee*(Se-Oe[qe+3]-Re),Je=Ee*(Oe[qe+4]-Re),ot=Ee*(Se-Oe[qe+5]-Re);We.push([[$e,Ve],[tt,nt],[Ze,Ge],[Je,ot]]),$e=Je,Ve=ot}const De=be(this,ae,Qt).call(this,We);se.bezierPath2D.push(De)}const Le=be(je=se,ye,Zt).call(je);return Ae(se,N,Math.max(O,Le[2]-Le[0])),Ae(se,T,Math.max(O,Le[3]-Le[1])),be(Ne=se,C,Jt).call(Ne,_e,Se),se}serialize(){if(this.isEmpty())return null;const de=this.getRect(0,0),we=this.rotation%180===0?de[3]-de[1]:de[2]-de[0],se=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:se,thickness:this.thickness,opacity:this.opacity,paths:be(this,ie,Qn).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,we),pageIndex:this.parent.pageIndex,rect:de,rotation:this.rotation}}};let x=Ie;b=new WeakMap,T=new WeakMap,N=new WeakMap,F=new WeakMap,k=new WeakMap,p=new WeakMap,s=new WeakMap,l=new WeakMap,h=new WeakMap,E=new WeakMap,S=new WeakMap,f=new WeakMap,o=new WeakMap,a=new WeakMap,_=new WeakSet,zn=function(de){const we=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=de,be(this,Me,gt).call(this)},undo:()=>{this.thickness=we,be(this,Me,gt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},R=new WeakSet,Gn=function(de){const we=this.color;this.parent.addCommands({cmd:()=>{this.color=de,be(this,y,rt).call(this)},undo:()=>{this.color=we,be(this,y,rt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},j=new WeakSet,Vn=function(de){de/=100;const we=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=de,be(this,y,rt).call(this)},undo:()=>{this.opacity=we,be(this,y,rt).call(this)},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},ce=new WeakSet,Xn=function(){const{width:de,height:we,rotation:se}=this.parent.viewport;switch(se){case 90:return[0,de,de,we];case 180:return[de,we,de,we];case 270:return[we,0,de,we];default:return[0,0,de,we]}},te=new WeakSet,Yt=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,I.opacityToHex)(this.opacity)}`},Q=new WeakSet,Yn=function(de,we){var se;this.isEditing=!0,B(this,h)||(Ae(this,h,!0),be(this,u,pt).call(this),this.thickness||(this.thickness=Ie._defaultThickness),this.color||(this.color=Ie._defaultColor||i.AnnotationEditor._defaultLineColor),(se=this.opacity)!=null||(this.opacity=Ie._defaultOpacity)),this.currentPath.push([de,we]),Ae(this,E,null),be(this,te,Yt).call(this),this.ctx.beginPath(),this.ctx.moveTo(de,we),Ae(this,a,()=>{!B(this,a)||(B(this,E)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):be(this,y,rt).call(this),this.ctx.lineTo(...B(this,E)),Ae(this,E,null),this.ctx.stroke()),window.requestAnimationFrame(B(this,a)))}),window.requestAnimationFrame(B(this,a))},le=new WeakSet,Kn=function(de,we){const[se,Y]=this.currentPath.at(-1);de===se&&we===Y||(this.currentPath.push([de,we]),Ae(this,E,[de,we]))},xe=new WeakSet,Jn=function(de,we){var Re;this.ctx.closePath(),Ae(this,a,null),de=Math.min(Math.max(de,0),this.canvas.width),we=Math.min(Math.max(we,0),this.canvas.height);const[se,Y]=this.currentPath.at(-1);(de!==se||we!==Y)&&this.currentPath.push([de,we]);let J;if(this.currentPath.length!==1)J=(0,d.fitCurve)(this.currentPath,30,null);else{const Le=[de,we];J=[[Le,Le.slice(),Le.slice(),Le]]}const _e=be(Re=Ie,ae,Qt).call(Re,J);this.currentPath.length=0;const Se=()=>{this.paths.push(J),this.bezierPath2D.push(_e),this.rebuild()},Ee=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(be(this,H,Et).call(this),be(this,K,Tt).call(this)),be(this,Me,gt).call(this))};this.parent.addCommands({cmd:Se,undo:Ee,mustExec:!0})},y=new WeakSet,rt=function(){if(this.isEmpty()){be(this,U,Pt).call(this);return}be(this,te,Yt).call(this);const{canvas:de,ctx:we}=this;we.setTransform(1,0,0,1,0,0),we.clearRect(0,0,de.width,de.height),be(this,U,Pt).call(this);for(const se of this.bezierPath2D)we.stroke(se)},L=new WeakSet,Kt=function(de){be(this,xe,Jn).call(this,de.offsetX,de.offsetY),this.canvas.removeEventListener("pointerleave",B(this,k)),this.canvas.removeEventListener("pointermove",B(this,F)),this.parent.addToAnnotationStorage(this)},H=new WeakSet,Et=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Ie._l10nPromise.get("editor_ink_canvas_aria_label").then(de=>{var we;return(we=this.canvas)==null?void 0:we.setAttribute("aria-label",de)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},K=new WeakSet,Tt=function(){Ae(this,S,new ResizeObserver(de=>{const we=de[0].contentRect;we.width&&we.height&&this.setDimensions(we.width,we.height)})),B(this,S).observe(this.div)},u=new WeakSet,pt=function(){if(!B(this,h))return;const[de,we]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*de),this.canvas.height=Math.ceil(this.height*we),be(this,U,Pt).call(this)},C=new WeakSet,Jt=function(de,we){const se=be(this,ke,kt).call(this),Y=(de-se)/B(this,N),J=(we-se)/B(this,T);this.scaleFactor=Math.min(Y,J)},U=new WeakSet,Pt=function(){const de=be(this,ke,kt).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+de,this.translationY*this.scaleFactor+de)},ae=new WeakSet,Qt=function(de){const we=new Path2D;for(let se=0,Y=de.length;se<Y;se++){const[J,_e,Se,Ee]=de[se];se===0&&we.moveTo(...J),we.bezierCurveTo(_e[0],_e[1],Se[0],Se[1],Ee[0],Ee[1])}return we},ie=new WeakSet,Qn=function(de,we,se,Y){const _e=[],Se=this.thickness/2;let Ee,Re;for(const Le of this.paths){Ee=[],Re=[];for(let je=0,Ne=Le.length;je<Ne;je++){const[Oe,We,$e,Ve]=Le[je],De=de*(Oe[0]+we)+Se,qe=Y-de*(Oe[1]+se)-Se,Ke=de*(We[0]+we)+Se,tt=Y-de*(We[1]+se)-Se,nt=de*($e[0]+we)+Se,Ze=Y-de*($e[1]+se)-Se,Ge=de*(Ve[0]+we)+Se,Je=Y-de*(Ve[1]+se)-Se;je===0&&(Ee.push(De,qe),Re.push(De,qe)),Ee.push(Ke,tt,nt,Ze,Ge,Je),be(this,re,Zn).call(this,De,qe,Ke,tt,nt,Ze,Ge,Je,4,Re)}_e.push({bezier:Ee,points:Re})}return _e},re=new WeakSet,Zn=function(de,we,se,Y,J,_e,Se,Ee,Re,Le){if(be(this,ve,es).call(this,de,we,se,Y,J,_e,Se,Ee)){Le.push(Se,Ee);return}for(let je=1;je<Re-1;je++){const Ne=je/Re,Oe=1-Ne;let We=Ne*de+Oe*se,$e=Ne*we+Oe*Y,Ve=Ne*se+Oe*J,De=Ne*Y+Oe*_e;const qe=Ne*J+Oe*Se,Ke=Ne*_e+Oe*Ee;We=Ne*We+Oe*Ve,$e=Ne*$e+Oe*De,Ve=Ne*Ve+Oe*qe,De=Ne*De+Oe*Ke,We=Ne*We+Oe*Ve,$e=Ne*$e+Oe*De,Le.push(We,$e)}Le.push(Se,Ee)},ve=new WeakSet,es=function(de,we,se,Y,J,_e,Se,Ee){const Le=(3*se-2*de-Se)**2,je=(3*Y-2*we-Ee)**2,Ne=(3*J-de-2*Se)**2,Oe=(3*_e-we-2*Ee)**2;return Math.max(Le,Ne)+Math.max(je,Oe)<=10},ye=new WeakSet,Zt=function(){let de=1/0,we=-1/0,se=1/0,Y=-1/0;for(const J of this.paths)for(const[_e,Se,Ee,Re]of J){const Le=n.Util.bezierBoundingBox(..._e,...Se,...Ee,...Re);de=Math.min(de,Le[0]),se=Math.min(se,Le[1]),we=Math.max(we,Le[2]),Y=Math.max(Y,Le[3])}return[de,se,we,Y]},ke=new WeakSet,kt=function(){return B(this,l)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Me=new WeakSet,gt=function(de=!1){if(this.isEmpty())return;if(!B(this,l)){be(this,y,rt).call(this);return}const we=be(this,ye,Zt).call(this),se=be(this,ke,kt).call(this);Ae(this,N,Math.max(O,we[2]-we[0])),Ae(this,T,Math.max(O,we[3]-we[1]));const Y=Math.ceil(se+B(this,N)*this.scaleFactor),J=Math.ceil(se+B(this,T)*this.scaleFactor),[_e,Se]=this.parent.viewportBaseDimensions;this.width=Y/_e,this.height=J/Se,Ae(this,b,Y/J),be(this,Pe,en).call(this);const Ee=this.translationX,Re=this.translationY;this.translationX=-we[0],this.translationY=-we[1],be(this,u,pt).call(this),be(this,y,rt).call(this),Ae(this,f,Y),Ae(this,o,J),this.setDims(Y,J);const Le=de?se/this.scaleFactor/2:0;this.translate(Ee-this.translationX-Le,Re-this.translationY-Le)},Pe=new WeakSet,en=function(){const{style:de}=this.div;B(this,b)>=1?(de.minHeight=`${O}px`,de.minWidth=`${Math.round(B(this,b)*O)}px`):(de.minWidth=`${O}px`,de.minHeight=`${Math.round(O/B(this,b))}px`)},fe(x,ae),ze(x,"_defaultColor",null),ze(x,"_defaultOpacity",1),ze(x,"_defaultThickness",1),ze(x,"_l10nPromise"),ze(x,"_type","ink"),c.InkEditor=x},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.fitCurve=void 0;const n=v(26);c.fitCurve=n},P=>{function c(p,s,l){if(!Array.isArray(p))throw new TypeError("First argument should be an array");if(p.forEach(f=>{if(!Array.isArray(f)||f.some(o=>typeof o!="number")||f.length!==p[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),p=p.filter((f,o)=>o===0||!f.every((a,_)=>a===p[o-1][_])),p.length<2)return[];const h=p.length,E=N(p[1],p[0]),S=N(p[h-2],p[h-1]);return v(p,E,S,s,l)}function v(p,s,l,h,E){var f,o,a,_,D,R,A,j,oe,ce,ne,te,X;if(p.length===2)return te=F.vectorLen(F.subtract(p[0],p[1]))/3,f=[p[0],F.addArrays(p[0],F.mulItems(s,te)),F.addArrays(p[1],F.mulItems(l,te)),p[1]],[f];if(o=O(p),[f,_,R]=n(p,o,o,s,l,E),_===0||_<h)return[f];if(_<h*h)for(a=o,D=_,A=R,X=0;X<20;X++){if(a=d(f,p,a),[f,_,R]=n(p,o,a,s,l,E),_<h)return[f];if(R===A){let Q=_/D;if(Q>.9999&&Q<1.0001)break}D=_,A=R}return ne=[],j=F.subtract(p[R-1],p[R+1]),j.every(Q=>Q===0)&&(j=F.subtract(p[R-1],p[R]),[j[0],j[1]]=[-j[1],j[0]]),oe=F.normalize(j),ce=F.mulItems(oe,-1),ne=ne.concat(v(p.slice(0,R+1),s,oe,h,E)),ne=ne.concat(v(p.slice(R),ce,l,h,E)),ne}function n(p,s,l,h,E,S){var f,o,a;return f=i(p,l,h,E),[o,a]=x(p,f,s),S&&S({bez:f,points:p,params:s,maxErr:o,maxPoint:a}),[f,o,a]}function i(p,s,l,h){var E,S,f,o,a,_,D,R,A,j,oe,ce,ne,te,X,Q,ee,le=p[0],ge=p[p.length-1];for(E=[le,null,null,ge],S=F.zeros_Xx2x2(s.length),ne=0,te=s.length;ne<te;ne++)Q=s[ne],ee=1-Q,f=S[ne],f[0]=F.mulItems(l,3*Q*(ee*ee)),f[1]=F.mulItems(h,3*ee*(Q*Q));for(o=[[0,0],[0,0]],a=[0,0],ne=0,te=p.length;ne<te;ne++)Q=s[ne],f=S[ne],o[0][0]+=F.dot(f[0],f[0]),o[0][1]+=F.dot(f[0],f[1]),o[1][0]+=F.dot(f[0],f[1]),o[1][1]+=F.dot(f[1],f[1]),X=F.subtract(p[ne],k.q([le,le,ge,ge],Q)),a[0]+=F.dot(f[0],X),a[1]+=F.dot(f[1],X);return _=o[0][0]*o[1][1]-o[1][0]*o[0][1],D=o[0][0]*a[1]-o[1][0]*a[0],R=a[0]*o[1][1]-a[1]*o[0][1],A=_===0?0:R/_,j=_===0?0:D/_,ce=F.vectorLen(F.subtract(le,ge)),oe=1e-6*ce,A<oe||j<oe?(E[1]=F.addArrays(le,F.mulItems(l,ce/3)),E[2]=F.addArrays(ge,F.mulItems(h,ce/3))):(E[1]=F.addArrays(le,F.mulItems(l,A)),E[2]=F.addArrays(ge,F.mulItems(h,j))),E}function d(p,s,l){return l.map((h,E)=>I(p,s[E],h))}function I(p,s,l){var h=F.subtract(k.q(p,l),s),E=k.qprime(p,l),S=F.mulMatrix(h,E),f=F.sum(F.squareItems(E))+2*F.mulMatrix(h,k.qprimeprime(p,l));return f===0?l:l-S/f}function O(p){var s=[],l,h,E;return p.forEach((S,f)=>{l=f?h+F.vectorLen(F.subtract(S,E)):0,s.push(l),h=l,E=S}),s=s.map(S=>S/h),s}function x(p,s,l){var h,E,S,f,o,a,_,D;E=0,S=Math.floor(p.length/2);const R=b(s,10);for(o=0,a=p.length;o<a;o++)_=p[o],D=T(s,l[o],R,10),f=F.subtract(k.q(s,D),_),h=f[0]*f[0]+f[1]*f[1],h>E&&(E=h,S=o);return[E,S]}var b=function(p,s){for(var l,h=[0],E=p[0],S=0,f=1;f<=s;f++)l=k.q(p,f/s),S+=F.vectorLen(F.subtract(l,E)),h.push(S),E=l;return h=h.map(o=>o/S),h};function T(p,s,l,h){if(s<0)return 0;if(s>1)return 1;for(var E,S,f,o,a,_=1;_<=h;_++)if(s<=l[_]){o=(_-1)/h,f=_/h,S=l[_-1],E=l[_],a=(s-S)/(E-S)*(f-o)+o;break}return a}function N(p,s){return F.normalize(F.subtract(p,s))}class F{static zeros_Xx2x2(s){for(var l=[];s--;)l.push([0,0]);return l}static mulItems(s,l){return s.map(h=>h*l)}static mulMatrix(s,l){return s.reduce((h,E,S)=>h+E*l[S],0)}static subtract(s,l){return s.map((h,E)=>h-l[E])}static addArrays(s,l){return s.map((h,E)=>h+l[E])}static addItems(s,l){return s.map(h=>h+l)}static sum(s){return s.reduce((l,h)=>l+h)}static dot(s,l){return F.mulMatrix(s,l)}static vectorLen(s){return Math.hypot(...s)}static divItems(s,l){return s.map(h=>h/l)}static squareItems(s){return s.map(l=>l*l)}static normalize(s){return this.divItems(s,this.vectorLen(s))}}class k{static q(s,l){var h=1-l,E=F.mulItems(s[0],h*h*h),S=F.mulItems(s[1],3*h*h*l),f=F.mulItems(s[2],3*h*l*l),o=F.mulItems(s[3],l*l*l);return F.addArrays(F.addArrays(E,S),F.addArrays(f,o))}static qprime(s,l){var h=1-l,E=F.mulItems(F.subtract(s[1],s[0]),3*h*h),S=F.mulItems(F.subtract(s[2],s[1]),6*h*l),f=F.mulItems(F.subtract(s[3],s[2]),3*l*l);return F.addArrays(F.addArrays(E,S),f)}static qprimeprime(s,l){return F.addArrays(F.mulItems(F.addArrays(F.subtract(s[2],F.mulItems(s[1],2)),s[0]),6*(1-l)),F.mulItems(F.addArrays(F.subtract(s[3],F.mulItems(s[2],2)),s[1]),6*l))}}P.exports=c,P.exports.fitCubic=v,P.exports.createTangent=N},(P,c,v)=>{var y,tn,L,nn,H,sn;Object.defineProperty(c,"__esModule",{value:!0}),c.AnnotationLayer=void 0;var n=v(1),i=v(8),d=v(5),I=v(28),O=v(29);const x=1e3,b=9,T=new WeakSet;function N(Z){return{width:Z[2]-Z[0],height:Z[3]-Z[1]}}class F{static create(u){switch(u.data.annotationType){case n.AnnotationType.LINK:return new p(u);case n.AnnotationType.TEXT:return new s(u);case n.AnnotationType.WIDGET:switch(u.data.fieldType){case"Tx":return new h(u);case"Btn":return u.data.radioButton?new S(u):u.data.checkBox?new E(u):new f(u);case"Ch":return new o(u)}return new l(u);case n.AnnotationType.POPUP:return new a(u);case n.AnnotationType.FREETEXT:return new D(u);case n.AnnotationType.LINE:return new R(u);case n.AnnotationType.SQUARE:return new A(u);case n.AnnotationType.CIRCLE:return new j(u);case n.AnnotationType.POLYLINE:return new oe(u);case n.AnnotationType.CARET:return new ne(u);case n.AnnotationType.INK:return new te(u);case n.AnnotationType.POLYGON:return new ce(u);case n.AnnotationType.HIGHLIGHT:return new X(u);case n.AnnotationType.UNDERLINE:return new Q(u);case n.AnnotationType.SQUIGGLY:return new ee(u);case n.AnnotationType.STRIKEOUT:return new le(u);case n.AnnotationType.STAMP:return new ge(u);case n.AnnotationType.FILEATTACHMENT:return new xe(u);default:return new k(u)}}}class k{constructor(u,{isRenderable:w=!1,ignoreBorder:C=!1,createQuadrilaterals:M=!1}={}){this.isRenderable=w,this.data=u.data,this.layer=u.layer,this.page=u.page,this.viewport=u.viewport,this.linkService=u.linkService,this.downloadManager=u.downloadManager,this.imageResourcesPath=u.imageResourcesPath,this.renderForms=u.renderForms,this.svgFactory=u.svgFactory,this.annotationStorage=u.annotationStorage,this.enableScripting=u.enableScripting,this.hasJSActions=u.hasJSActions,this._fieldObjects=u.fieldObjects,this._mouseState=u.mouseState,w&&(this.container=this._createContainer(C)),M&&(this.quadrilaterals=this._createQuadrilaterals(C))}_createContainer(u=!1){const w=this.data,C=this.page,M=this.viewport,U=document.createElement("section"),{width:W,height:ae}=N(w.rect),[me,ie,ue,re]=M.viewBox,pe=ue-me,ve=re-ie;U.setAttribute("data-annotation-id",w.id);const $=n.Util.normalizeRect([w.rect[0],C.view[3]-w.rect[1]+C.view[1],w.rect[2],C.view[3]-w.rect[3]+C.view[1]]);if(!u&&w.borderStyle.width>0){U.style.borderWidth=`${w.borderStyle.width}px`;const Ce=w.borderStyle.horizontalCornerRadius,ke=w.borderStyle.verticalCornerRadius;if(Ce>0||ke>0){const Me=`calc(${Ce}px * var(--scale-factor)) / calc(${ke}px * var(--scale-factor))`;U.style.borderRadius=Me}else if(this instanceof S){const Me=`calc(${W}px * var(--scale-factor)) / calc(${ae}px * var(--scale-factor))`;U.style.borderRadius=Me}switch(w.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:U.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:U.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:U.style.borderBottomStyle="solid";break}const Fe=w.borderColor||null;Fe?U.style.borderColor=n.Util.makeHexColor(Fe[0]|0,Fe[1]|0,Fe[2]|0):U.style.borderWidth=0}U.style.left=`${100*($[0]-me)/pe}%`,U.style.top=`${100*($[1]-ie)/ve}%`;const{rotation:ye}=w;return w.hasOwnCanvas||ye===0?(U.style.width=`${100*W/pe}%`,U.style.height=`${100*ae/ve}%`):this.setRotation(ye,U),U}setRotation(u,w=this.container){const[C,M,U,W]=this.viewport.viewBox,ae=U-C,me=W-M,{width:ie,height:ue}=N(this.data.rect);let re,pe;u%180===0?(re=100*ie/ae,pe=100*ue/me):(re=100*ue/ae,pe=100*ie/me),w.style.width=`${re}%`,w.style.height=`${pe}%`,w.setAttribute("data-main-rotation",(360-u)%360)}get _commonActions(){const u=(w,C,M)=>{const U=M.detail[w];M.target.style[C]=I.ColorConverters[`${U[0]}_HTML`](U.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:w=>{const C=w.detail.display%2===1;this.container.style.visibility=C?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:C,print:w.detail.display===0||w.detail.display===3})},print:w=>{this.annotationStorage.setValue(this.data.id,{print:w.detail.print})},hidden:w=>{this.container.style.visibility=w.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:w.detail.hidden})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.detail.readonly?w.target.setAttribute("readonly",""):w.target.removeAttribute("readonly")},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{u("bgColor","backgroundColor",w)},fillColor:w=>{u("fillColor","backgroundColor",w)},fgColor:w=>{u("fgColor","color",w)},textColor:w=>{u("textColor","color",w)},borderColor:w=>{u("borderColor","borderColor",w)},strokeColor:w=>{u("strokeColor","borderColor",w)},rotation:w=>{const C=w.detail.rotation;this.setRotation(C),this.annotationStorage.setValue(this.data.id,{rotation:C})}})}_dispatchEventFromSandbox(u,w){const C=this._commonActions;for(const M of Object.keys(w.detail)){const U=u[M]||C[M];U&&U(w)}}_setDefaultPropertiesFromJS(u){if(!this.enableScripting)return;const w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;const C=this._commonActions;for(const[M,U]of Object.entries(w)){const W=C[M];if(W){const ae={detail:{[M]:U},target:u};W(ae),delete w[M]}}}_createQuadrilaterals(u=!1){if(!this.data.quadPoints)return null;const w=[],C=this.data.rect;for(const M of this.data.quadPoints)this.data.rect=[M[2].x,M[2].y,M[1].x,M[1].y],w.push(this._createContainer(u));return this.data.rect=C,w}_createPopup(u,w){let C=this.container;this.quadrilaterals&&(u=u||this.quadrilaterals,C=this.quadrilaterals[0]),u||(u=document.createElement("div"),u.className="popupTriggerArea",C.append(u));const U=new _({container:C,trigger:u,color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,hideWrapper:!0}).render();U.style.left="100%",C.append(U)}_renderQuadrilaterals(u){for(const w of this.quadrilaterals)w.className=u;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(u,w=null){const C=[];if(this._fieldObjects){const M=this._fieldObjects[u];if(M)for(const{page:U,id:W,exportValues:ae}of M){if(U===-1||W===w)continue;const me=typeof ae=="string"?ae:null,ie=document.querySelector(`[data-element-id="${W}"]`);if(ie&&!T.has(ie)){(0,n.warn)(`_getElementsByName - element not allowed: ${W}`);continue}C.push({id:W,exportValue:me,domElement:ie})}return C}for(const M of document.getElementsByName(u)){const{id:U,exportValue:W}=M;U!==w&&(!T.has(M)||C.push({id:U,exportValue:W,domElement:M}))}return C}static get platform(){const u=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:u.includes("Win"),isMac:u.includes("Mac")})}}class p extends k{constructor(u,w=null){super(u,{isRenderable:!0,ignoreBorder:!!(w!=null&&w.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=u.data.isTooltipOnly}render(){const{data:u,linkService:w}=this,C=document.createElement("a");C.setAttribute("data-element-id",u.id);let M=!1;return u.url?(w.addLinkAttributes(C,u.url,u.newWindow),M=!0):u.action?(this._bindNamedAction(C,u.action),M=!0):u.dest?(this._bindLink(C,u.dest),M=!0):(u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(C,u),M=!0),u.resetForm?(this._bindResetFormAction(C,u.resetForm),M=!0):this.isTooltipOnly&&!M&&(this._bindLink(C,""),M=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((U,W)=>{const ae=W===0?C:C.cloneNode();return U.append(ae),U}):(this.container.className="linkAnnotation",M&&this.container.append(C),this.container)}_bindLink(u,w){u.href=this.linkService.getDestinationHash(w),u.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&(u.className="internalLink")}_bindNamedAction(u,w){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(w),!1),u.className="internalLink"}_bindJSAction(u,w){u.href=this.linkService.getAnchorUrl("");const C=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const M of Object.keys(w.actions)){const U=C.get(M);!U||(u[U]=()=>{var W;return(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:M}}),!1})}u.onclick||(u.onclick=()=>!1),u.className="internalLink"}_bindResetFormAction(u,w){const C=u.onclick;if(C||(u.href=this.linkService.getAnchorUrl("")),u.className="internalLink",!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),C||(u.onclick=()=>!1);return}u.onclick=()=>{var ue;C&&C();const{fields:M,refs:U,include:W}=w,ae=[];if(M.length!==0||U.length!==0){const re=new Set(U);for(const pe of M){const ve=this._fieldObjects[pe]||[];for(const{id:$}of ve)re.add($)}for(const pe of Object.values(this._fieldObjects))for(const ve of pe)re.has(ve.id)===W&&ae.push(ve)}else for(const re of Object.values(this._fieldObjects))ae.push(...re);const me=this.annotationStorage,ie=[];for(const re of ae){const{id:pe}=re;switch(ie.push(pe),re.type){case"text":{const $=re.defaultValue||"";me.setValue(pe,{value:$});break}case"checkbox":case"radiobutton":{const $=re.defaultValue===re.exportValues;me.setValue(pe,{value:$});break}case"combobox":case"listbox":{const $=re.defaultValue||"";me.setValue(pe,{value:$});break}default:continue}const ve=document.querySelector(`[data-element-id="${pe}"]`);if(ve){if(!T.has(ve)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${pe}`);continue}}else continue;ve.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ue=this.linkService.eventBus)==null||ue.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ie,name:"ResetForm"}})),!1}}}class s extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w})}render(){this.container.className="textAnnotation";const u=document.createElement("img");return u.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",u.alt="[{{type}} Annotation]",u.dataset.l10nId="text_annotation_type",u.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(u,this.data),this.container.append(u),this.container}}class l extends k{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(u){const{isWin:w,isMac:C}=k.platform;return w&&u.ctrlKey||C&&u.metaKey}_setEventListener(u,w,C,M){w.includes("mouse")?u.addEventListener(w,U=>{var W;(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:C,value:M(U),shift:U.shiftKey,modifier:this._getKeyModifier(U)}})}):u.addEventListener(w,U=>{var W;(W=this.linkService.eventBus)==null||W.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:C,value:M(U)}})})}_setEventListeners(u,w,C){var M;for(const[U,W]of w)(W==="Action"||((M=this.data.actions)==null?void 0:M[W]))&&this._setEventListener(u,U,W,C)}_setBackgroundColor(u){const w=this.data.backgroundColor||null;u.style.backgroundColor=w===null?"transparent":n.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(u){const w=["left","center","right"],{fontColor:C}=this.data.defaultAppearanceData,M=this.data.defaultAppearanceData.fontSize||b,U=u.style;let W;if(this.data.multiLine){const ae=Math.abs(this.data.rect[3]-this.data.rect[1]),me=Math.round(ae/(n.LINE_FACTOR*M))||1,ie=ae/me;W=Math.min(M,Math.round(ie/n.LINE_FACTOR))}else{const ae=Math.abs(this.data.rect[3]-this.data.rect[1]);W=Math.min(M,Math.round(ae/n.LINE_FACTOR))}U.fontSize=`calc(${W}px * var(--scale-factor))`,U.color=n.Util.makeHexColor(C[0],C[1],C[2]),this.data.textAlignment!==null&&(U.textAlign=w[this.data.textAlignment])}_setRequired(u,w){w?u.setAttribute("required",!0):u.removeAttribute("required"),u.setAttribute("aria-required",w)}}class h extends l{constructor(u){const w=u.renderForms||!u.data.hasAppearance&&!!u.data.fieldValue;super(u,{isRenderable:w})}setPropertyOnSiblings(u,w,C,M){const U=this.annotationStorage;for(const W of this._getElementsByName(u.name,u.id))W.domElement&&(W.domElement[w]=C),U.setValue(W.id,{[M]:C})}render(){var M;const u=this.annotationStorage,w=this.data.id;this.container.className="textWidgetAnnotation";let C=null;if(this.renderForms){const U=u.getValue(w,{value:this.data.fieldValue});let W=U.formattedValue||U.value||"";const ae=u.getValue(w,{charLimit:this.data.maxLen}).charLimit;ae&&W.length>ae&&(W=W.slice(0,ae));const me={userValue:W,formattedValue:null,valueOnFocus:""};this.data.multiLine?(C=document.createElement("textarea"),C.textContent=W,this.data.doNotScroll&&(C.style.overflowY="hidden")):(C=document.createElement("input"),C.type="text",C.setAttribute("value",W),this.data.doNotScroll&&(C.style.overflowX="hidden")),T.add(C),C.setAttribute("data-element-id",w),C.disabled=this.data.readOnly,C.name=this.data.fieldName,C.tabIndex=x,this._setRequired(C,this.data.required),ae&&(C.maxLength=ae),C.addEventListener("input",ue=>{u.setValue(w,{value:ue.target.value}),this.setPropertyOnSiblings(C,"value",ue.target.value,"value")}),C.addEventListener("resetform",ue=>{var pe;const re=(pe=this.data.defaultFieldValue)!=null?pe:"";C.value=me.userValue=re,me.formattedValue=null});let ie=ue=>{const{formattedValue:re}=me;re!=null&&(ue.target.value=re),ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){C.addEventListener("focus",re=>{me.userValue&&(re.target.value=me.userValue),me.valueOnFocus=re.target.value}),C.addEventListener("updatefromsandbox",re=>{const pe={value(ve){var $;me.userValue=($=ve.detail.value)!=null?$:"",u.setValue(w,{value:me.userValue.toString()}),ve.target.value=me.userValue},formattedValue(ve){const{formattedValue:$}=ve.detail;me.formattedValue=$,$!=null&&ve.target!==document.activeElement&&(ve.target.value=$),u.setValue(w,{formattedValue:$})},selRange(ve){ve.target.setSelectionRange(...ve.detail.selRange)},charLimit:ve=>{var ke;const{charLimit:$}=ve.detail,{target:ye}=ve;if($===0){ye.removeAttribute("maxLength");return}ye.setAttribute("maxLength",$);let Ce=me.userValue;!Ce||Ce.length<=$||(Ce=Ce.slice(0,$),ye.value=me.userValue=Ce,u.setValue(w,{value:Ce}),(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Ce,willCommit:!0,commitKey:1,selStart:ye.selectionStart,selEnd:ye.selectionEnd}}))}};this._dispatchEventFromSandbox(pe,re)}),C.addEventListener("keydown",re=>{var $;let pe=-1;if(re.key==="Escape"?pe=0:re.key==="Enter"?pe=2:re.key==="Tab"&&(pe=3),pe===-1)return;const{value:ve}=re.target;me.valueOnFocus!==ve&&(me.userValue=ve,($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ve,willCommit:!0,commitKey:pe,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}}))});const ue=ie;ie=null,C.addEventListener("blur",re=>{var ve;const{value:pe}=re.target;me.userValue=pe,this._mouseState.isDown&&me.valueOnFocus!==pe&&((ve=this.linkService.eventBus)==null||ve.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:pe,willCommit:!0,commitKey:1,selStart:re.target.selectionStart,selEnd:re.target.selectionEnd}})),ue(re)}),(M=this.data.actions)!=null&&M.Keystroke&&C.addEventListener("beforeinput",re=>{var Me;const{data:pe,target:ve}=re,{value:$,selectionStart:ye,selectionEnd:Ce}=ve;let ke=ye,Fe=Ce;switch(re.inputType){case"deleteWordBackward":{const Be=$.substring(0,ye).match(/\w*[^\w]*$/);Be&&(ke-=Be[0].length);break}case"deleteWordForward":{const Be=$.substring(ye).match(/^[^\w]*\w*/);Be&&(Fe+=Be[0].length);break}case"deleteContentBackward":ye===Ce&&(ke-=1);break;case"deleteContentForward":ye===Ce&&(Fe+=1);break}re.preventDefault(),(Me=this.linkService.eventBus)==null||Me.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:$,change:pe||"",willCommit:!1,selStart:ke,selEnd:Fe}})}),this._setEventListeners(C,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],re=>re.target.value)}if(ie&&C.addEventListener("blur",ie),this.data.comb){const re=(this.data.rect[2]-this.data.rect[0])/ae;C.classList.add("comb"),C.style.letterSpacing=`calc(${re}px * var(--scale-factor) - 1ch)`}}else C=document.createElement("div"),C.textContent=this.data.fieldValue,C.style.verticalAlign="middle",C.style.display="table-cell";return this._setTextStyle(C),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.append(C),this.container}}class E extends l{constructor(u){super(u,{isRenderable:u.renderForms})}render(){const u=this.annotationStorage,w=this.data,C=w.id;let M=u.getValue(C,{value:w.exportValue===w.fieldValue}).value;typeof M=="string"&&(M=M!=="Off",u.setValue(C,{value:M})),this.container.className="buttonWidgetAnnotation checkBox";const U=document.createElement("input");return T.add(U),U.setAttribute("data-element-id",C),U.disabled=w.readOnly,this._setRequired(U,this.data.required),U.type="checkbox",U.name=w.fieldName,M&&U.setAttribute("checked",!0),U.setAttribute("exportValue",w.exportValue),U.tabIndex=x,U.addEventListener("change",W=>{const{name:ae,checked:me}=W.target;for(const ie of this._getElementsByName(ae,C)){const ue=me&&ie.exportValue===w.exportValue;ie.domElement&&(ie.domElement.checked=ue),u.setValue(ie.id,{value:ue})}u.setValue(C,{value:me})}),U.addEventListener("resetform",W=>{const ae=w.defaultFieldValue||"Off";W.target.checked=ae===w.exportValue}),this.enableScripting&&this.hasJSActions&&(U.addEventListener("updatefromsandbox",W=>{const ae={value(me){me.target.checked=me.detail.value!=="Off",u.setValue(C,{value:me.target.checked})}};this._dispatchEventFromSandbox(ae,W)}),this._setEventListeners(U,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class S extends l{constructor(u){super(u,{isRenderable:u.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const u=this.annotationStorage,w=this.data,C=w.id;let M=u.getValue(C,{value:w.fieldValue===w.buttonValue}).value;typeof M=="string"&&(M=M!==w.buttonValue,u.setValue(C,{value:M}));const U=document.createElement("input");if(T.add(U),U.setAttribute("data-element-id",C),U.disabled=w.readOnly,this._setRequired(U,this.data.required),U.type="radio",U.name=w.fieldName,M&&U.setAttribute("checked",!0),U.tabIndex=x,U.addEventListener("change",W=>{const{name:ae,checked:me}=W.target;for(const ie of this._getElementsByName(ae,C))u.setValue(ie.id,{value:!1});u.setValue(C,{value:me})}),U.addEventListener("resetform",W=>{const ae=w.defaultFieldValue;W.target.checked=ae!=null&&ae===w.buttonValue}),this.enableScripting&&this.hasJSActions){const W=w.buttonValue;U.addEventListener("updatefromsandbox",ae=>{const me={value:ie=>{const ue=W===ie.detail.value;for(const re of this._getElementsByName(ie.target.name)){const pe=ue&&re.id===C;re.domElement&&(re.domElement.checked=pe),u.setValue(re.id,{value:pe})}}};this._dispatchEventFromSandbox(me,ae)}),this._setEventListeners(U,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ae=>ae.target.checked)}return this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.append(U),this.container}}class f extends p{constructor(u){super(u,{ignoreBorder:u.data.hasAppearance})}render(){const u=super.render();u.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(u.title=this.data.alternativeText);const w=u.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",C=>{this._dispatchEventFromSandbox({},C)})),u}}class o extends l{constructor(u){super(u,{isRenderable:u.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const u=this.annotationStorage,w=this.data.id,C=u.getValue(w,{value:this.data.fieldValue}),M=document.createElement("select");T.add(M),M.setAttribute("data-element-id",w),M.disabled=this.data.readOnly,this._setRequired(M,this.data.required),M.name=this.data.fieldName,M.tabIndex=x;let U=this.data.combo&&this.data.options.length>0;this.data.combo||(M.size=this.data.options.length,this.data.multiSelect&&(M.multiple=!0)),M.addEventListener("resetform",ie=>{const ue=this.data.defaultFieldValue;for(const re of M.options)re.selected=re.value===ue});for(const ie of this.data.options){const ue=document.createElement("option");ue.textContent=ie.displayValue,ue.value=ie.exportValue,C.value.includes(ie.exportValue)&&(ue.setAttribute("selected",!0),U=!1),M.append(ue)}let W=null;if(U){const ie=document.createElement("option");ie.value=" ",ie.setAttribute("hidden",!0),ie.setAttribute("selected",!0),M.prepend(ie),W=()=>{ie.remove(),M.removeEventListener("input",W),W=null},M.addEventListener("input",W)}const ae=(ie,ue)=>{const re=ue?"value":"textContent",pe=ie.target.options;return ie.target.multiple?Array.prototype.filter.call(pe,ve=>ve.selected).map(ve=>ve[re]):pe.selectedIndex===-1?null:pe[pe.selectedIndex][re]},me=ie=>{const ue=ie.target.options;return Array.prototype.map.call(ue,re=>({displayValue:re.textContent,exportValue:re.value}))};return this.enableScripting&&this.hasJSActions?(M.addEventListener("updatefromsandbox",ie=>{const ue={value(re){W==null||W();const pe=re.detail.value,ve=new Set(Array.isArray(pe)?pe:[pe]);for(const $ of M.options)$.selected=ve.has($.value);u.setValue(w,{value:ae(re,!0)})},multipleSelection(re){M.multiple=!0},remove(re){const pe=M.options,ve=re.detail.remove;pe[ve].selected=!1,M.remove(ve),pe.length>0&&Array.prototype.findIndex.call(pe,ye=>ye.selected)===-1&&(pe[0].selected=!0),u.setValue(w,{value:ae(re,!0),items:me(re)})},clear(re){for(;M.length!==0;)M.remove(0);u.setValue(w,{value:null,items:[]})},insert(re){const{index:pe,displayValue:ve,exportValue:$}=re.detail.insert,ye=M.children[pe],Ce=document.createElement("option");Ce.textContent=ve,Ce.value=$,ye?ye.before(Ce):M.append(Ce),u.setValue(w,{value:ae(re,!0),items:me(re)})},items(re){const{items:pe}=re.detail;for(;M.length!==0;)M.remove(0);for(const ve of pe){const{displayValue:$,exportValue:ye}=ve,Ce=document.createElement("option");Ce.textContent=$,Ce.value=ye,M.append(Ce)}M.options.length>0&&(M.options[0].selected=!0),u.setValue(w,{value:ae(re,!0),items:me(re)})},indices(re){const pe=new Set(re.detail.indices);for(const ve of re.target.options)ve.selected=pe.has(ve.index);u.setValue(w,{value:ae(re,!0)})},editable(re){re.target.disabled=!re.detail.editable}};this._dispatchEventFromSandbox(ue,ie)}),M.addEventListener("input",ie=>{var pe;const ue=ae(ie,!0),re=ae(ie,!1);u.setValue(w,{value:ue}),(pe=this.linkService.eventBus)==null||pe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:re,changeEx:ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(M,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ie=>ie.target.checked)):M.addEventListener("input",function(ie){u.setValue(w,{value:ae(ie,!0)})}),this.data.combo&&this._setTextStyle(M),this._setBackgroundColor(M),this._setDefaultPropertiesFromJS(M),this.container.append(M),this.container}}class a extends k{constructor(u){var C,M,U;const w=!!(((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w})}render(){const u=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",u.includes(this.data.parentType))return this.container;const w=`[data-annotation-id="${this.data.parentId}"]`,C=this.layer.querySelectorAll(w);if(C.length===0)return this.container;const M=new _({container:this.container,trigger:Array.from(C),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),U=this.page,W=n.Util.normalizeRect([this.data.parentRect[0],U.view[3]-this.data.parentRect[1]+U.view[1],this.data.parentRect[2],U.view[3]-this.data.parentRect[3]+U.view[1]]),ae=W[0]+this.data.parentRect[2]-this.data.parentRect[0],me=W[1],[ie,ue,re,pe]=this.viewport.viewBox,ve=re-ie,$=pe-ue;return this.container.style.left=`${100*(ae-ie)/ve}%`,this.container.style.top=`${100*(me-ue)/$}%`,this.container.append(M.render()),this.container}}class _{constructor(u){this.container=u.container,this.trigger=u.trigger,this.color=u.color,this.titleObj=u.titleObj,this.modificationDate=u.modificationDate,this.contentsObj=u.contentsObj,this.richText=u.richText,this.hideWrapper=u.hideWrapper||!1,this.pinned=!1}render(){var ae,me;const w=document.createElement("div");w.className="popupWrapper",this.hideElement=this.hideWrapper?w:this.container,this.hideElement.hidden=!0;const C=document.createElement("div");C.className="popup";const M=this.color;if(M){const ie=.7*(255-M[0])+M[0],ue=.7*(255-M[1])+M[1],re=.7*(255-M[2])+M[2];C.style.backgroundColor=n.Util.makeHexColor(ie|0,ue|0,re|0)}const U=document.createElement("h1");U.dir=this.titleObj.dir,U.textContent=this.titleObj.str,C.append(U);const W=i.PDFDateString.toDateObject(this.modificationDate);if(W){const ie=document.createElement("span");ie.className="popupDate",ie.textContent="{{date}}, {{time}}",ie.dataset.l10nId="annotation_date_string",ie.dataset.l10nArgs=JSON.stringify({date:W.toLocaleDateString(),time:W.toLocaleTimeString()}),C.append(ie)}if(((ae=this.richText)==null?void 0:ae.str)&&(!((me=this.contentsObj)!=null&&me.str)||this.contentsObj.str===this.richText.str))O.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:C}),C.lastChild.className="richText popupContent";else{const ie=this._formatContents(this.contentsObj);C.append(ie)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const ie of this.trigger)ie.addEventListener("click",this._toggle.bind(this)),ie.addEventListener("mouseover",this._show.bind(this,!1)),ie.addEventListener("mouseout",this._hide.bind(this,!1));return C.addEventListener("click",this._hide.bind(this,!0)),w.append(C),w}_formatContents({str:u,dir:w}){const C=document.createElement("p");C.className="popupContent",C.dir=w;const M=u.split(/(?:\r\n?|\n)/);for(let U=0,W=M.length;U<W;++U){const ae=M[U];C.append(document.createTextNode(ae)),U<W-1&&C.append(document.createElement("br"))}return C}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(u=!1){u&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(u=!0){u&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class D extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0}),this.textContent=u.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const u=document.createElement("div");u.className="annotationTextContent",u.setAttribute("role","comment");for(const w of this.textContent){const C=document.createElement("span");C.textContent=w,u.append(C)}this.container.append(u)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const u=this.data,{width:w,height:C}=N(u.rect),M=this.svgFactory.create(w,C,!0),U=this.svgFactory.createElement("svg:line");return U.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),U.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),U.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),U.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),U.setAttribute("stroke-width",u.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),M.append(U),this.container.append(M),this._createPopup(U,u),this.container}}class A extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const u=this.data,{width:w,height:C}=N(u.rect),M=this.svgFactory.create(w,C,!0),U=u.borderStyle.width,W=this.svgFactory.createElement("svg:rect");return W.setAttribute("x",U/2),W.setAttribute("y",U/2),W.setAttribute("width",w-U),W.setAttribute("height",C-U),W.setAttribute("stroke-width",U||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),M.append(W),this.container.append(M),this._createPopup(W,u),this.container}}class j extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const u=this.data,{width:w,height:C}=N(u.rect),M=this.svgFactory.create(w,C,!0),U=u.borderStyle.width,W=this.svgFactory.createElement("svg:ellipse");return W.setAttribute("cx",w/2),W.setAttribute("cy",C/2),W.setAttribute("rx",w/2-U/2),W.setAttribute("ry",C/2-U/2),W.setAttribute("stroke-width",U||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),M.append(W),this.container.append(M),this._createPopup(W,u),this.container}}class oe extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,{width:w,height:C}=N(u.rect),M=this.svgFactory.create(w,C,!0);let U=[];for(const ae of u.vertices){const me=ae.x-u.rect[0],ie=u.rect[3]-ae.y;U.push(me+","+ie)}U=U.join(" ");const W=this.svgFactory.createElement(this.svgElementName);return W.setAttribute("points",U),W.setAttribute("stroke-width",u.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),M.append(W),this.container.append(M),this._createPopup(W,u),this.container}}class ce extends oe{constructor(u){super(u),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ne extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class te extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,{width:w,height:C}=N(u.rect),M=this.svgFactory.create(w,C,!0);for(const U of u.inkLists){let W=[];for(const me of U){const ie=me.x-u.rect[0],ue=u.rect[3]-me.y;W.push(`${ie},${ue}`)}W=W.join(" ");const ae=this.svgFactory.createElement(this.svgElementName);ae.setAttribute("points",W),ae.setAttribute("stroke-width",u.borderStyle.width||1),ae.setAttribute("stroke","transparent"),ae.setAttribute("fill","transparent"),this._createPopup(ae,u),M.append(ae)}return this.container.append(M),this.container}}class X extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Q extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ee extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class le extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class ge extends k{constructor(u){var C,M,U;const w=!!(u.data.hasPopup||((C=u.data.titleObj)==null?void 0:C.str)||((M=u.data.contentsObj)==null?void 0:M.str)||((U=u.data.richText)==null?void 0:U.str));super(u,{isRenderable:w,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class xe extends k{constructor(u){var M;super(u,{isRenderable:!0});const{filename:w,content:C}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(w),this.content=C,(M=this.linkService.eventBus)==null||M.dispatch("fileattachmentannotation",{source:this,filename:w,content:C})}render(){var w,C;this.container.className="fileAttachmentAnnotation";const u=document.createElement("div");return u.className="popupTriggerArea",u.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((w=this.data.titleObj)==null?void 0:w.str)||((C=this.data.contentsObj)==null?void 0:C.str)||this.data.richText)&&this._createPopup(u,this.data),this.container.append(u),this.container}_download(){var u;(u=this.downloadManager)==null||u.openOrDownloadData(this.container,this.content,this.filename)}}const K=class{static render(u){var ae,me;const{annotations:w,div:C,viewport:M,accessibilityManager:U}=u;be(this,L,nn).call(this,C,M);let W=0;for(const ie of w){if(ie.annotationType!==n.AnnotationType.POPUP){const{width:re,height:pe}=N(ie.rect);if(re<=0||pe<=0)continue}const ue=F.create({data:ie,layer:C,page:u.page,viewport:M,linkService:u.linkService,downloadManager:u.downloadManager,imageResourcesPath:u.imageResourcesPath||"",renderForms:u.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:u.annotationStorage||new d.AnnotationStorage,enableScripting:u.enableScripting,hasJSActions:u.hasJSActions,fieldObjects:u.fieldObjects,mouseState:u.mouseState||{isDown:!1}});if(ue.isRenderable){const re=ue.render();if(ie.hidden&&(re.style.visibility="hidden"),Array.isArray(re))for(const pe of re)pe.style.zIndex=W++,be(ae=K,y,tn).call(ae,pe,ie.id,C,U);else re.style.zIndex=W++,ue instanceof a?C.prepend(re):be(me=K,y,tn).call(me,re,ie.id,C,U)}}be(this,H,sn).call(this,C,u.annotationCanvasMap)}static update(u){const{annotationCanvasMap:w,div:C,viewport:M}=u;be(this,L,nn).call(this,C,M),be(this,H,sn).call(this,C,w),C.hidden=!1}};let V=K;y=new WeakSet,tn=function(u,w,C,M){const U=u.firstChild||u;U.id=`${i.AnnotationPrefix}${w}`,C.append(u),M==null||M.moveElementInDOM(C,u,U,!1)},L=new WeakSet,nn=function(u,{width:w,height:C,rotation:M}){const{style:U}=u,W=M%180!==0,ae=Math.floor(w)+"px",me=Math.floor(C)+"px";U.width=W?me:ae,U.height=W?ae:me,u.setAttribute("data-main-rotation",M)},H=new WeakSet,sn=function(u,w){if(!!w){for(const[C,M]of w){const U=u.querySelector(`[data-annotation-id="${C}"]`);if(!U)continue;const{firstChild:W}=U;W?W.nodeName==="CANVAS"?W.replaceWith(M):W.before(M):U.append(M)}w.clear()}},fe(V,y),fe(V,L),fe(V,H),c.AnnotationLayer=V},(P,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.ColorConverters=void 0;function v(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class n{static CMYK_G([d,I,O,x]){return["G",1-Math.min(1,.3*d+.59*O+.11*I+x)]}static G_CMYK([d]){return["CMYK",0,0,0,1-d]}static G_RGB([d]){return["RGB",d,d,d]}static G_HTML([d]){const I=v(d);return`#${I}${I}${I}`}static RGB_G([d,I,O]){return["G",.3*d+.59*I+.11*O]}static RGB_HTML([d,I,O]){const x=v(d),b=v(I),T=v(O);return`#${x}${b}${T}`}static T_HTML(){return"#00000000"}static CMYK_RGB([d,I,O,x]){return["RGB",1-Math.min(1,d+x),1-Math.min(1,O+x),1-Math.min(1,I+x)]}static CMYK_HTML(d){const I=this.CMYK_RGB(d).slice(1);return this.RGB_HTML(I)}static RGB_CMYK([d,I,O]){const x=1-d,b=1-I,T=1-O,N=Math.min(x,b,T);return["CMYK",x,b,T,N]}}c.ColorConverters=n},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.XfaLayer=void 0;var n=v(20);class i{static setupStorage(I,O,x,b,T){const N=b.getValue(O,{value:null});switch(x.name){case"textarea":if(N.value!==null&&(I.textContent=N.value),T==="print")break;I.addEventListener("input",F=>{b.setValue(O,{value:F.target.value})});break;case"input":if(x.attributes.type==="radio"||x.attributes.type==="checkbox"){if(N.value===x.attributes.xfaOn?I.setAttribute("checked",!0):N.value===x.attributes.xfaOff&&I.removeAttribute("checked"),T==="print")break;I.addEventListener("change",F=>{b.setValue(O,{value:F.target.checked?F.target.getAttribute("xfaOn"):F.target.getAttribute("xfaOff")})})}else{if(N.value!==null&&I.setAttribute("value",N.value),T==="print")break;I.addEventListener("input",F=>{b.setValue(O,{value:F.target.value})})}break;case"select":if(N.value!==null)for(const F of x.children)F.attributes.value===N.value&&(F.attributes.selected=!0);I.addEventListener("input",F=>{const k=F.target.options,p=k.selectedIndex===-1?"":k[k.selectedIndex].value;b.setValue(O,{value:p})});break}}static setAttributes({html:I,element:O,storage:x=null,intent:b,linkService:T}){const{attributes:N}=O,F=I instanceof HTMLAnchorElement;N.type==="radio"&&(N.name=`${N.name}-${b}`);for(const[k,p]of Object.entries(N))if(p!=null)switch(k){case"class":p.length&&I.setAttribute(k,p.join(" "));break;case"dataId":break;case"id":I.setAttribute("data-element-id",p);break;case"style":Object.assign(I.style,p);break;case"textContent":I.textContent=p;break;default:(!F||k!=="href"&&k!=="newWindow")&&I.setAttribute(k,p)}F&&T.addLinkAttributes(I,N.href,N.newWindow),x&&N.dataId&&this.setupStorage(I,N.dataId,O,x)}static render(I){var s;const O=I.annotationStorage,x=I.linkService,b=I.xfaHtml,T=I.intent||"display",N=document.createElement(b.name);b.attributes&&this.setAttributes({html:N,element:b,intent:T,linkService:x});const F=[[b,-1,N]],k=I.div;if(k.append(N),I.viewport){const l=`matrix(${I.viewport.transform.join(",")})`;k.style.transform=l}T!=="richText"&&k.setAttribute("class","xfaLayer xfaFont");const p=[];for(;F.length>0;){const[l,h,E]=F.at(-1);if(h+1===l.children.length){F.pop();continue}const S=l.children[++F.at(-1)[1]];if(S===null)continue;const{name:f}=S;if(f==="#text"){const a=document.createTextNode(S.value);p.push(a),E.append(a);continue}let o;if((s=S==null?void 0:S.attributes)!=null&&s.xmlns?o=document.createElementNS(S.attributes.xmlns,f):o=document.createElement(f),E.append(o),S.attributes&&this.setAttributes({html:o,element:S,storage:O,intent:T,linkService:x}),S.children&&S.children.length>0)F.push([S,-1,o]);else if(S.value){const a=document.createTextNode(S.value);n.XfaText.shouldBuildText(f)&&p.push(a),o.append(a)}}for(const l of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))l.setAttribute("readOnly",!0);return{textDivs:p}}static update(I){const O=`matrix(${I.viewport.transform.join(",")})`;I.div.style.transform=O,I.div.hidden=!1}}c.XfaLayer=i},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.TextLayerRenderTask=void 0,c.renderTextLayer=E;var n=v(1),i=v(8);const d=1e5,I=30,O=.8,x=new Map,b=/^\s+$/g;function T(S,f){const o=x.get(S);if(o)return o;f.save(),f.font=`${I}px ${S}`;const a=f.measureText("");let _=a.fontBoundingBoxAscent,D=Math.abs(a.fontBoundingBoxDescent);if(_){f.restore();const A=_/(_+D);return x.set(S,A),A}f.strokeStyle="red",f.clearRect(0,0,I,I),f.strokeText("g",0,0);let R=f.getImageData(0,0,I,I).data;D=0;for(let A=R.length-1-3;A>=0;A-=4)if(R[A]>0){D=Math.ceil(A/4/I);break}f.clearRect(0,0,I,I),f.strokeText("A",0,I),R=f.getImageData(0,0,I,I).data,_=0;for(let A=0,j=R.length;A<j;A+=4)if(R[A]>0){_=I-Math.floor(A/4/I);break}if(f.restore(),_){const A=_/(_+D);return x.set(S,A),A}return x.set(S,O),O}function N(S,f,o,a){const _=document.createElement("span"),D=S._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:f.str!=="",hasEOL:f.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:f.str!=="",hasEOL:f.hasEOL,fontSize:0};S._textDivs.push(_);const R=n.Util.transform(S._viewport.transform,f.transform);let A=Math.atan2(R[1],R[0]);const j=o[f.fontName];j.vertical&&(A+=Math.PI/2);const oe=Math.hypot(R[2],R[3]),ce=oe*T(j.fontFamily,a);let ne,te;A===0?(ne=R[4],te=R[5]-ce):(ne=R[4]+ce*Math.sin(A),te=R[5]-ce*Math.cos(A)),_.style.left=`${ne}px`,_.style.top=`${te}px`,_.style.fontSize=`${oe}px`,_.style.fontFamily=j.fontFamily,D.fontSize=oe,_.setAttribute("role","presentation"),_.textContent=f.str,_.dir=f.dir,S._fontInspectorEnabled&&(_.dataset.fontName=f.fontName),A!==0&&(D.angle=A*(180/Math.PI));let X=!1;if(f.str.length>1||S._enhanceTextSelection&&b.test(f.str))X=!0;else if(f.str!==" "&&f.transform[0]!==f.transform[3]){const Q=Math.abs(f.transform[0]),ee=Math.abs(f.transform[3]);Q!==ee&&Math.max(Q,ee)/Math.min(Q,ee)>1.5&&(X=!0)}if(X&&(j.vertical?D.canvasWidth=f.height*S._viewport.scale:D.canvasWidth=f.width*S._viewport.scale),S._textDivProperties.set(_,D),S._textContentStream&&S._layoutText(_),S._enhanceTextSelection&&D.hasText){let Q=1,ee=0;A!==0&&(Q=Math.cos(A),ee=Math.sin(A));const le=(j.vertical?f.height:f.width)*S._viewport.scale,ge=oe;let xe,V;A!==0?(xe=[Q,ee,-ee,Q,ne,te],V=n.Util.getAxialAlignedBoundingBox([0,0,le,ge],xe)):V=[ne,te,ne+le,te+ge],S._bounds.push({left:V[0],top:V[1],right:V[2],bottom:V[3],div:_,size:[le,ge],m:xe})}}function F(S){if(S._canceled)return;const f=S._textDivs,o=S._capability,a=f.length;if(a>d){S._renderingDone=!0,o.resolve();return}if(!S._textContentStream)for(let _=0;_<a;_++)S._layoutText(f[_]);S._renderingDone=!0,o.resolve()}function k(S,f,o){let a=0;for(let _=0;_<o;_++){const D=S[f++];D>0&&(a=a?Math.min(D,a):D)}return a}function p(S){const f=S._bounds,o=S._viewport,a=s(o.width,o.height,f);for(let _=0;_<a.length;_++){const D=f[_].div,R=S._textDivProperties.get(D);if(R.angle===0){R.paddingLeft=f[_].left-a[_].left,R.paddingTop=f[_].top-a[_].top,R.paddingRight=a[_].right-f[_].right,R.paddingBottom=a[_].bottom-f[_].bottom,S._textDivProperties.set(D,R);continue}const A=a[_],j=f[_],oe=j.m,ce=oe[0],ne=oe[1],te=[[0,0],[0,j.size[1]],[j.size[0],0],j.size],X=new Float64Array(64);for(let ee=0,le=te.length;ee<le;ee++){const ge=n.Util.applyTransform(te[ee],oe);X[ee+0]=ce&&(A.left-ge[0])/ce,X[ee+4]=ne&&(A.top-ge[1])/ne,X[ee+8]=ce&&(A.right-ge[0])/ce,X[ee+12]=ne&&(A.bottom-ge[1])/ne,X[ee+16]=ne&&(A.left-ge[0])/-ne,X[ee+20]=ce&&(A.top-ge[1])/ce,X[ee+24]=ne&&(A.right-ge[0])/-ne,X[ee+28]=ce&&(A.bottom-ge[1])/ce,X[ee+32]=ce&&(A.left-ge[0])/-ce,X[ee+36]=ne&&(A.top-ge[1])/-ne,X[ee+40]=ce&&(A.right-ge[0])/-ce,X[ee+44]=ne&&(A.bottom-ge[1])/-ne,X[ee+48]=ne&&(A.left-ge[0])/ne,X[ee+52]=ce&&(A.top-ge[1])/-ce,X[ee+56]=ne&&(A.right-ge[0])/ne,X[ee+60]=ce&&(A.bottom-ge[1])/-ce}const Q=1+Math.min(Math.abs(ce),Math.abs(ne));R.paddingLeft=k(X,32,16)/Q,R.paddingTop=k(X,48,16)/Q,R.paddingRight=k(X,0,16)/Q,R.paddingBottom=k(X,16,16)/Q,S._textDivProperties.set(D,R)}}function s(S,f,o){const a=o.map(function(D,R){return{x1:D.left,y1:D.top,x2:D.right,y2:D.bottom,index:R,x1New:void 0,x2New:void 0}});l(S,a);const _=new Array(o.length);for(const D of a){const R=D.index;_[R]={left:D.x1New,top:0,right:D.x2New,bottom:0}}o.map(function(D,R){const A=_[R],j=a[R];j.x1=D.top,j.y1=S-A.right,j.x2=D.bottom,j.y2=S-A.left,j.index=R,j.x1New=void 0,j.x2New=void 0}),l(f,a);for(const D of a){const R=D.index;_[R].top=D.x1New,_[R].bottom=D.x2New}return _}function l(S,f){f.sort(function(_,D){return _.x1-D.x1||_.index-D.index});const a=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const _ of f){let D=0;for(;D<a.length&&a[D].end<=_.y1;)D++;let R=a.length-1;for(;R>=0&&a[R].start>=_.y2;)R--;let A,j,oe,ce,ne=-1/0;for(oe=D;oe<=R;oe++){A=a[oe],j=A.boundary;let Q;j.x2>_.x1?Q=j.index>_.index?j.x1New:_.x1:j.x2New===void 0?Q=(j.x2+_.x1)/2:Q=j.x2New,Q>ne&&(ne=Q)}for(_.x1New=ne,oe=D;oe<=R;oe++)A=a[oe],j=A.boundary,j.x2New===void 0?j.x2>_.x1?j.index>_.index&&(j.x2New=j.x2):j.x2New=ne:j.x2New>ne&&(j.x2New=Math.max(ne,j.x2));const te=[];let X=null;for(oe=D;oe<=R;oe++){A=a[oe],j=A.boundary;const Q=j.x2>_.x2?j:_;X===Q?te.at(-1).end=A.end:(te.push({start:A.start,end:A.end,boundary:Q}),X=Q)}for(a[D].start<_.y1&&(te[0].start=_.y1,te.unshift({start:a[D].start,end:_.y1,boundary:a[D].boundary})),_.y2<a[R].end&&(te.at(-1).end=_.y2,te.push({start:_.y2,end:a[R].end,boundary:a[R].boundary})),oe=D;oe<=R;oe++){if(A=a[oe],j=A.boundary,j.x2New!==void 0)continue;let Q=!1;for(ce=D-1;!Q&&ce>=0&&a[ce].start>=j.y1;ce--)Q=a[ce].boundary===j;for(ce=R+1;!Q&&ce<a.length&&a[ce].end<=j.y2;ce++)Q=a[ce].boundary===j;for(ce=0;!Q&&ce<te.length;ce++)Q=te[ce].boundary===j;Q||(j.x2New=ne)}Array.prototype.splice.apply(a,[D,R-D+1,...te])}for(const _ of a){const D=_.boundary;D.x2New===void 0&&(D.x2New=Math.max(S,D.x2))}}class h{constructor({textContent:f,textContentStream:o,container:a,viewport:_,textDivs:D,textContentItemsStr:R,enhanceTextSelection:A}){var j;A&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=f,this._textContentStream=o,this._container=a,this._document=a.ownerDocument,this._viewport=_,this._textDivs=D||[],this._textContentItemsStr=R||[],this._enhanceTextSelection=!!A,this._fontInspectorEnabled=!!((j=globalThis.FontInspector)!=null&&j.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(f,o){for(let a=0,_=f.length;a<_;a++){if(f[a].str===void 0){if(f[a].type==="beginMarkedContentProps"||f[a].type==="beginMarkedContent"){const D=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),f[a].id!==null&&this._container.setAttribute("id",`${f[a].id}`),D.append(this._container)}else f[a].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(f[a].str),N(this,f[a],o,this._layoutTextCtx)}}_layoutText(f){const o=this._textDivProperties.get(f);let a="";if(o.canvasWidth!==0&&o.hasText){const{fontFamily:_}=f.style,{fontSize:D}=o;(D!==this._layoutTextLastFontSize||_!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${D*this._devicePixelRatio}px ${_}`,this._layoutTextLastFontSize=D,this._layoutTextLastFontFamily=_);const{width:R}=this._layoutTextCtx.measureText(f.textContent);if(R>0){const A=this._devicePixelRatio*o.canvasWidth/R;this._enhanceTextSelection&&(o.scale=A),a=`scaleX(${A})`}}if(o.angle!==0&&(a=`rotate(${o.angle}deg) ${a}`),a.length>0&&(this._enhanceTextSelection&&(o.originalTransform=a),f.style.transform=a),o.hasText&&this._container.append(f),o.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this._container.append(_)}}_render(f=0){const o=(0,n.createPromiseCapability)();let a=Object.create(null);const _=this._document.createElement("canvas");if(_.height=_.width=I,this._layoutTextCtx=_.getContext("2d",{alpha:!1}),this._textContent){const D=this._textContent.items,R=this._textContent.styles;this._processItems(D,R),o.resolve()}else if(this._textContentStream){const D=()=>{this._reader.read().then(({value:R,done:A})=>{if(A){o.resolve();return}Object.assign(a,R.styles),this._processItems(R.items,a),D()},o.reject)};this._reader=this._textContentStream.getReader(),D()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');o.promise.then(()=>{a=null,f?this._renderTimer=setTimeout(()=>{F(this),this._renderTimer=null},f):F(this)},this._capability.reject)}expandTextDivs(f=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(p(this),this._bounds=null);const o=[],a=[];for(let _=0,D=this._textDivs.length;_<D;_++){const R=this._textDivs[_],A=this._textDivProperties.get(R);!A.hasText||(f?(o.length=0,a.length=0,A.originalTransform&&o.push(A.originalTransform),A.paddingTop>0?(a.push(`${A.paddingTop}px`),o.push(`translateY(${-A.paddingTop}px)`)):a.push(0),A.paddingRight>0?a.push(`${A.paddingRight/A.scale}px`):a.push(0),A.paddingBottom>0?a.push(`${A.paddingBottom}px`):a.push(0),A.paddingLeft>0?(a.push(`${A.paddingLeft/A.scale}px`),o.push(`translateX(${-A.paddingLeft/A.scale}px)`)):a.push(0),R.style.padding=a.join(" "),o.length&&(R.style.transform=o.join(" "))):(R.style.padding=null,R.style.transform=A.originalTransform))}}}c.TextLayerRenderTask=h;function E(S){const f=new h({textContent:S.textContent,textContentStream:S.textContentStream,container:S.container,viewport:S.viewport,textDivs:S.textDivs,textContentItemsStr:S.textContentItemsStr,enhanceTextSelection:S.enhanceTextSelection});return f._render(S.timeout),f}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.SVGGraphics=void 0;var n=v(8),i=v(1),d=v(3);let I=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};c.SVGGraphics=I;{let s=function(o){let a=[];const _=[];for(const D of o){if(D.fn==="save"){a.push({fnId:92,fn:"group",items:[]}),_.push(a),a=a.at(-1).items;continue}D.fn==="restore"?a=_.pop():a.push(D)}return a},l=function(o){if(Number.isInteger(o))return o.toString();const a=o.toFixed(10);let _=a.length-1;if(a[_]!=="0")return a;do _--;while(a[_]==="0");return a.substring(0,a[_]==="."?_:_+1)},h=function(o){if(o[4]===0&&o[5]===0){if(o[1]===0&&o[2]===0)return o[0]===1&&o[3]===1?"":`scale(${l(o[0])} ${l(o[3])})`;if(o[0]===o[3]&&o[1]===-o[2]){const a=Math.acos(o[0])*180/Math.PI;return`rotate(${l(a)})`}}else if(o[0]===1&&o[1]===0&&o[2]===0&&o[3]===1)return`translate(${l(o[4])} ${l(o[5])})`;return`matrix(${l(o[0])} ${l(o[1])} ${l(o[2])} ${l(o[3])} ${l(o[4])} ${l(o[5])})`};const O={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/1999/xlink",T=["butt","round","square"],N=["miter","round","bevel"],F=function(o,a="",_=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_)return URL.createObjectURL(new Blob([o],{type:a}));const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let R=`data:${a};base64,`;for(let A=0,j=o.length;A<j;A+=3){const oe=o[A]&255,ce=o[A+1]&255,ne=o[A+2]&255,te=oe>>2,X=(oe&3)<<4|ce>>4,Q=A+1<j?(ce&15)<<2|ne>>6:64,ee=A+2<j?ne&63:64;R+=D[te]+D[X]+D[Q]+D[ee]}return R},k=function(){const o=new Uint8Array([137,80,78,71,13,10,26,10]),a=12,_=new Int32Array(256);for(let ne=0;ne<256;ne++){let te=ne;for(let X=0;X<8;X++)te&1?te=3988292384^te>>1&2147483647:te=te>>1&2147483647;_[ne]=te}function D(ne,te,X){let Q=-1;for(let ee=te;ee<X;ee++){const le=(Q^ne[ee])&255,ge=_[le];Q=Q>>>8^ge}return Q^-1}function R(ne,te,X,Q){let ee=Q;const le=te.length;X[ee]=le>>24&255,X[ee+1]=le>>16&255,X[ee+2]=le>>8&255,X[ee+3]=le&255,ee+=4,X[ee]=ne.charCodeAt(0)&255,X[ee+1]=ne.charCodeAt(1)&255,X[ee+2]=ne.charCodeAt(2)&255,X[ee+3]=ne.charCodeAt(3)&255,ee+=4,X.set(te,ee),ee+=te.length;const ge=D(X,Q+4,ee);X[ee]=ge>>24&255,X[ee+1]=ge>>16&255,X[ee+2]=ge>>8&255,X[ee+3]=ge&255}function A(ne,te,X){let Q=1,ee=0;for(let le=te;le<X;++le)Q=(Q+(ne[le]&255))%65521,ee=(ee+Q)%65521;return ee<<16|Q}function j(ne){if(!d.isNodeJS)return oe(ne);try{let te;parseInt(process.versions.node)>=8?te=ne:te=Buffer.from(ne);const X=require$$5.deflateSync(te,{level:9});return X instanceof Uint8Array?X:new Uint8Array(X)}catch(te){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+te)}return oe(ne)}function oe(ne){let te=ne.length;const X=65535,Q=Math.ceil(te/X),ee=new Uint8Array(2+te+Q*5+4);let le=0;ee[le++]=120,ee[le++]=156;let ge=0;for(;te>X;)ee[le++]=0,ee[le++]=255,ee[le++]=255,ee[le++]=0,ee[le++]=0,ee.set(ne.subarray(ge,ge+X),le),le+=X,ge+=X,te-=X;ee[le++]=1,ee[le++]=te&255,ee[le++]=te>>8&255,ee[le++]=~te&65535&255,ee[le++]=(~te&65535)>>8&255,ee.set(ne.subarray(ge),le),le+=ne.length-ge;const xe=A(ne,0,ne.length);return ee[le++]=xe>>24&255,ee[le++]=xe>>16&255,ee[le++]=xe>>8&255,ee[le++]=xe&255,ee}function ce(ne,te,X,Q){const ee=ne.width,le=ne.height;let ge,xe,V;const y=ne.data;switch(te){case i.ImageKind.GRAYSCALE_1BPP:xe=0,ge=1,V=ee+7>>3;break;case i.ImageKind.RGB_24BPP:xe=2,ge=8,V=ee*3;break;case i.ImageKind.RGBA_32BPP:xe=6,ge=8,V=ee*4;break;default:throw new Error("invalid format")}const g=new Uint8Array((1+V)*le);let L=0,q=0;for(let w=0;w<le;++w)g[L++]=0,g.set(y.subarray(q,q+V),L),q+=V,L+=V;if(te===i.ImageKind.GRAYSCALE_1BPP&&Q){L=0;for(let w=0;w<le;w++){L++;for(let C=0;C<V;C++)g[L++]^=255}}const H=new Uint8Array([ee>>24&255,ee>>16&255,ee>>8&255,ee&255,le>>24&255,le>>16&255,le>>8&255,le&255,ge,xe,0,0,0]),G=j(g),K=o.length+a*3+H.length+G.length,Z=new Uint8Array(K);let u=0;return Z.set(o,u),u+=o.length,R("IHDR",H,Z,u),u+=a+H.length,R("IDATA",G,Z,u),u+=a+G.length,R("IEND",new Uint8Array(0),Z,u),F(Z,"image/png",X)}return function(te,X,Q){const ee=te.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:te.kind;return ce(te,ee,X,Q)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=O.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=O.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,_){this.x=a,this.y=_}}let E=0,S=0,f=0;c.SVGGraphics=I=class{constructor(o,a,_=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new p,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=o,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_,this._operatorIdMapping=[];for(const D in i.OPS)this._operatorIdMapping[i.OPS[D]]=D}save(){this.transformStack.push(this.transformMatrix);const o=this.current;this.extraStack.push(o),this.current=o.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(o){this.save(),this.executeOpTree(o),this.restore()}loadDependencies(o){const a=o.fnArray,_=o.argsArray;for(let D=0,R=a.length;D<R;D++)if(a[D]===i.OPS.dependency)for(const A of _[D]){const j=A.startsWith("g_")?this.commonObjs:this.objs,oe=new Promise(ce=>{j.get(A,ce)});this.current.dependencies.push(oe)}return Promise.all(this.current.dependencies)}transform(o,a,_,D,R,A){const j=[o,a,_,D,R,A];this.transformMatrix=i.Util.transform(this.transformMatrix,j),this.tgrp=null}getSVG(o,a){this.viewport=a;const _=this._initialize(a);return this.loadDependencies(o).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(o)),_))}convertOpList(o){const a=this._operatorIdMapping,_=o.argsArray,D=o.fnArray,R=[];for(let A=0,j=D.length;A<j;A++){const oe=D[A];R.push({fnId:oe,fn:a[oe],args:_[A]})}return s(R)}executeOpTree(o){for(const a of o){const _=a.fn,D=a.fnId,R=a.args;switch(D|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(R);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(R[0],R[1]);break;case i.OPS.setFont:this.setFont(R);break;case i.OPS.showText:this.showText(R[0]);break;case i.OPS.showSpacedText:this.showText(R[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(R[0],R[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(R[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(R[0]);break;case i.OPS.setHScale:this.setHScale(R[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(R[0],R[1],R[2],R[3],R[4],R[5]);break;case i.OPS.setTextRise:this.setTextRise(R[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(R[0]);break;case i.OPS.setLineWidth:this.setLineWidth(R[0]);break;case i.OPS.setLineJoin:this.setLineJoin(R[0]);break;case i.OPS.setLineCap:this.setLineCap(R[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(R[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(R[0],R[1],R[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(R[0],R[1],R[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(R);break;case i.OPS.setFillColorN:this.setFillColorN(R);break;case i.OPS.shadingFill:this.shadingFill(R[0]);break;case i.OPS.setDash:this.setDash(R[0],R[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(R[0]);break;case i.OPS.setFlatness:this.setFlatness(R[0]);break;case i.OPS.setGState:this.setGState(R[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(R[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(R[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(R[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(R[0],R[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(R[0],R[1],R[2],R[3],R[4],R[5]);break;case i.OPS.constructPath:this.constructPath(R[0],R[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,i.warn)(`Unimplemented operator ${_}`);break}}}setWordSpacing(o){this.current.wordSpacing=o}setCharSpacing(o){this.current.charSpacing=o}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(o,a,_,D,R,A){const j=this.current;j.textMatrix=j.lineMatrix=[o,a,_,D,R,A],j.textMatrixScale=Math.hypot(o,a),j.x=j.lineX=0,j.y=j.lineY=0,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${l(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",l(-j.y)),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtElement.append(j.tspan)}beginText(){const o=this.current;o.x=o.lineX=0,o.y=o.lineY=0,o.textMatrix=i.IDENTITY_MATRIX,o.lineMatrix=i.IDENTITY_MATRIX,o.textMatrixScale=1,o.tspan=this.svgFactory.createElement("svg:tspan"),o.txtElement=this.svgFactory.createElement("svg:text"),o.txtgrp=this.svgFactory.createElement("svg:g"),o.xcoords=[],o.ycoords=[]}moveText(o,a){const _=this.current;_.x=_.lineX+=o,_.y=_.lineY+=a,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${l(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",l(-_.y))}showText(o){const a=this.current,_=a.font,D=a.fontSize;if(D===0)return;const R=a.fontSizeScale,A=a.charSpacing,j=a.wordSpacing,oe=a.fontDirection,ce=a.textHScale*oe,ne=_.vertical,te=ne?1:-1,X=_.defaultVMetrics,Q=D*a.fontMatrix[0];let ee=0;for(const xe of o){if(xe===null){ee+=oe*j;continue}else if(typeof xe=="number"){ee+=te*xe*D/1e3;continue}const V=(xe.isSpace?j:0)+A,y=xe.fontChar;let g,L,q=xe.width;if(ne){let G;const K=xe.vmetric||X;G=xe.vmetric?K[1]:q*.5,G=-G*Q;const Z=K[2]*Q;q=K?-K[0]:q,g=G/R,L=(ee+Z)/R}else g=ee/R,L=0;(xe.isInFont||_.missingFile)&&(a.xcoords.push(a.x+g),ne&&a.ycoords.push(-a.y+L),a.tspan.textContent+=y);let H;ne?H=q*Q-V*oe:H=q*Q+V*oe,ee+=H}a.tspan.setAttributeNS(null,"x",a.xcoords.map(l).join(" ")),ne?a.tspan.setAttributeNS(null,"y",a.ycoords.map(l).join(" ")):a.tspan.setAttributeNS(null,"y",l(-a.y)),ne?a.y-=ee:a.x+=ee*ce,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${l(a.fontSize)}px`),a.fontStyle!==O.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==O.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const le=a.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(le===i.TextRenderingMode.FILL||le===i.TextRenderingMode.FILL_STROKE?(a.fillColor!==O.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),le===i.TextRenderingMode.STROKE||le===i.TextRenderingMode.FILL_STROKE){const xe=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,xe)}let ge=a.textMatrix;a.textRise!==0&&(ge=ge.slice(),ge[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${h(ge)} scale(${l(ce)}, -1)`),a.txtElement.setAttributeNS(x,"xml:space","preserve"),a.txtElement.append(a.tspan),a.txtgrp.append(a.txtElement),this._ensureTransformGroup().append(a.txtElement)}setLeadingMoveText(o,a){this.setLeading(-a),this.moveText(o,a)}addFontStyle(o){if(!o.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const a=F(o.data,o.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${o.loadedName}"; src: url(${a}); }
`}setFont(o){const a=this.current,_=this.commonObjs.get(o[0]);let D=o[1];a.font=_,this.embedFonts&&!_.missingFile&&!this.embeddedFonts[_.loadedName]&&(this.addFontStyle(_),this.embeddedFonts[_.loadedName]=_),a.fontMatrix=_.fontMatrix||i.FONT_IDENTITY_MATRIX;let R="normal";_.black?R="900":_.bold&&(R="bold");const A=_.italic?"italic":"normal";D<0?(D=-D,a.fontDirection=-1):a.fontDirection=1,a.fontSize=D,a.fontFamily=_.loadedName,a.fontWeight=R,a.fontStyle=A,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",l(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){var a;const o=this.current;o.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&((a=o.txtElement)==null?void 0:a.hasChildNodes())&&(o.element=o.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(o){o>0&&(this.current.lineWidth=o)}setLineCap(o){this.current.lineCap=T[o]}setLineJoin(o){this.current.lineJoin=N[o]}setMiterLimit(o){this.current.miterLimit=o}setStrokeAlpha(o){this.current.strokeAlpha=o}setStrokeRGBColor(o,a,_){this.current.strokeColor=i.Util.makeHexColor(o,a,_)}setFillAlpha(o){this.current.fillAlpha=o}setFillRGBColor(o,a,_){this.current.fillColor=i.Util.makeHexColor(o,a,_),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(o){this.current.strokeColor=this._makeColorN_Pattern(o)}setFillColorN(o){this.current.fillColor=this._makeColorN_Pattern(o)}shadingFill(o){const a=this.viewport.width,_=this.viewport.height,D=i.Util.inverseTransform(this.transformMatrix),R=i.Util.applyTransform([0,0],D),A=i.Util.applyTransform([0,_],D),j=i.Util.applyTransform([a,0],D),oe=i.Util.applyTransform([a,_],D),ce=Math.min(R[0],A[0],j[0],oe[0]),ne=Math.min(R[1],A[1],j[1],oe[1]),te=Math.max(R[0],A[0],j[0],oe[0]),X=Math.max(R[1],A[1],j[1],oe[1]),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",ce),Q.setAttributeNS(null,"y",ne),Q.setAttributeNS(null,"width",te-ce),Q.setAttributeNS(null,"height",X-ne),Q.setAttributeNS(null,"fill",this._makeShadingPattern(o)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(o){return o[0]==="TilingPattern"?this._makeTilingPattern(o):this._makeShadingPattern(o)}_makeTilingPattern(o){const a=o[1],_=o[2],D=o[3]||i.IDENTITY_MATRIX,[R,A,j,oe]=o[4],ce=o[5],ne=o[6],te=o[7],X=`shading${f++}`,[Q,ee,le,ge]=i.Util.normalizeRect([...i.Util.applyTransform([R,A],D),...i.Util.applyTransform([j,oe],D)]),[xe,V]=i.Util.singularValueDecompose2dScale(D),y=ce*xe,g=ne*V,L=this.svgFactory.createElement("svg:pattern");L.setAttributeNS(null,"id",X),L.setAttributeNS(null,"patternUnits","userSpaceOnUse"),L.setAttributeNS(null,"width",y),L.setAttributeNS(null,"height",g),L.setAttributeNS(null,"x",`${Q}`),L.setAttributeNS(null,"y",`${ee}`);const q=this.svg,H=this.transformMatrix,G=this.current.fillColor,K=this.current.strokeColor,Z=this.svgFactory.create(le-Q,ge-ee);if(this.svg=Z,this.transformMatrix=D,te===2){const u=i.Util.makeHexColor(...a);this.current.fillColor=u,this.current.strokeColor=u}return this.executeOpTree(this.convertOpList(_)),this.svg=q,this.transformMatrix=H,this.current.fillColor=G,this.current.strokeColor=K,L.append(Z.childNodes[0]),this.defs.append(L),`url(#${X})`}_makeShadingPattern(o){switch(typeof o=="string"&&(o=this.objs.get(o)),o[0]){case"RadialAxial":const a=`shading${f++}`,_=o[3];let D;switch(o[1]){case"axial":const R=o[4],A=o[5];D=this.svgFactory.createElement("svg:linearGradient"),D.setAttributeNS(null,"id",a),D.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),D.setAttributeNS(null,"x1",R[0]),D.setAttributeNS(null,"y1",R[1]),D.setAttributeNS(null,"x2",A[0]),D.setAttributeNS(null,"y2",A[1]);break;case"radial":const j=o[4],oe=o[5],ce=o[6],ne=o[7];D=this.svgFactory.createElement("svg:radialGradient"),D.setAttributeNS(null,"id",a),D.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),D.setAttributeNS(null,"cx",oe[0]),D.setAttributeNS(null,"cy",oe[1]),D.setAttributeNS(null,"r",ne),D.setAttributeNS(null,"fx",j[0]),D.setAttributeNS(null,"fy",j[1]),D.setAttributeNS(null,"fr",ce);break;default:throw new Error(`Unknown RadialAxial type: ${o[1]}`)}for(const R of _){const A=this.svgFactory.createElement("svg:stop");A.setAttributeNS(null,"offset",R[0]),A.setAttributeNS(null,"stop-color",R[1]),D.append(A)}return this.defs.append(D),`url(#${a})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${o[0]}`)}}setDash(o,a){this.current.dashArray=o,this.current.dashPhase=a}constructPath(o,a){const _=this.current;let D=_.x,R=_.y,A=[],j=0;for(const oe of o)switch(oe|0){case i.OPS.rectangle:D=a[j++],R=a[j++];const ce=a[j++],ne=a[j++],te=D+ce,X=R+ne;A.push("M",l(D),l(R),"L",l(te),l(R),"L",l(te),l(X),"L",l(D),l(X),"Z");break;case i.OPS.moveTo:D=a[j++],R=a[j++],A.push("M",l(D),l(R));break;case i.OPS.lineTo:D=a[j++],R=a[j++],A.push("L",l(D),l(R));break;case i.OPS.curveTo:D=a[j+4],R=a[j+5],A.push("C",l(a[j]),l(a[j+1]),l(a[j+2]),l(a[j+3]),l(D),l(R)),j+=6;break;case i.OPS.curveTo2:A.push("C",l(D),l(R),l(a[j]),l(a[j+1]),l(a[j+2]),l(a[j+3])),D=a[j+2],R=a[j+3],j+=4;break;case i.OPS.curveTo3:D=a[j+2],R=a[j+3],A.push("C",l(a[j]),l(a[j+1]),l(D),l(R),l(D),l(R)),j+=4;break;case i.OPS.closePath:A.push("Z");break}A=A.join(" "),_.path&&o.length>0&&o[0]!==i.OPS.rectangle&&o[0]!==i.OPS.moveTo?A=_.path.getAttributeNS(null,"d")+A:(_.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(_.path)),_.path.setAttributeNS(null,"d",A),_.path.setAttributeNS(null,"fill","none"),_.element=_.path,_.setCurrentPoint(D,R)}endPath(){const o=this.current;if(o.path=null,!this.pendingClip)return;if(!o.element){this.pendingClip=null;return}const a=`clippath${E++}`,_=this.svgFactory.createElement("svg:clipPath");_.setAttributeNS(null,"id",a),_.setAttributeNS(null,"transform",h(this.transformMatrix));const D=o.element.cloneNode(!0);if(this.pendingClip==="evenodd"?D.setAttributeNS(null,"clip-rule","evenodd"):D.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,_.append(D),this.defs.append(_),o.activeClipUrl){o.clipGroup=null;for(const R of this.extraStack)R.clipGroup=null;_.setAttributeNS(null,"clip-path",o.activeClipUrl)}o.activeClipUrl=`url(#${a})`,this.tgrp=null}clip(o){this.pendingClip=o}closePath(){const o=this.current;if(o.path){const a=`${o.path.getAttributeNS(null,"d")}Z`;o.path.setAttributeNS(null,"d",a)}}setLeading(o){this.current.leading=-o}setTextRise(o){this.current.textRise=o}setTextRenderingMode(o){this.current.textRenderingMode=o}setHScale(o){this.current.textHScale=o/100}setRenderingIntent(o){}setFlatness(o){}setGState(o){for(const[a,_]of o)switch(a){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_);break;case"CA":this.setStrokeAlpha(_);break;case"ca":this.setFillAlpha(_);break;default:(0,i.warn)(`Unimplemented graphic state operator ${a}`);break}}fill(){const o=this.current;o.element&&(o.element.setAttributeNS(null,"fill",o.fillColor),o.element.setAttributeNS(null,"fill-opacity",o.fillAlpha),this.endPath())}stroke(){const o=this.current;o.element&&(this._setStrokeAttributes(o.element),o.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(o,a=1){const _=this.current;let D=_.dashArray;a!==1&&D.length>0&&(D=D.map(function(R){return a*R})),o.setAttributeNS(null,"stroke",_.strokeColor),o.setAttributeNS(null,"stroke-opacity",_.strokeAlpha),o.setAttributeNS(null,"stroke-miterlimit",l(_.miterLimit)),o.setAttributeNS(null,"stroke-linecap",_.lineCap),o.setAttributeNS(null,"stroke-linejoin",_.lineJoin),o.setAttributeNS(null,"stroke-width",l(a*_.lineWidth)+"px"),o.setAttributeNS(null,"stroke-dasharray",D.map(l).join(" ")),o.setAttributeNS(null,"stroke-dashoffset",l(a*_.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width","1px"),o.setAttributeNS(null,"height","1px"),o.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(o)}paintImageXObject(o){const a=o.startsWith("g_")?this.commonObjs.get(o):this.objs.get(o);if(!a){(0,i.warn)(`Dependent image with object ID ${o} is not ready yet`);return}this.paintInlineImageXObject(a)}paintInlineImageXObject(o,a){const _=o.width,D=o.height,R=k(o,this.forceDataSchema,!!a),A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width",l(_)),A.setAttributeNS(null,"height",l(D)),this.current.element=A,this.clip("nonzero");const j=this.svgFactory.createElement("svg:image");j.setAttributeNS(b,"xlink:href",R),j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y",l(-D)),j.setAttributeNS(null,"width",l(_)+"px"),j.setAttributeNS(null,"height",l(D)+"px"),j.setAttributeNS(null,"transform",`scale(${l(1/_)} ${l(-1/D)})`),a?a.append(j):this._ensureTransformGroup().append(j)}paintImageMaskXObject(o){const a=this.current,_=o.width,D=o.height,R=a.fillColor;a.maskId=`mask${S++}`;const A=this.svgFactory.createElement("svg:mask");A.setAttributeNS(null,"id",a.maskId);const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",l(_)),j.setAttributeNS(null,"height",l(D)),j.setAttributeNS(null,"fill",R),j.setAttributeNS(null,"mask",`url(#${a.maskId})`),this.defs.append(A),this._ensureTransformGroup().append(j),this.paintInlineImageXObject(o,A)}paintFormXObjectBegin(o,a){if(Array.isArray(o)&&o.length===6&&this.transform(o[0],o[1],o[2],o[3],o[4],o[5]),a){const _=a[2]-a[0],D=a[3]-a[1],R=this.svgFactory.createElement("svg:rect");R.setAttributeNS(null,"x",a[0]),R.setAttributeNS(null,"y",a[1]),R.setAttributeNS(null,"width",l(_)),R.setAttributeNS(null,"height",l(D)),this.current.element=R,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(o){const a=this.svgFactory.create(o.width,o.height),_=this.svgFactory.createElement("svg:defs");a.append(_),this.defs=_;const D=this.svgFactory.createElement("svg:g");return D.setAttributeNS(null,"transform",h(o.transform)),a.append(D),this.svg=D,a}_ensureClipGroup(){if(!this.current.clipGroup){const o=this.svgFactory.createElement("svg:g");o.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(o),this.current.clipGroup=o}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",h(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNodeStream=void 0;var n=v(1),i=v(33);const d=require$$5,I=require$$5,O=require$$5,x=require$$5,b=/^file:\/\/\/[a-zA-Z]:\//;function T(S){const f=x.parse(S);return f.protocol==="file:"||f.host?f:/^[a-z]:[/\\]/i.test(S)?x.parse(`file:///${S}`):(f.host||(f.protocol="file:"),f)}class N{constructor(f){this.source=f,this.url=T(f.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&f.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var f,o;return(o=(f=this._fullRequestReader)==null?void 0:f._loaded)!=null?o:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new h(this):new s(this),this._fullRequestReader}getRangeReader(f,o){if(o<=this._progressiveDataLength)return null;const a=this.isFsUrl?new E(this,f,o):new l(this,f,o);return this._rangeRequestReaders.push(a),a}cancelAllRequests(f){this._fullRequestReader&&this._fullRequestReader.cancel(f);for(const o of this._rangeRequestReaders.slice(0))o.cancel(f)}}c.PDFNodeStream=N;class F{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null;const o=f.source;this._contentLength=o.length,this._loaded=0,this._filename=null,this._disableRange=o.disableRange||!1,this._rangeChunkSize=o.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!o.disableStream,this._isRangeSupported=!o.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const f=this._readableStream.read();return f===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=f.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(f).buffer,done:!1})}cancel(f){if(!this._readableStream){this._error(f);return}this._readableStream.destroy(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",o=>{this._error(o)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class k{constructor(f){this._url=f.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)();const o=f.source;this._isStreamingSupported=!o.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const f=this._readableStream.read();return f===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=f.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(f).buffer,done:!1})}cancel(f){if(!this._readableStream){this._error(f);return}this._readableStream.destroy(f)}_error(f){this._storedError=f,this._readCapability.resolve()}_setReadableStream(f){this._readableStream=f,f.on("readable",()=>{this._readCapability.resolve()}),f.on("end",()=>{f.destroy(),this._done=!0,this._readCapability.resolve()}),f.on("error",o=>{this._error(o)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function p(S,f){return{protocol:S.protocol,auth:S.auth,host:S.hostname,port:S.port,path:S.path,method:"GET",headers:f}}class s extends F{constructor(f){super(f);const o=a=>{if(a.statusCode===404){const A=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=A,this._headersCapability.reject(A);return}this._headersCapability.resolve(),this._setReadableStream(a);const _=A=>this._readableStream.headers[A.toLowerCase()],{allowRangeRequests:D,suggestedLength:R}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:f.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=D,this._contentLength=R||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(_)};this._request=null,this._url.protocol==="http:"?this._request=I.request(p(this._url,f.httpHeaders),o):this._request=O.request(p(this._url,f.httpHeaders),o),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class l extends k{constructor(f,o,a){super(f),this._httpHeaders={};for(const D in f.httpHeaders){const R=f.httpHeaders[D];typeof R>"u"||(this._httpHeaders[D]=R)}this._httpHeaders.Range=`bytes=${o}-${a-1}`;const _=D=>{if(D.statusCode===404){const R=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=R;return}this._setReadableStream(D)};this._request=null,this._url.protocol==="http:"?this._request=I.request(p(this._url,this._httpHeaders),_):this._request=O.request(p(this._url,this._httpHeaders),_),this._request.on("error",D=>{this._storedError=D}),this._request.end()}}class h extends F{constructor(f){super(f);let o=decodeURIComponent(this._url.path);b.test(this._url.href)&&(o=o.replace(/^\//,"")),d.lstat(o,(a,_)=>{if(a){a.code==="ENOENT"&&(a=new n.MissingPDFException(`Missing PDF "${o}".`)),this._storedError=a,this._headersCapability.reject(a);return}this._contentLength=_.size,this._setReadableStream(d.createReadStream(o)),this._headersCapability.resolve()})}}class E extends k{constructor(f,o,a){super(f);let _=decodeURIComponent(this._url.path);b.test(this._url.href)&&(_=_.replace(/^\//,"")),this._setReadableStream(d.createReadStream(_,{start:o,end:a-1}))}}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.createResponseStatusError=x,c.extractFilenameFromHeader=O,c.validateRangeRequestCapabilities=I,c.validateResponseStatus=b;var n=v(1),i=v(34),d=v(8);function I({getResponseHeader:T,isHttp:N,rangeChunkSize:F,disableRange:k}){const p={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(T("Content-Length"),10);return!Number.isInteger(s)||(p.suggestedLength=s,s<=2*F)||k||!N||T("Accept-Ranges")!=="bytes"||(T("Content-Encoding")||"identity")!=="identity"||(p.allowRangeRequests=!0),p}function O(T){const N=T("Content-Disposition");if(N){let F=(0,i.getFilenameFromContentDispositionHeader)(N);if(F.includes("%"))try{F=decodeURIComponent(F)}catch{}if((0,d.isPdfFile)(F))return F}return null}function x(T,N){return T===404||T===0&&N.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+N+'".'):new n.UnexpectedResponseException(`Unexpected server response (${T}) while retrieving PDF "${N}".`,T)}function b(T){return T===200||T===206}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.getFilenameFromContentDispositionHeader=i;var n=v(1);function i(d){let I=!0,O=x("filename\\*","i").exec(d);if(O){O=O[1];let s=F(O);return s=unescape(s),s=k(s),s=p(s),T(s)}if(O=N(d),O){const s=p(O);return T(s)}if(O=x("filename","i").exec(d),O){O=O[1];let s=F(O);return s=p(s),T(s)}function x(s,l){return new RegExp("(?:^|;)\\s*"+s+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',l)}function b(s,l){if(s){if(!/^[\x00-\xFF]+$/.test(l))return l;try{const h=new TextDecoder(s,{fatal:!0}),E=(0,n.stringToBytes)(l);l=h.decode(E),I=!1}catch{}}return l}function T(s){return I&&/[\x80-\xff]/.test(s)&&(s=b("utf-8",s),I&&(s=b("iso-8859-1",s))),s}function N(s){const l=[];let h;const E=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=E.exec(s))!==null;){let[,f,o,a]=h;if(f=parseInt(f,10),f in l){if(f===0)break;continue}l[f]=[o,a]}const S=[];for(let f=0;f<l.length&&f in l;++f){let[o,a]=l[f];a=F(a),o&&(a=unescape(a),f===0&&(a=k(a))),S.push(a)}return S.join("")}function F(s){if(s.startsWith('"')){const l=s.slice(1).split('\\"');for(let h=0;h<l.length;++h){const E=l[h].indexOf('"');E!==-1&&(l[h]=l[h].slice(0,E),l.length=h+1),l[h]=l[h].replace(/\\(.)/g,"$1")}s=l.join('"')}return s}function k(s){const l=s.indexOf("'");if(l===-1)return s;const h=s.slice(0,l),S=s.slice(l+1).replace(/^[^']*'/,"");return b(h,S)}function p(s){return!s.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(s)?s:s.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(l,h,E,S){if(E==="q"||E==="Q")return S=S.replace(/_/g," "),S=S.replace(/=([0-9a-fA-F]{2})/g,function(f,o){return String.fromCharCode(parseInt(o,16))}),b(h,S);try{S=atob(S)}catch{}return b(h,S)})}return""}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFNetworkStream=void 0;var n=v(1),i=v(33);const d=200,I=206;function O(F){const k=F.response;return typeof k!="string"?k:(0,n.stringToBytes)(k).buffer}class x{constructor(k,p={}){this.url=k,this.isHttp=/^https?:/i.test(k),this.httpHeaders=this.isHttp&&p.httpHeaders||Object.create(null),this.withCredentials=p.withCredentials||!1,this.getXhr=p.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(k,p,s){const l={begin:k,end:p};for(const h in s)l[h]=s[h];return this.request(l)}requestFull(k){return this.request(k)}request(k){const p=this.getXhr(),s=this.currXhrId++,l=this.pendingRequests[s]={xhr:p};p.open("GET",this.url),p.withCredentials=this.withCredentials;for(const h in this.httpHeaders){const E=this.httpHeaders[h];typeof E>"u"||p.setRequestHeader(h,E)}return this.isHttp&&"begin"in k&&"end"in k?(p.setRequestHeader("Range",`bytes=${k.begin}-${k.end-1}`),l.expectedStatus=I):l.expectedStatus=d,p.responseType="arraybuffer",k.onError&&(p.onerror=function(h){k.onError(p.status)}),p.onreadystatechange=this.onStateChange.bind(this,s),p.onprogress=this.onProgress.bind(this,s),l.onHeadersReceived=k.onHeadersReceived,l.onDone=k.onDone,l.onError=k.onError,l.onProgress=k.onProgress,p.send(null),s}onProgress(k,p){var l;const s=this.pendingRequests[k];!s||(l=s.onProgress)==null||l.call(s,p)}onStateChange(k,p){var f,o,a;const s=this.pendingRequests[k];if(!s)return;const l=s.xhr;if(l.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),l.readyState!==4||!(k in this.pendingRequests))return;if(delete this.pendingRequests[k],l.status===0&&this.isHttp){(f=s.onError)==null||f.call(s,l.status);return}const h=l.status||d;if(!(h===d&&s.expectedStatus===I)&&h!==s.expectedStatus){(o=s.onError)==null||o.call(s,l.status);return}const S=O(l);if(h===I){const _=l.getResponseHeader("Content-Range"),D=/bytes (\d+)-(\d+)\/(\d+)/.exec(_);s.onDone({begin:parseInt(D[1],10),chunk:S})}else S?s.onDone({begin:0,chunk:S}):(a=s.onError)==null||a.call(s,l.status)}getRequestXhr(k){return this.pendingRequests[k].xhr}isPendingRequest(k){return k in this.pendingRequests}abortRequest(k){const p=this.pendingRequests[k].xhr;delete this.pendingRequests[k],p.abort()}}class b{constructor(k){this._source=k,this._manager=new x(k.url,{httpHeaders:k.httpHeaders,withCredentials:k.withCredentials}),this._rangeChunkSize=k.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(k){const p=this._rangeRequestReaders.indexOf(k);p>=0&&this._rangeRequestReaders.splice(p,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T(this._manager,this._source),this._fullRequestReader}getRangeReader(k,p){const s=new N(this._manager,k,p);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(k){var p;(p=this._fullRequestReader)==null||p.cancel(k);for(const s of this._rangeRequestReaders.slice(0))s.cancel(k)}}c.PDFNetworkStream=b;class T{constructor(k,p){this._manager=k;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=p.url,this._fullRequestId=k.requestFull(s),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=p.disableRange||!1,this._contentLength=p.length,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const k=this._fullRequestId,p=this._manager.getRequestXhr(k),s=E=>p.getResponseHeader(E),{allowRangeRequests:l,suggestedLength:h}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=h||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(s),this._isRangeSupported&&this._manager.abortRequest(k),this._headersReceivedCapability.resolve()}_onDone(k){if(k&&(this._requests.length>0?this._requests.shift().resolve({value:k.chunk,done:!1}):this._cachedChunks.push(k.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(k){this._storedError=(0,i.createResponseStatusError)(k,this._url),this._headersReceivedCapability.reject(this._storedError);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(k){var p;(p=this.onProgress)==null||p.call(this,{loaded:k.loaded,total:k.lengthComputable?k.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const k=(0,n.createPromiseCapability)();return this._requests.push(k),k.promise}cancel(k){this._done=!0,this._headersReceivedCapability.reject(k);for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class N{constructor(k,p,s){this._manager=k;const l={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._requestId=k.requestRange(p,s,l),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var k;(k=this.onClosed)==null||k.call(this,this)}_onDone(k){const p=k.chunk;this._requests.length>0?this._requests.shift().resolve({value:p,done:!1}):this._queuedChunk=p,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(k){this._storedError=(0,i.createResponseStatusError)(k,this._url);for(const p of this._requests)p.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(k){var p;this.isStreamingSupported||(p=this.onProgress)==null||p.call(this,{loaded:k.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};const k=(0,n.createPromiseCapability)();return this._requests.push(k),k.promise}cancel(k){this._done=!0;for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(P,c,v)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.PDFFetchStream=void 0;var n=v(1),i=v(33);function d(T,N,F){return{method:"GET",headers:T,signal:F.signal,mode:"cors",credentials:N?"include":"same-origin",redirect:"follow"}}function I(T){const N=new Headers;for(const F in T){const k=T[F];typeof k>"u"||N.append(F,k)}return N}class O{constructor(N){this.source=N,this.isHttp=/^https?:/i.test(N.url),this.httpHeaders=this.isHttp&&N.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var N,F;return(F=(N=this._fullRequestReader)==null?void 0:N._loaded)!=null?F:0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(N,F){if(F<=this._progressiveDataLength)return null;const k=new b(this,N,F);return this._rangeRequestReaders.push(k),k}cancelAllRequests(N){this._fullRequestReader&&this._fullRequestReader.cancel(N);for(const F of this._rangeRequestReaders.slice(0))F.cancel(N)}}c.PDFFetchStream=O;class x{constructor(N){this._stream=N,this._reader=null,this._loaded=0,this._filename=null;const F=N.source;this._withCredentials=F.withCredentials||!1,this._contentLength=F.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=F.disableRange||!1,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._headers=I(this._stream.httpHeaders);const k=F.url;fetch(k,d(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,i.validateResponseStatus)(p.status))throw(0,i.createResponseStatusError)(p.status,k);this._reader=p.body.getReader(),this._headersCapability.resolve();const s=E=>p.headers.get(E),{allowRangeRequests:l,suggestedLength:h}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:s,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=h||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:N,done:F}=await this._reader.read();return F?{value:N,done:F}:(this._loaded+=N.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(N).buffer,done:!1})}cancel(N){this._reader&&this._reader.cancel(N),this._abortController.abort()}}class b{constructor(N,F,k){this._stream=N,this._reader=null,this._loaded=0;const p=N.source;this._withCredentials=p.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!p.disableStream,this._abortController=new AbortController,this._headers=I(this._stream.httpHeaders),this._headers.append("Range",`bytes=${F}-${k-1}`);const s=p.url;fetch(s,d(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!(0,i.validateResponseStatus)(l.status))throw(0,i.createResponseStatusError)(l.status,s);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:N,done:F}=await this._reader.read();return F?{value:N,done:F}:(this._loaded+=N.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(N).buffer,done:!1})}cancel(N){this._reader&&this._reader.cancel(N),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(P){var c=__webpack_module_cache__[P];if(c!==void 0)return c.exports;var v=__webpack_module_cache__[P]={exports:{}};return __webpack_modules__[P](v,v.exports,__w_pdfjs_require__),v.exports}var __webpack_exports__={};return(()=>{var P=__webpack_exports__;Object.defineProperty(P,"__esModule",{value:!0}),Object.defineProperty(P,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(P,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return c.AnnotationEditorParamsType}}),Object.defineProperty(P,"AnnotationEditorType",{enumerable:!0,get:function(){return c.AnnotationEditorType}}),Object.defineProperty(P,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return d.AnnotationEditorUIManager}}),Object.defineProperty(P,"AnnotationLayer",{enumerable:!0,get:function(){return I.AnnotationLayer}}),Object.defineProperty(P,"AnnotationMode",{enumerable:!0,get:function(){return c.AnnotationMode}}),Object.defineProperty(P,"CMapCompressionType",{enumerable:!0,get:function(){return c.CMapCompressionType}}),Object.defineProperty(P,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(P,"InvalidPDFException",{enumerable:!0,get:function(){return c.InvalidPDFException}}),Object.defineProperty(P,"LoopbackPort",{enumerable:!0,get:function(){return v.LoopbackPort}}),Object.defineProperty(P,"MissingPDFException",{enumerable:!0,get:function(){return c.MissingPDFException}}),Object.defineProperty(P,"OPS",{enumerable:!0,get:function(){return c.OPS}}),Object.defineProperty(P,"PDFDataRangeTransport",{enumerable:!0,get:function(){return v.PDFDataRangeTransport}}),Object.defineProperty(P,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(P,"PDFWorker",{enumerable:!0,get:function(){return v.PDFWorker}}),Object.defineProperty(P,"PasswordResponses",{enumerable:!0,get:function(){return c.PasswordResponses}}),Object.defineProperty(P,"PermissionFlag",{enumerable:!0,get:function(){return c.PermissionFlag}}),Object.defineProperty(P,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(P,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(P,"SVGGraphics",{enumerable:!0,get:function(){return T.SVGGraphics}}),Object.defineProperty(P,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return c.UNSUPPORTED_FEATURES}}),Object.defineProperty(P,"UnexpectedResponseException",{enumerable:!0,get:function(){return c.UnexpectedResponseException}}),Object.defineProperty(P,"Util",{enumerable:!0,get:function(){return c.Util}}),Object.defineProperty(P,"VerbosityLevel",{enumerable:!0,get:function(){return c.VerbosityLevel}}),Object.defineProperty(P,"XfaLayer",{enumerable:!0,get:function(){return N.XfaLayer}}),Object.defineProperty(P,"build",{enumerable:!0,get:function(){return v.build}}),Object.defineProperty(P,"createPromiseCapability",{enumerable:!0,get:function(){return c.createPromiseCapability}}),Object.defineProperty(P,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return c.createValidAbsoluteUrl}}),Object.defineProperty(P,"getDocument",{enumerable:!0,get:function(){return v.getDocument}}),Object.defineProperty(P,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(P,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(P,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(P,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(P,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(P,"renderTextLayer",{enumerable:!0,get:function(){return b.renderTextLayer}}),Object.defineProperty(P,"shadow",{enumerable:!0,get:function(){return c.shadow}}),Object.defineProperty(P,"version",{enumerable:!0,get:function(){return v.version}});var c=__w_pdfjs_require__(1),v=__w_pdfjs_require__(4),n=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),d=__w_pdfjs_require__(7),I=__w_pdfjs_require__(27),O=__w_pdfjs_require__(15),x=__w_pdfjs_require__(3),b=__w_pdfjs_require__(30),T=__w_pdfjs_require__(31),N=__w_pdfjs_require__(29);if(x.isNodeJS){const{PDFNodeStream:F}=__w_pdfjs_require__(32);(0,v.setPDFNetworkStreamFactory)(k=>new F(k))}else{const{PDFNetworkStream:F}=__w_pdfjs_require__(35),{PDFFetchStream:k}=__w_pdfjs_require__(36);(0,v.setPDFNetworkStreamFactory)(p=>(0,n.isValidFetchUrl)(p.url)?new k(p):new F(p))}})(),__webpack_exports__})())})(pdf);function _inherits(P,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(c&&c.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),c&&_setPrototypeOf(P,c)}function _possibleConstructorReturn(P,c){if(c&&(_typeof(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(P)}function _getPrototypeOf(P){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},_getPrototypeOf(P)}var clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],focusEvents=["onFocus","onBlur"],formEvents=["onChange","onInput","onInvalid","onReset","onSubmit"],genericEvents=["onError","onLoad"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uiEvents=["onScroll"],wheelEvents=["onWheel"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],imageEvents=["onLoad","onError"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],allEvents=[].concat(clipboardEvents,compositionEvents,keyboardEvents,focusEvents,formEvents,genericEvents,mouseEvents,pointerEvents,selectionEvents,touchEvents,uiEvents,wheelEvents,mediaEvents,imageEvents,animationEvents,transitionEvents,otherEvents),makeEventProps=function P(c,v){var n={};return allEvents.forEach(function(i){if(i in c){if(!v){n[i]=c[i];return}n[i]=function(d){return c[i](d,v(i))}}}),n};function makeCancellablePromise(P){var c=!1,v=new Promise(function(n,i){P.then(function(){return!c&&n.apply(void 0,arguments)}).catch(function(d){return!c&&i(d)})});return{promise:v,cancel:function(){c=!0}}}function r(P){var c,v,n="";if(typeof P=="string"||typeof P=="number")n+=P;else if(typeof P=="object")if(Array.isArray(P))for(c=0;c<P.length;c++)P[c]&&(v=r(P[c]))&&(n&&(n+=" "),n+=v);else for(c in P)P[c]&&(n&&(n+=" "),n+=c);return n}function clsx(){for(var P,c,v=0,n="";v<arguments.length;)(P=arguments[v++])&&(c=r(P))&&(n&&(n+=" "),n+=c);return n}var isProduction$1=!0,prefix="Invariant failed";function invariant(P,c){if(!P){if(isProduction$1)throw new Error(prefix);var v=typeof c=="function"?c():c,n=v?"".concat(prefix,": ").concat(v):prefix;throw new Error(n)}}var isProduction=!0;function warning(P,c){if(!isProduction){if(P)return;var v="Warning: "+c;typeof console<"u"&&console.warn(v);try{throw Error(v)}catch{}}}const DocumentContext=react.exports.createContext(null);function Message(P){var c=P.children,v=P.type;return jsx("div",{className:"react-pdf__message react-pdf__message--".concat(v),children:c})}Message.propTypes={children:propTypes.exports.node,type:propTypes.exports.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function P(){_classCallCheck(this,P),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(P,[{key:"setDocument",value:function(v){this.pdfDocument=v}},{key:"setViewer",value:function(v){this.pdfViewer=v}},{key:"setExternalLinkRel",value:function(v){this.externalLinkRel=v}},{key:"setExternalLinkTarget",value:function(v){this.externalLinkTarget=v}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(v){this.pdfViewer.currentPageNumber=v}},{key:"rotation",get:function(){return 0},set:function(v){}},{key:"goToDestination",value:function(v){var n=this;new Promise(function(i){typeof v=="string"?n.pdfDocument.getDestination(v).then(i):Array.isArray(v)?i(v):v.then(i)}).then(function(i){invariant(Array.isArray(i),'"'.concat(i,'" is not a valid destination array.'));var d=i[0];new Promise(function(I){d instanceof Object?n.pdfDocument.getPageIndex(d).then(function(O){I(O)}).catch(function(){invariant(!1,'"'.concat(d,'" is not a valid page reference.'))}):typeof d=="number"?I(d):invariant(!1,'"'.concat(d,'" is not a valid destination reference.'))}).then(function(I){var O=I+1;invariant(O>=1&&O<=n.pagesCount,'"'.concat(O,'" is not a valid page number.')),n.pdfViewer.scrollPageIntoView({dest:v,pageIndex:I,pageNumber:O})})})}},{key:"navigateTo",value:function(v){this.goToDestination(v)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(v,n,i){v.href=n,v.rel=this.externalLinkRel||DEFAULT_LINK_REL,v.target=i?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),P}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(P){return typeof P<"u"}function isProvided(P){return isDefined(P)&&P!==null}function isString(P){return typeof P=="string"}function isArrayBuffer(P){return P instanceof ArrayBuffer}function isBlob(P){return invariant(isBrowser,"isBlob can only be used in a browser environment"),P instanceof Blob}function isFile$1(P){return invariant(isBrowser,"isFile can only be used in a browser environment"),P instanceof File}function isDataURI(P){return isString(P)&&/^data:/.test(P)}function dataURItoByteString(P){invariant(isDataURI(P),"Invalid data URI.");var c=P.split(","),v=_slicedToArray(c,2),n=v[0],i=v[1],d=n.split(";");return d.indexOf("base64")!==-1?atob(i):unescape(i)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function cancelRunningTask(P){P&&P.cancel&&P.cancel()}function makePageCallback(P,c){return Object.defineProperty(P,"width",{get:function(){return this.view[2]*c},configurable:!0}),Object.defineProperty(P,"height",{get:function(){return this.view[3]*c},configurable:!0}),Object.defineProperty(P,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(P,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),P}function isCancelException(P){return P.name==="RenderingCancelledException"}function loadFromFile(P){return new Promise(function(c,v){var n=new FileReader;return n.onload=function(){return c(new Uint8Array(n.result))},n.onerror=function(i){switch(i.target.error.code){case i.target.error.NOT_FOUND_ERR:return v(new Error("Error while reading a file: File not found."));case i.target.error.NOT_READABLE_ERR:return v(new Error("Error while reading a file: File not readable."));case i.target.error.SECURITY_ERR:return v(new Error("Error while reading a file: Security error."));case i.target.error.ABORT_ERR:return v(new Error("Error while reading a file: Aborted."));default:return v(new Error("Error while reading a file."))}},n.readAsArrayBuffer(P),null})}function _arrayWithoutHoles(P){if(Array.isArray(P))return _arrayLikeToArray(P)}function _iterableToArray(P){if(typeof Symbol<"u"&&P[Symbol.iterator]!=null||P["@@iterator"]!=null)return Array.from(P)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(P){return _arrayWithoutHoles(P)||_iterableToArray(P)||_unsupportedIterableToArray(P)||_nonIterableSpread()}var eventProps=function(){var P={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(c){P[c]=propTypes.exports.func}),P}(),fileTypes=[propTypes.exports.string,propTypes.exports.instanceOf(ArrayBuffer),propTypes.exports.shape({data:propTypes.exports.oneOfType([propTypes.exports.object,propTypes.exports.string]),httpHeaders:propTypes.exports.object,range:propTypes.exports.object,url:propTypes.exports.string,withCredentials:propTypes.exports.bool})];typeof File<"u"&&fileTypes.push(propTypes.exports.instanceOf(File));typeof Blob<"u"&&fileTypes.push(propTypes.exports.instanceOf(Blob));var isClassName=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.string)]),isFile=propTypes.exports.oneOfType(fileTypes),isLinkService=propTypes.exports.instanceOf(LinkService);propTypes.exports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypes.exports.shape({commonObjs:propTypes.exports.shape({}).isRequired,getAnnotations:propTypes.exports.func.isRequired,getTextContent:propTypes.exports.func.isRequired,getViewport:propTypes.exports.func.isRequired,render:propTypes.exports.func.isRequired}),isPageIndex=function P(c,v,n){var i=c[v],d=c.pageNumber,I=c.pdf;if(!isDefined(I))return null;if(isDefined(i)){if(typeof i!="number")return new Error("`".concat(v,"` of type `").concat(_typeof(i),"` supplied to `").concat(n,"`, expected `number`."));if(i<0)return new Error("Expected `".concat(v,"` to be greater or equal to 0."));var O=I.numPages;if(i+1>O)return new Error("Expected `".concat(v,"` to be less or equal to ").concat(O-1,"."))}else if(!isDefined(d))return new Error("`".concat(v,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},isPageNumber=function P(c,v,n){var i=c[v],d=c.pageIndex,I=c.pdf;if(!isDefined(I))return null;if(isDefined(i)){if(typeof i!="number")return new Error("`".concat(v,"` of type `").concat(_typeof(i),"` supplied to `").concat(n,"`, expected `number`."));if(i<1)return new Error("Expected `".concat(v,"` to be greater or equal to 1."));var O=I.numPages;if(i>O)return new Error("Expected `".concat(v,"` to be less or equal to ").concat(O,"."))}else if(!isDefined(d))return new Error("`".concat(v,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(n,"`."));return null},isPdf=propTypes.exports.oneOfType([propTypes.exports.shape({getDestination:propTypes.exports.func.isRequired,getOutline:propTypes.exports.func.isRequired,getPage:propTypes.exports.func.isRequired,numPages:propTypes.exports.number.isRequired}),propTypes.exports.bool]),isRef=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.shape({current:propTypes.exports.any})]),isRenderMode=propTypes.exports.oneOf(["canvas","none","svg"]),isRotate=propTypes.exports.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$3(P,c){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(P);c&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(P,i).enumerable})),v.push.apply(v,n)}return v}function _objectSpread$3(P){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?ownKeys$3(Object(v),!0).forEach(function(n){_defineProperty(P,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):ownKeys$3(Object(v)).forEach(function(n){Object.defineProperty(P,n,Object.getOwnPropertyDescriptor(v,n))})}return P}function _createSuper$5(P){var c=_isNativeReflectConstruct$5();return function(){var n=_getPrototypeOf(P),i;if(c){var d=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,d)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdf.exports.PDFDataRangeTransport,Document=function(P){_inherits(v,P);var c=_createSuper$5(v);function v(){var n;_classCallCheck(this,v);for(var i=arguments.length,d=new Array(i),I=0;I<i;I++)d[I]=arguments[I];return n=c.call.apply(c,[this].concat(d)),_defineProperty(_assertThisInitialized(n),"state",{pdf:null}),_defineProperty(_assertThisInitialized(n),"viewer",{scrollPageIntoView:function(x){var b=x.dest,T=x.pageIndex,N=x.pageNumber,F=n.props.onItemClick;if(F){F({dest:b,pageIndex:T,pageNumber:N});return}var k=n.pages[T];if(k){k.scrollIntoView();return}warning(!1,"An internal link leading to page ".concat(N," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),_defineProperty(_assertThisInitialized(n),"linkService",new LinkService),_defineProperty(_assertThisInitialized(n),"loadDocument",function(){cancelRunningTask(n.runningTask),n.loadingTask&&n.loadingTask.destroy();var O=makeCancellablePromise(n.findDocumentSource());n.runningTask=O,O.promise.then(function(x){if(n.onSourceSuccess(),!!x){n.setState(function(p){return p.pdf?{pdf:null}:null});var b=n.props,T=b.options,N=b.onLoadProgress,F=b.onPassword,k=pdf.exports.getDocument(_objectSpread$3(_objectSpread$3({},x),T));k.onPassword=F,N&&(k.onProgress=N),n.loadingTask=k,k.promise.then(function(p){n.setState(function(s){return s.pdf&&s.pdf.fingerprint===p.fingerprint?null:{pdf:p}},n.onLoadSuccess)}).catch(function(p){n.onLoadError(p)})}}).catch(function(x){n.onSourceError(x)})}),_defineProperty(_assertThisInitialized(n),"setupLinkService",function(){var O=n.props,x=O.externalLinkRel,b=O.externalLinkTarget;n.linkService.setViewer(n.viewer),n.linkService.setExternalLinkRel(x),n.linkService.setExternalLinkTarget(b)}),_defineProperty(_assertThisInitialized(n),"onSourceSuccess",function(){var O=n.props.onSourceSuccess;O&&O()}),_defineProperty(_assertThisInitialized(n),"onSourceError",function(O){warning(O);var x=n.props.onSourceError;x&&x(O)}),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var O=n.props.onLoadSuccess,x=n.state.pdf;O&&O(x),n.pages=new Array(x.numPages),n.linkService.setDocument(x)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(O){n.setState({pdf:!1}),warning(O);var x=n.props.onLoadError;x&&x(O)}),_defineProperty(_assertThisInitialized(n),"findDocumentSource",function(){return new Promise(function(O){var x=n.props.file;if(x||O(null),typeof x=="string"){if(isDataURI(x)){var b=dataURItoByteString(x);O({data:b})}displayCORSWarning(),O({url:x})}if(x instanceof PDFDataRangeTransport&&O({range:x}),isArrayBuffer(x)&&O({data:x}),isBrowser&&(isBlob(x)||isFile$1(x))){loadFromFile(x).then(function(k){O({data:k})});return}if(invariant(_typeof(x)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(x.url||x.data||x.range,"Invalid parameter object: need either .data, .range or .url"),typeof x.url=="string"){if(isDataURI(x.url)){var T=x.url,N=_objectWithoutProperties(x,_excluded),F=dataURItoByteString(T);O(_objectSpread$3({data:F},N))}displayCORSWarning()}O(x)})}),_defineProperty(_assertThisInitialized(n),"registerPage",function(O,x){n.pages[O]=x}),_defineProperty(_assertThisInitialized(n),"unregisterPage",function(O){delete n.pages[O]}),n}return _createClass(v,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(i){var d=this.props.file;d!==i.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var i=this.linkService,d=this.registerPage,I=this.unregisterPage,O=this.props,x=O.imageResourcesPath,b=O.renderMode,T=O.rotate,N=this.state.pdf;return{imageResourcesPath:x,linkService:i,pdf:N,registerPage:d,renderMode:b,rotate:T,unregisterPage:I}}},{key:"eventProps",get:function(){var i=this;return makeEventProps(this.props,function(){return i.state.pdf})}},{key:"renderChildren",value:function(){var i=this.props.children;return jsx(DocumentContext.Provider,{value:this.childContext,children:i})}},{key:"renderContent",value:function(){var i=this.props.file,d=this.state.pdf;if(!i){var I=this.props.noData;return jsx(Message,{type:"no-data",children:typeof I=="function"?I():I})}if(d===null){var O=this.props.loading;return jsx(Message,{type:"loading",children:typeof O=="function"?O():O})}if(d===!1){var x=this.props.error;return jsx(Message,{type:"error",children:typeof x=="function"?x():x})}return this.renderChildren()}},{key:"render",value:function(){var i=this.props,d=i.className,I=i.inputRef;return jsx("div",{className:clsx("react-pdf__Document",d),ref:I,...this.eventProps,children:this.renderContent()})}}]),v}(react.exports.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF\u2026",noData:"No PDF file specified.",onPassword:function P(c,v){switch(v){case PasswordResponses.NEED_PASSWORD:{var n=prompt("Enter the password to open this PDF file.");c(n);break}case PasswordResponses.INCORRECT_PASSWORD:{var i=prompt("Invalid password. Please try again.");c(i);break}}}};var isFunctionOrNode$1=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.node]);Document.propTypes=_objectSpread$3(_objectSpread$3({},eventProps),{},{children:propTypes.exports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypes.exports.string,externalLinkTarget:propTypes.exports.string,file:isFile,imageResourcesPath:propTypes.exports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadProgress:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,onPassword:propTypes.exports.func,onSourceError:propTypes.exports.func,onSourceSuccess:propTypes.exports.func,rotate:propTypes.exports.number});var isDestination=propTypes.exports.oneOfType([propTypes.exports.string,propTypes.exports.arrayOf(propTypes.exports.any)]);propTypes.exports.shape({dest:isDestination,items:propTypes.exports.arrayOf(propTypes.exports.shape({dest:isDestination,title:propTypes.exports.string})),title:propTypes.exports.string}).isRequired,propTypes.exports.func,isPdf.isRequired;function ownKeys$2(P,c){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(P);c&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(P,i).enumerable})),v.push.apply(v,n)}return v}function _objectSpread$2(P){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?ownKeys$2(Object(v),!0).forEach(function(n){_defineProperty(P,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):ownKeys$2(Object(v)).forEach(function(n){Object.defineProperty(P,n,Object.getOwnPropertyDescriptor(v,n))})}return P}_objectSpread$2({className:isClassName,inputRef:isRef,onItemClick:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,pdf:isPdf},eventProps);function mergeRefs(){for(var P=arguments.length,c=new Array(P),v=0;v<P;v++)c[v]=arguments[v];var n=c.filter(Boolean);return n.length<=1?n[0]:function(d){n.forEach(function(I){typeof I=="function"?I(d):I.current=d})}}const PageContext=react.exports.createContext(null);function _createSuper$4(P){var c=_isNativeReflectConstruct$4();return function(){var n=_getPrototypeOf(P),i;if(c){var d=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,d)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdf.exports.AnnotationMode,PageCanvasInternal=function(P){_inherits(v,P);var c=_createSuper$4(v);function v(){var n;_classCallCheck(this,v);for(var i=arguments.length,d=new Array(i),I=0;I<i;I++)d[I]=arguments[I];return n=c.call.apply(c,[this].concat(d)),_defineProperty(_assertThisInitialized(n),"canvasElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){n.renderer=null;var O=n.props,x=O.onRenderSuccess,b=O.page,T=O.scale;x&&x(makePageCallback(b,T))}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(O){if(!isCancelException(O)){warning(O);var x=n.props.onRenderError;x&&x(O)}}),_defineProperty(_assertThisInitialized(n),"drawPageOnCanvas",function(){var O=n.canvasElement.current;if(!O)return null;var x=_assertThisInitialized(n),b=x.renderViewport,T=x.viewport,N=n.props,F=N.canvasBackground,k=N.page,p=N.renderForms;O.width=b.width,O.height=b.height,O.style.width="".concat(Math.floor(T.width),"px"),O.style.height="".concat(Math.floor(T.height),"px");var s={annotationMode:p?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return O.getContext("2d")},viewport:b};F&&(s.background=F),n.cancelRenderingTask();var l=k.render(s);return n.renderer=l,l.promise.then(n.onRenderSuccess).catch(n.onRenderError)}),n}return _createClass(v,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(i){var d=this.props,I=d.canvasBackground,O=d.devicePixelRatio,x=d.page,b=d.renderForms;(I!==i.canvasBackground||O!==i.devicePixelRatio||b!==i.renderForms)&&(x.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var i=this.canvasElement.current;i&&(i.width=0,i.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){var i=this.props.devicePixelRatio;return i||getDevicePixelRatio()}},{key:"renderViewport",get:function(){var i=this.devicePixelRatio,d=this.props,I=d.page,O=d.rotate,x=d.scale;return I.getViewport({scale:x*i,rotation:O})}},{key:"viewport",get:function(){var i=this.props,d=i.page,I=i.rotate,O=i.scale;return d.getViewport({scale:O,rotation:I})}},{key:"render",value:function(){var i=this.props.canvasRef;return jsx("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(i,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),v}(react.exports.PureComponent);PageCanvasInternal.propTypes={canvasBackground:propTypes.exports.string,canvasRef:isRef,devicePixelRatio:propTypes.exports.number,onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,page:isPage.isRequired,renderForms:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number.isRequired};function PageCanvas(P){return jsx(PageContext.Consumer,{children:function(c){return jsx(PageCanvasInternal,{...c,...P})}})}function _createSuper$3(P){var c=_isNativeReflectConstruct$3();return function(){var n=_getPrototypeOf(P),i;if(c){var d=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,d)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(P){_inherits(v,P);var c=_createSuper$3(v);function v(){var n;_classCallCheck(this,v);for(var i=arguments.length,d=new Array(i),I=0;I<i;I++)d[I]=arguments[I];return n=c.call.apply(c,[this].concat(d)),_defineProperty(_assertThisInitialized(n),"state",{svg:null}),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){n.renderer=null;var O=n.props,x=O.onRenderSuccess,b=O.page,T=O.scale;x&&x(makePageCallback(b,T))}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(O){if(!isCancelException(O)){warning(O);var x=n.props.onRenderError;x&&x(O)}}),_defineProperty(_assertThisInitialized(n),"renderSVG",function(){var O=n.props.page;return n.renderer=O.getOperatorList(),n.renderer.then(function(x){var b=new pdf.exports.SVGGraphics(O.commonObjs,O.objs);n.renderer=b.getSVG(x,n.viewport).then(function(T){n.setState({svg:T},n.onRenderSuccess)}).catch(n.onRenderError)}).catch(n.onRenderError)}),_defineProperty(_assertThisInitialized(n),"drawPageOnContainer",function(O){var x=n.state.svg;if(!(!O||!x)){O.firstElementChild||O.appendChild(x);var b=n.viewport,T=b.width,N=b.height;x.setAttribute("width",T),x.setAttribute("height",N)}}),n}return _createClass(v,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var i=this.props,d=i.page,I=i.rotate,O=i.scale;return d.getViewport({scale:O,rotation:I})}},{key:"render",value:function(){var i=this,d=this.viewport,I=d.width,O=d.height;return jsx("div",{className:"react-pdf__Page__svg",ref:function(b){return i.drawPageOnContainer(b)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:I,height:O,userSelect:"none"}})}}]),v}(react.exports.PureComponent);PageSVGInternal.propTypes={onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypes.exports.number.isRequired};function PageSVG(P){return jsx(PageContext.Consumer,{children:function(c){return jsx(PageSVGInternal,{...c,...P})}})}function ownKeys$1(P,c){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(P);c&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(P,i).enumerable})),v.push.apply(v,n)}return v}function _objectSpread$1(P){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?ownKeys$1(Object(v),!0).forEach(function(n){_defineProperty(P,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):ownKeys$1(Object(v)).forEach(function(n){Object.defineProperty(P,n,Object.getOwnPropertyDescriptor(v,n))})}return P}function _createSuper$2(P){var c=_isNativeReflectConstruct$2();return function(){var n=_getPrototypeOf(P),i;if(c){var d=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,d)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(P){_inherits(v,P);var c=_createSuper$2(v);function v(){var n;_classCallCheck(this,v);for(var i=arguments.length,d=new Array(i),I=0;I<i;I++)d[I]=arguments[I];return n=c.call.apply(c,[this].concat(d)),_defineProperty(_assertThisInitialized(n),"state",{textContent:null}),_defineProperty(_assertThisInitialized(n),"layerElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(n),"endElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(n),"loadTextContent",function(){var O=n.props.page,x=makeCancellablePromise(O.getTextContent());n.runningTask=x,x.promise.then(function(b){n.setState({textContent:b},n.onLoadSuccess)}).catch(function(b){n.onLoadError(b)})}),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var O=n.props.onGetTextSuccess,x=n.state.textContent;O&&O(x)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(O){n.setState({textItems:!1}),warning(O);var x=n.props.onGetTextError;x&&x(O)}),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){var O=n.props.onRenderTextLayerSuccess;O&&O()}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(O){warning(O);var x=n.props.onRenderTextLayerError;x&&x(O)}),_defineProperty(_assertThisInitialized(n),"onMouseDown",function(){var O=n.endElement.current;!O||O.classList.add("active")}),_defineProperty(_assertThisInitialized(n),"onMouseUp",function(){var O=n.endElement.current;!O||O.classList.remove("active")}),n}return _createClass(v,[{key:"componentDidMount",value:function(){var i=this.props.page;invariant(i,"Attempted to load page text content, but no page was specified."),warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(i){var d=this.props.page;i.page&&d!==i.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var i=this.props,d=i.page,I=i.rotate,O=i.scale;return d.getViewport({scale:O,rotation:I})}},{key:"unrotatedViewport",get:function(){var i=this.props,d=i.page,I=i.scale;return d.getViewport({scale:I})}},{key:"rotate",get:function(){var i=this.props,d=i.page,I=i.rotate;return I-d.rotate}},{key:"renderTextLayer",value:function(){var i=this,d=this.state.textContent;if(!d)return null;var I=this.layerElement.current,O=this.viewport,x=this.props.customTextRenderer;cancelRunningTask(this.runningTask),I.innerHTML="";var b={container:I,textContent:d,viewport:O},T=pdf.exports.renderTextLayer(b);this.runningTask=T,T.promise.then(function(){var N=document.createElement("div");if(N.className="endOfContent",I.append(N),i.endElement.current=N,x){var F=0;d.items.forEach(function(k,p){var s=i.layerElement.current.children[F],l=x(_objectSpread$1({itemIndex:p},k));s.innerHTML=l,F+=k.str&&k.hasEOL?2:1})}i.onRenderSuccess()}).catch(function(N){i.onRenderError(N)})}},{key:"render",value:function(){return jsx("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement,children:this.renderTextLayer()})}}]),v}(react.exports.PureComponent);TextLayerInternal.propTypes={customTextRenderer:propTypes.exports.func,onGetTextError:propTypes.exports.func,onGetTextSuccess:propTypes.exports.func,onRenderTextLayerError:propTypes.exports.func,onRenderTextLayerSuccess:propTypes.exports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypes.exports.number};function TextLayer(P){return jsx(PageContext.Consumer,{children:function(c){return jsx(TextLayerInternal,{...c,...P})}})}function _createSuper$1(P){var c=_isNativeReflectConstruct$1();return function(){var n=_getPrototypeOf(P),i;if(c){var d=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,d)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(P){_inherits(v,P);var c=_createSuper$1(v);function v(){var n;_classCallCheck(this,v);for(var i=arguments.length,d=new Array(i),I=0;I<i;I++)d[I]=arguments[I];return n=c.call.apply(c,[this].concat(d)),_defineProperty(_assertThisInitialized(n),"state",{annotations:null}),_defineProperty(_assertThisInitialized(n),"layerElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(n),"loadAnnotations",function(){var O=n.props.page,x=makeCancellablePromise(O.getAnnotations());n.runningTask=x,x.promise.then(function(b){n.setState({annotations:b},n.onLoadSuccess)}).catch(function(b){n.onLoadError(b)})}),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var O=n.props.onGetAnnotationsSuccess,x=n.state.annotations;O&&O(x)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(O){n.setState({annotations:!1}),warning(O);var x=n.props.onGetAnnotationsError;x&&x(O)}),_defineProperty(_assertThisInitialized(n),"onRenderSuccess",function(){var O=n.props.onRenderAnnotationLayerSuccess;O&&O()}),_defineProperty(_assertThisInitialized(n),"onRenderError",function(O){warning(O);var x=n.props.onRenderAnnotationLayerError;x&&x(O)}),n}return _createClass(v,[{key:"componentDidMount",value:function(){var i=this.props.page;invariant(i,"Attempted to load page annotations, but no page was specified."),warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(i){var d=this.props,I=d.page,O=d.renderForms;(i.page&&I!==i.page||O!==i.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var i=this.props,d=i.page,I=i.rotate,O=i.scale;return d.getViewport({scale:O,rotation:I})}},{key:"renderAnnotationLayer",value:function(){var i=this.state.annotations;if(!!i){var d=this.props,I=d.imageResourcesPath,O=d.linkService,x=d.page,b=d.renderForms,T=this.viewport.clone({dontFlip:!0}),N={annotations:i,div:this.layerElement.current,imageResourcesPath:I,linkService:O,page:x,renderForms:b,viewport:T};this.layerElement.current.innerHTML="";try{pdf.exports.AnnotationLayer.render(N),this.onRenderSuccess()}catch(F){this.onRenderError(F)}}}},{key:"render",value:function(){return jsx("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement,children:this.renderAnnotationLayer()})}}]),v}(react.exports.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:propTypes.exports.string,linkService:isLinkService.isRequired,onGetAnnotationsError:propTypes.exports.func,onGetAnnotationsSuccess:propTypes.exports.func,onRenderAnnotationLayerError:propTypes.exports.func,onRenderAnnotationLayerSuccess:propTypes.exports.func,page:isPage,renderForms:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number};var AnnotationLayer=function P(c){return jsx(DocumentContext.Consumer,{children:function(v){return jsx(PageContext.Consumer,{children:function(n){return jsx(AnnotationLayerInternal,{...v,...n,...c})}})}})};function ownKeys(P,c){var v=Object.keys(P);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(P);c&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(P,i).enumerable})),v.push.apply(v,n)}return v}function _objectSpread(P){for(var c=1;c<arguments.length;c++){var v=arguments[c]!=null?arguments[c]:{};c%2?ownKeys(Object(v),!0).forEach(function(n){_defineProperty(P,n,v[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(v)):ownKeys(Object(v)).forEach(function(n){Object.defineProperty(P,n,Object.getOwnPropertyDescriptor(v,n))})}return P}function _createSuper(P){var c=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(P),i;if(c){var d=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,d)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(P){_inherits(v,P);var c=_createSuper(v);function v(){var n;_classCallCheck(this,v);for(var i=arguments.length,d=new Array(i),I=0;I<i;I++)d[I]=arguments[I];return n=c.call.apply(c,[this].concat(d)),_defineProperty(_assertThisInitialized(n),"state",{page:null}),_defineProperty(_assertThisInitialized(n),"pageElement",react.exports.createRef()),_defineProperty(_assertThisInitialized(n),"onLoadSuccess",function(){var O=n.props,x=O.onLoadSuccess,b=O.registerPage,T=n.state.page;x&&x(makePageCallback(T,n.scale)),b&&b(n.pageIndex,n.pageElement.current)}),_defineProperty(_assertThisInitialized(n),"onLoadError",function(O){n.setState({page:!1}),warning(O);var x=n.props.onLoadError;x&&x(O)}),_defineProperty(_assertThisInitialized(n),"loadPage",function(){var O=n.props.pdf,x=n.getPageNumber();if(!!x){n.setState(function(T){return T.page?{page:null}:null});var b=makeCancellablePromise(O.getPage(x));n.runningTask=b,b.promise.then(function(T){n.setState({page:T},n.onLoadSuccess)}).catch(function(T){n.onLoadError(T)})}}),n}return _createClass(v,[{key:"componentDidMount",value:function(){var i=this.props.pdf;invariant(i,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(i){var d=this.props.pdf;if(i.pdf&&d!==i.pdf||this.getPageNumber()!==this.getPageNumber(i)){var I=this.props.unregisterPage;I&&I(this.getPageIndex(i)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var i=this.props.unregisterPage;i&&i(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var i=this.state.page;if(!i)return{};var d=this.props,I=d.canvasBackground,O=d.customTextRenderer,x=d.devicePixelRatio,b=d.onGetAnnotationsError,T=d.onGetAnnotationsSuccess,N=d.onGetTextError,F=d.onGetTextSuccess,k=d.onRenderAnnotationLayerError,p=d.onRenderAnnotationLayerSuccess,s=d.onRenderError,l=d.onRenderSuccess,h=d.onRenderTextLayerError,E=d.onRenderTextLayerSuccess,S=d.renderForms,f=d.renderInteractiveForms;return{canvasBackground:I,customTextRenderer:O,devicePixelRatio:x,onGetAnnotationsError:b,onGetAnnotationsSuccess:T,onGetTextError:N,onGetTextSuccess:F,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:p,onRenderError:s,onRenderSuccess:l,onRenderTextLayerError:h,onRenderTextLayerSuccess:E,page:i,renderForms:S!=null?S:f,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(i.pageNumber)?i.pageNumber-1:isProvided(i.pageIndex)?i.pageIndex:null}},{key:"getPageNumber",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(i.pageNumber)?i.pageNumber:isProvided(i.pageIndex)?i.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var i=this.props.rotate;if(isProvided(i))return i;var d=this.state.page;return d?d.rotate:null}},{key:"scale",get:function(){var i=this.state.page;if(!i)return null;var d=this.props,I=d.scale,O=d.width,x=d.height,b=this.rotate,T=1,N=I===null?defaultScale:I;if(O||x){var F=i.getViewport({scale:1,rotation:b});T=O?O/F.width:x/F.height}return N*T}},{key:"eventProps",get:function(){var i=this;return makeEventProps(this.props,function(){var d=i.state.page;return d&&makePageCallback(d,i.scale)})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var i=this.props,d=i.canvasRef,I=i.renderMode;switch(I){case"none":return null;case"svg":return jsx(PageSVG,{},"".concat(this.pageKeyNoScale,"_svg"));case"canvas":default:return jsx(PageCanvas,{canvasRef:d},"".concat(this.pageKey,"_canvas"))}}},{key:"renderTextLayer",value:function(){var i=this.props.renderTextLayer;return i?jsx(TextLayer,{},"".concat(this.pageKey,"_text")):null}},{key:"renderAnnotationLayer",value:function(){var i=this.props.renderAnnotationLayer;return i?jsx(AnnotationLayer,{},"".concat(this.pageKey,"_annotations")):null}},{key:"renderChildren",value:function(){var i=this.props.children;return jsxs(PageContext.Provider,{value:this.childContext,children:[this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),i]})}},{key:"renderContent",value:function(){var i=this.pageNumber,d=this.props.pdf,I=this.state.page;if(!i){var O=this.props.noData;return jsx(Message,{type:"no-data",children:typeof O=="function"?O():O})}if(d===null||I===null){var x=this.props.loading;return jsx(Message,{type:"loading",children:typeof x=="function"?x():x})}if(d===!1||I===!1){var b=this.props.error;return jsx(Message,{type:"error",children:typeof b=="function"?b():b})}return this.renderChildren()}},{key:"render",value:function(){var i=this.pageNumber,d=this.props,I=d.className,O=d.inputRef;return jsx("div",{className:clsx("react-pdf__Page",I),"data-page-number":i,ref:mergeRefs(O,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"},...this.eventProps,children:this.renderContent()})}}]),v}(react.exports.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page\u2026",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=propTypes.exports.oneOfType([propTypes.exports.func,propTypes.exports.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypes.exports.string,children:propTypes.exports.node,className:isClassName,customTextRenderer:propTypes.exports.func,devicePixelRatio:propTypes.exports.number,error:isFunctionOrNode,height:propTypes.exports.number,imageResourcesPath:propTypes.exports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypes.exports.func,onGetTextSuccess:propTypes.exports.func,onLoadError:propTypes.exports.func,onLoadSuccess:propTypes.exports.func,onRenderError:propTypes.exports.func,onRenderSuccess:propTypes.exports.func,onRenderTextLayerError:propTypes.exports.func,onRenderTextLayerSuccess:propTypes.exports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypes.exports.func,renderAnnotationLayer:propTypes.exports.bool,renderForms:propTypes.exports.bool,renderInteractiveForms:propTypes.exports.bool,renderMode:isRenderMode,renderTextLayer:propTypes.exports.bool,rotate:isRotate,scale:propTypes.exports.number,unregisterPage:propTypes.exports.func,width:propTypes.exports.number});function Page(P,c){return jsx(DocumentContext.Consumer,{children:function(v){return jsx(PageInternal,{ref:c,...v,...P})}})}const Page$1=React.forwardRef(Page);displayWorkerWarning();pdf.exports.GlobalWorkerOptions.workerSrc=new URL("/Admin-Tyche/assets/pdf.worker.6b078827.js",self.location);const ViewPDF=({link:P,name:c})=>{const[v,n]=react.exports.useState("");return v?jsx(Alert,{title:"Ha Ocurrido un error al mostrar el pdf",color:"danger"}):jsxs(Row,{className:"overflow-hidden",children:[jsx(Col,{sm:12,className:"text-end",children:jsx("a",{className:"btn btn-primary",href:P,target:"_blank",download:`${c}.pdf`,rel:"noopener",children:"Descargar"})}),jsx(Col,{sm:12,className:"mt-1",children:jsx(Document,{file:P,onLoadError:i=>{n(i),console.log(i)},children:jsx(Page$1,{pageNumber:1})})})]})};var sweetalert2_all={exports:{}};/*!
* sweetalert2 v11.6.14
* Released under the MIT License.
*/(function(P,c){(function(v,n){P.exports=n()})(commonjsGlobal,function(){var v={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const n="swal2-",i=e=>{const t={};for(const m in e)t[e[m]]=n+e[m];return t},d=i(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),I=i(["success","warning","info","question","error"]),O="SweetAlert2:",x=e=>{const t=[];for(let m=0;m<e.length;m++)t.indexOf(e[m])===-1&&t.push(e[m]);return t},b=e=>e.charAt(0).toUpperCase()+e.slice(1),T=e=>{console.warn(`${O} ${typeof e=="object"?e.join(" "):e}`)},N=e=>{console.error(`${O} ${e}`)},F=[],k=e=>{F.includes(e)||(F.push(e),T(e))},p=(e,t)=>{k(`"${e}" is deprecated and will be removed in the next major release. Please use "${t}" instead.`)},s=e=>typeof e=="function"?e():e,l=e=>e&&typeof e.toPromise=="function",h=e=>l(e)?e.toPromise():Promise.resolve(e),E=e=>e&&Promise.resolve(e)===e,S=()=>document.body.querySelector(`.${d.container}`),f=e=>{const t=S();return t?t.querySelector(e):null},o=e=>f(`.${e}`),a=()=>o(d.popup),_=()=>o(d.icon),D=()=>o(d["icon-content"]),R=()=>o(d.title),A=()=>o(d["html-container"]),j=()=>o(d.image),oe=()=>o(d["progress-steps"]),ce=()=>o(d["validation-message"]),ne=()=>f(`.${d.actions} .${d.confirm}`),te=()=>f(`.${d.actions} .${d.deny}`),X=()=>o(d["input-label"]),Q=()=>f(`.${d.loader}`),ee=()=>f(`.${d.actions} .${d.cancel}`),le=()=>o(d.actions),ge=()=>o(d.footer),xe=()=>o(d["timer-progress-bar"]),V=()=>o(d.close),y=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,g=()=>{const e=Array.from(a().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((m,z)=>{const he=parseInt(m.getAttribute("tabindex")),Te=parseInt(z.getAttribute("tabindex"));return he>Te?1:he<Te?-1:0}),t=Array.from(a().querySelectorAll(y)).filter(m=>m.getAttribute("tabindex")!=="-1");return x(e.concat(t)).filter(m=>$(m))},L=()=>Z(document.body,d.shown)&&!Z(document.body,d["toast-shown"])&&!Z(document.body,d["no-backdrop"]),q=()=>a()&&Z(a(),d.toast),H=()=>a().hasAttribute("data-loading"),G={previousBodyPadding:null},K=(e,t)=>{if(e.textContent="",t){const z=new DOMParser().parseFromString(t,"text/html");Array.from(z.querySelector("head").childNodes).forEach(he=>{e.appendChild(he)}),Array.from(z.querySelector("body").childNodes).forEach(he=>{he instanceof HTMLVideoElement||he instanceof HTMLAudioElement?e.appendChild(he.cloneNode(!0)):e.appendChild(he)})}},Z=(e,t)=>{if(!t)return!1;const m=t.split(/\s+/);for(let z=0;z<m.length;z++)if(!e.classList.contains(m[z]))return!1;return!0},u=(e,t)=>{Array.from(e.classList).forEach(m=>{!Object.values(d).includes(m)&&!Object.values(I).includes(m)&&!Object.values(t.showClass).includes(m)&&e.classList.remove(m)})},w=(e,t,m)=>{if(u(e,t),t.customClass&&t.customClass[m]){if(typeof t.customClass[m]!="string"&&!t.customClass[m].forEach){T(`Invalid type of customClass.${m}! Expected string or iterable object, got "${typeof t.customClass[m]}"`);return}W(e,t.customClass[m])}},C=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${d.popup} > .${d[t]}`);case"checkbox":return e.querySelector(`.${d.popup} > .${d.checkbox} input`);case"radio":return e.querySelector(`.${d.popup} > .${d.radio} input:checked`)||e.querySelector(`.${d.popup} > .${d.radio} input:first-child`);case"range":return e.querySelector(`.${d.popup} > .${d.range} input`);default:return e.querySelector(`.${d.popup} > .${d.input}`)}},M=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},U=(e,t,m)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(z=>{Array.isArray(e)?e.forEach(he=>{m?he.classList.add(z):he.classList.remove(z)}):m?e.classList.add(z):e.classList.remove(z)}))},W=(e,t)=>{U(e,t,!0)},ae=(e,t)=>{U(e,t,!1)},me=(e,t)=>{const m=Array.from(e.children);for(let z=0;z<m.length;z++){const he=m[z];if(he instanceof HTMLElement&&Z(he,t))return he}},ie=(e,t,m)=>{m===`${parseInt(m)}`&&(m=parseInt(m)),m||parseInt(m)===0?e.style[t]=typeof m=="number"?`${m}px`:m:e.style.removeProperty(t)},ue=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";e.style.display=t},re=e=>{e.style.display="none"},pe=(e,t,m,z)=>{const he=e.querySelector(t);he&&(he.style[m]=z)},ve=function(e,t){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?ue(e,m):re(e)},$=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ye=()=>!$(ne())&&!$(te())&&!$(ee()),Ce=e=>e.scrollHeight>e.clientHeight,ke=e=>{const t=window.getComputedStyle(e),m=parseFloat(t.getPropertyValue("animation-duration")||"0"),z=parseFloat(t.getPropertyValue("transition-duration")||"0");return m>0||z>0},Fe=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const m=xe();$(m)&&(t&&(m.style.transition="none",m.style.width="100%"),setTimeout(()=>{m.style.transition=`width ${e/1e3}s linear`,m.style.width="0%"},10))},Me=()=>{const e=xe(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const m=parseInt(window.getComputedStyle(e).width),z=t/m*100;e.style.removeProperty("transition"),e.style.width=`${z}%`},Be=100,Pe={},et=()=>{Pe.previousActiveElement instanceof HTMLElement?(Pe.previousActiveElement.focus(),Pe.previousActiveElement=null):document.body&&document.body.focus()},Ie=e=>new Promise(t=>{if(!e)return t();const m=window.scrollX,z=window.scrollY;Pe.restoreFocusTimeout=setTimeout(()=>{et(),t()},Be),window.scrollTo(m,z)}),Ue=()=>typeof window>"u"||typeof document>"u",lt=`
 <div aria-labelledby="${d.title}" aria-describedby="${d["html-container"]}" class="${d.popup}" tabindex="-1">
   <button type="button" class="${d.close}"></button>
   <ul class="${d["progress-steps"]}"></ul>
   <div class="${d.icon}"></div>
   <img class="${d.image}" />
   <h2 class="${d.title}" id="${d.title}"></h2>
   <div class="${d["html-container"]}" id="${d["html-container"]}"></div>
   <input class="${d.input}" />
   <input type="file" class="${d.file}" />
   <div class="${d.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${d.select}"></select>
   <div class="${d.radio}"></div>
   <label for="${d.checkbox}" class="${d.checkbox}">
     <input type="checkbox" />
     <span class="${d.label}"></span>
   </label>
   <textarea class="${d.textarea}"></textarea>
   <div class="${d["validation-message"]}" id="${d["validation-message"]}"></div>
   <div class="${d.actions}">
     <div class="${d.loader}"></div>
     <button type="button" class="${d.confirm}"></button>
     <button type="button" class="${d.deny}"></button>
     <button type="button" class="${d.cancel}"></button>
   </div>
   <div class="${d.footer}"></div>
   <div class="${d["timer-progress-bar-container"]}">
     <div class="${d["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),de=()=>{const e=S();return e?(e.remove(),ae([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0):!1},we=()=>{Pe.currentInstance.resetValidationMessage()},se=()=>{const e=a(),t=me(e,d.input),m=me(e,d.file),z=e.querySelector(`.${d.range} input`),he=e.querySelector(`.${d.range} output`),Te=me(e,d.select),He=e.querySelector(`.${d.checkbox} input`),it=me(e,d.textarea);t.oninput=we,m.onchange=we,Te.onchange=we,He.onchange=we,it.oninput=we,z.oninput=()=>{we(),he.value=z.value},z.onchange=()=>{we(),he.value=z.value}},Y=e=>typeof e=="string"?document.querySelector(e):e,J=e=>{const t=a();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},_e=e=>{window.getComputedStyle(e).direction==="rtl"&&W(S(),d.rtl)},Se=e=>{const t=de();if(Ue()){N("SweetAlert2 requires document to initialize");return}const m=document.createElement("div");m.className=d.container,t&&W(m,d["no-transition"]),K(m,lt);const z=Y(e.target);z.appendChild(m),J(e),_e(z),se()},Ee=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?Re(e,t):e&&K(t,e)},Re=(e,t)=>{e.jquery?Le(t,e):K(t,e.toString())},Le=(e,t)=>{if(e.textContent="",0 in t)for(let m=0;m in t;m++)e.appendChild(t[m].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},je=(()=>{if(Ue())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const m in t)if(Object.prototype.hasOwnProperty.call(t,m)&&typeof e.style[m]<"u")return t[m];return!1})(),Ne=()=>{const e=document.createElement("div");e.className=d["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},Oe=(e,t)=>{const m=le(),z=Q();!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?re(m):ue(m),w(m,t,"actions"),We(m,z,t),K(z,t.loaderHtml),w(z,t,"loader")};function We(e,t,m){const z=ne(),he=te(),Te=ee();Ve(z,"confirm",m),Ve(he,"deny",m),Ve(Te,"cancel",m),$e(z,he,Te,m),m.reverseButtons&&(m.toast?(e.insertBefore(Te,z),e.insertBefore(he,z)):(e.insertBefore(Te,t),e.insertBefore(he,t),e.insertBefore(z,t)))}function $e(e,t,m,z){if(!z.buttonsStyling){ae([e,t,m],d.styled);return}W([e,t,m],d.styled),z.confirmButtonColor&&(e.style.backgroundColor=z.confirmButtonColor,W(e,d["default-outline"])),z.denyButtonColor&&(t.style.backgroundColor=z.denyButtonColor,W(t,d["default-outline"])),z.cancelButtonColor&&(m.style.backgroundColor=z.cancelButtonColor,W(m,d["default-outline"]))}function Ve(e,t,m){ve(e,m[`show${b(t)}Button`],"inline-block"),K(e,m[`${t}ButtonText`]),e.setAttribute("aria-label",m[`${t}ButtonAriaLabel`]),e.className=d[t],w(e,m,`${t}Button`),W(e,m[`${t}ButtonClass`])}const De=(e,t)=>{const m=V();K(m,t.closeButtonHtml),w(m,t,"closeButton"),ve(m,t.showCloseButton),m.setAttribute("aria-label",t.closeButtonAriaLabel)},qe=(e,t)=>{const m=S();!m||(Ke(m,t.backdrop),tt(m,t.position),nt(m,t.grow),w(m,t,"container"))};function Ke(e,t){typeof t=="string"?e.style.background=t:t||W([document.documentElement,document.body],d["no-backdrop"])}function tt(e,t){t in d?W(e,d[t]):(T('The "position" parameter is not valid, defaulting to "center"'),W(e,d.center))}function nt(e,t){if(t&&typeof t=="string"){const m=`grow-${t}`;m in d&&W(e,d[m])}}const Ze=["input","file","range","select","radio","checkbox","textarea"],Ge=(e,t)=>{const m=a(),z=v.innerParams.get(e),he=!z||t.input!==z.input;Ze.forEach(Te=>{const He=me(m,d[Te]);ts(Te,t.inputAttributes),He.className=d[Te],he&&re(He)}),t.input&&(he&&Je(t),ns(t))},Je=e=>{if(!Ye[e.input]){N(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${e.input}"`);return}const t=rn(e.input),m=Ye[e.input](t,e);ue(t),setTimeout(()=>{M(m)})},ot=e=>{for(let t=0;t<e.attributes.length;t++){const m=e.attributes[t].name;["type","value","style"].includes(m)||e.removeAttribute(m)}},ts=(e,t)=>{const m=C(a(),e);if(!!m){ot(m);for(const z in t)m.setAttribute(z,t[z])}},ns=e=>{const t=rn(e.input);typeof e.customClass=="object"&&W(t,e.customClass.input)},Rt=(e,t)=>{(!e.placeholder||t.inputPlaceholder)&&(e.placeholder=t.inputPlaceholder)},mt=(e,t,m)=>{if(m.inputLabel){e.id=d.input;const z=document.createElement("label"),he=d["input-label"];z.setAttribute("for",e.id),z.className=he,typeof m.customClass=="object"&&W(z,m.customClass.inputLabel),z.innerText=m.inputLabel,t.insertAdjacentElement("beforebegin",z)}},rn=e=>me(a(),d[e]||d.input),_t=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:E(t)||T(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ye={};Ye.text=Ye.email=Ye.password=Ye.number=Ye.tel=Ye.url=(e,t)=>(_t(e,t.inputValue),mt(e,e,t),Rt(e,t),e.type=t.input,e),Ye.file=(e,t)=>(mt(e,e,t),Rt(e,t),e),Ye.range=(e,t)=>{const m=e.querySelector("input"),z=e.querySelector("output");return _t(m,t.inputValue),m.type=t.input,_t(z,t.inputValue),mt(m,e,t),e},Ye.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const m=document.createElement("option");K(m,t.inputPlaceholder),m.value="",m.disabled=!0,m.selected=!0,e.appendChild(m)}return mt(e,e,t),e},Ye.radio=e=>(e.textContent="",e),Ye.checkbox=(e,t)=>{const m=C(a(),"checkbox");m.value="1",m.id=d.checkbox,m.checked=Boolean(t.inputValue);const z=e.querySelector("span");return K(z,t.inputPlaceholder),m},Ye.textarea=(e,t)=>{_t(e,t.inputValue),Rt(e,t),mt(e,e,t);const m=z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(a()).width),he=()=>{const Te=e.offsetWidth+m(e);Te>z?a().style.width=`${Te}px`:a().style.width=null};new MutationObserver(he).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const ss=(e,t)=>{const m=A();w(m,t,"htmlContainer"),t.html?(Ee(t.html,m),ue(m,"block")):t.text?(m.textContent=t.text,ue(m,"block")):re(m),Ge(e,t)},is=(e,t)=>{const m=ge();ve(m,t.footer),t.footer&&Ee(t.footer,m),w(m,t,"footer")},rs=(e,t)=>{const m=v.innerParams.get(e),z=_();if(m&&t.icon===m.icon){an(z,t),on(z,t);return}if(!t.icon&&!t.iconHtml){re(z);return}if(t.icon&&Object.keys(I).indexOf(t.icon)===-1){N(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),re(z);return}ue(z),an(z,t),on(z,t),W(z,t.showClass.icon)},on=(e,t)=>{for(const m in I)t.icon!==m&&ae(e,I[m]);W(e,I[t.icon]),cs(e,t),os(),w(e,t,"icon")},os=()=>{const e=a(),t=window.getComputedStyle(e).getPropertyValue("background-color"),m=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<m.length;z++)m[z].style.backgroundColor=t},as=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ls=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,an=(e,t)=>{let m=e.innerHTML,z;t.iconHtml?z=ln(t.iconHtml):t.icon==="success"?(z=as,m=m.replace(/ style=".*?"/g,"")):t.icon==="error"?z=ls:z=ln({question:"?",warning:"!",info:"i"}[t.icon]),m.trim()!==z.trim()&&K(e,z)},cs=(e,t)=>{if(!!t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const m of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pe(e,m,"backgroundColor",t.iconColor);pe(e,".swal2-success-ring","borderColor",t.iconColor)}},ln=e=>`<div class="${d["icon-content"]}">${e}</div>`,us=(e,t)=>{const m=j();if(!t.imageUrl){re(m);return}ue(m,""),m.setAttribute("src",t.imageUrl),m.setAttribute("alt",t.imageAlt),ie(m,"width",t.imageWidth),ie(m,"height",t.imageHeight),m.className=d.image,w(m,t,"image")},ds=(e,t)=>{const m=S(),z=a();t.toast?(ie(m,"width",t.width),z.style.width="100%",z.insertBefore(Q(),_())):ie(z,"width",t.width),ie(z,"padding",t.padding),t.color&&(z.style.color=t.color),t.background&&(z.style.background=t.background),re(ce()),hs(z,t)},hs=(e,t)=>{e.className=`${d.popup} ${$(e)?t.showClass.popup:""}`,t.toast?(W([document.documentElement,document.body],d["toast-shown"]),W(e,d.toast)):W(e,d.modal),w(e,t,"popup"),typeof t.customClass=="string"&&W(e,t.customClass),t.icon&&W(e,d[`icon-${t.icon}`])},fs=(e,t)=>{const m=oe();if(!t.progressSteps||t.progressSteps.length===0){re(m);return}ue(m),m.textContent="",t.currentProgressStep>=t.progressSteps.length&&T("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((z,he)=>{const Te=ps(z);if(m.appendChild(Te),he===t.currentProgressStep&&W(Te,d["active-progress-step"]),he!==t.progressSteps.length-1){const He=gs(t);m.appendChild(He)}})},ps=e=>{const t=document.createElement("li");return W(t,d["progress-step"]),K(t,e),t},gs=e=>{const t=document.createElement("li");return W(t,d["progress-step-line"]),e.progressStepsDistance&&ie(t,"width",e.progressStepsDistance),t},ms=(e,t)=>{const m=R();ve(m,t.title||t.titleText,"block"),t.title&&Ee(t.title,m),t.titleText&&(m.innerText=t.titleText),w(m,t,"title")},cn=(e,t)=>{ds(e,t),qe(e,t),fs(e,t),rs(e,t),us(e,t),ms(e,t),De(e,t),ss(e,t),Oe(e,t),is(e,t),typeof t.didRender=="function"&&t.didRender(a())};function un(){const e=v.innerParams.get(this);if(!e)return;const t=v.domCache.get(this);re(t.loader),q()?e.icon&&ue(_()):bs(t),ae([t.popup,t.actions],d.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const bs=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ue(t[0],"inline-block"):ye()&&re(e.actions)};function ys(e){const t=v.innerParams.get(e||this),m=v.domCache.get(e||this);return m?C(m.popup,t.input):null}const ws=()=>$(a()),dn=()=>ne()&&ne().click(),vs=()=>te()&&te().click(),_s=()=>ee()&&ee().click(),ct=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),hn=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},As=(e,t,m,z)=>{hn(t),m.toast||(t.keydownHandler=he=>xs(e,he,z),t.keydownTarget=m.keydownListenerCapture?window:a(),t.keydownListenerCapture=m.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Ft=(e,t,m)=>{const z=g();if(z.length)return t=t+m,t===z.length?t=0:t===-1&&(t=z.length-1),z[t].focus();a().focus()},fn=["ArrowRight","ArrowDown"],Ss=["ArrowLeft","ArrowUp"],xs=(e,t,m)=>{const z=v.innerParams.get(e);!z||t.isComposing||t.keyCode===229||(z.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Cs(e,t,z):t.key==="Tab"?Es(t,z):[...fn,...Ss].includes(t.key)?Ts(t.key):t.key==="Escape"&&Ps(t,z,m))},Cs=(e,t,m)=>{if(!!s(m.allowEnterKey)&&t.target&&e.getInput()&&t.target instanceof HTMLElement&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(m.input))return;dn(),t.preventDefault()}},Es=(e,t)=>{const m=e.target,z=g();let he=-1;for(let Te=0;Te<z.length;Te++)if(m===z[Te]){he=Te;break}e.shiftKey?Ft(t,he,-1):Ft(t,he,1),e.stopPropagation(),e.preventDefault()},Ts=e=>{const t=ne(),m=te(),z=ee();if(document.activeElement instanceof HTMLElement&&![t,m,z].includes(document.activeElement))return;const he=fn.includes(e)?"nextElementSibling":"previousElementSibling";let Te=document.activeElement;for(let He=0;He<le().children.length;He++){if(Te=Te[he],!Te)return;if(Te instanceof HTMLButtonElement&&$(Te))break}Te instanceof HTMLButtonElement&&Te.focus()},Ps=(e,t,m)=>{s(t.allowEscapeKey)&&(e.preventDefault(),m(ct.esc))};var bt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ks=()=>{Array.from(document.body.children).forEach(t=>{t===S()||t.contains(S())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})},pn=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},Rs=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Z(document.body,d.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,W(document.body,d.iosfix),Os(),Fs()}},Fs=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),m=!!e.match(/WebKit/i);t&&m&&!e.match(/CriOS/i)&&a().scrollHeight>window.innerHeight-44&&(S().style.paddingBottom=`${44}px`)},Os=()=>{const e=S();let t;e.ontouchstart=m=>{t=Ms(m)},e.ontouchmove=m=>{t&&(m.preventDefault(),m.stopPropagation())}},Ms=e=>{const t=e.target,m=S();return Is(e)||Ls(e)?!1:t===m||!Ce(m)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Ce(A())&&A().contains(t))},Is=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",Ls=e=>e.touches&&e.touches.length>1,Ds=()=>{if(Z(document.body,d.iosfix)){const e=parseInt(document.body.style.top,10);ae(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},Ns=()=>{G.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(G.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${G.previousBodyPadding+Ne()}px`)},js=()=>{G.previousBodyPadding!==null&&(document.body.style.paddingRight=`${G.previousBodyPadding}px`,G.previousBodyPadding=null)};function gn(e,t,m,z){q()?mn(e,z):(Ie(m).then(()=>mn(e,z)),hn(Pe)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),L()&&(js(),Ds(),pn()),Bs()}function Bs(){ae([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function At(e){e=qs(e);const t=bt.swalPromiseResolve.get(this),m=$s(this);this.isAwaitingPromise()?e.isDismissed||(yt(this),t(e)):m&&t(e)}function Us(){return!!v.awaitingPromise.get(this)}const $s=e=>{const t=a();if(!t)return!1;const m=v.innerParams.get(e);if(!m||Z(t,m.hideClass.popup))return!1;ae(t,m.showClass.popup),W(t,m.hideClass.popup);const z=S();return ae(z,m.showClass.backdrop),W(z,m.hideClass.backdrop),Hs(e,t,m),!0};function Ws(e){const t=bt.swalPromiseReject.get(this);yt(this),t&&t(e)}const yt=e=>{e.isAwaitingPromise()&&(v.awaitingPromise.delete(e),v.innerParams.get(e)||e._destroy())},qs=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Hs=(e,t,m)=>{const z=S(),he=je&&ke(t);typeof m.willClose=="function"&&m.willClose(t),he?zs(e,t,z,m.returnFocus,m.didClose):gn(e,z,m.returnFocus,m.didClose)},zs=(e,t,m,z,he)=>{Pe.swalCloseEventFinishedCallback=gn.bind(null,e,m,z,he),t.addEventListener(je,function(Te){Te.target===t&&(Pe.swalCloseEventFinishedCallback(),delete Pe.swalCloseEventFinishedCallback)})},mn=(e,t)=>{setTimeout(()=>{typeof t=="function"&&t.bind(e.params)(),e._destroy()})};function bn(e,t,m){const z=v.domCache.get(e);t.forEach(he=>{z[he].disabled=m})}function yn(e,t){if(!!e)if(e.type==="radio"){const z=e.parentNode.parentNode.querySelectorAll("input");for(let he=0;he<z.length;he++)z[he].disabled=t}else e.disabled=t}function Gs(){bn(this,["confirmButton","denyButton","cancelButton"],!1)}function Vs(){bn(this,["confirmButton","denyButton","cancelButton"],!0)}function Xs(){yn(this.getInput(),!1)}function Ys(){yn(this.getInput(),!0)}function Ks(e){const t=v.domCache.get(this),m=v.innerParams.get(this);K(t.validationMessage,e),t.validationMessage.className=d["validation-message"],m.customClass&&m.customClass.validationMessage&&W(t.validationMessage,m.customClass.validationMessage),ue(t.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",d["validation-message"]),M(z),W(z,d.inputerror))}function Js(){const e=v.domCache.get(this);e.validationMessage&&re(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ae(t,d.inputerror))}const ut={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Qs=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Zs={},ei=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],wn=e=>Object.prototype.hasOwnProperty.call(ut,e),vn=e=>Qs.indexOf(e)!==-1,Ot=e=>Zs[e],ti=e=>{wn(e)||T(`Unknown parameter "${e}"`)},ni=e=>{ei.includes(e)&&T(`The parameter "${e}" is incompatible with toasts`)},si=e=>{Ot(e)&&p(e,Ot(e))},ii=e=>{e.backdrop===!1&&e.allowOutsideClick&&T('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)ti(t),e.toast&&ni(t),si(t)};function ri(e){const t=a(),m=v.innerParams.get(this);if(!t||Z(t,m.hideClass.popup)){T("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const z=oi(e),he=Object.assign({},m,z);cn(this,he),v.innerParams.set(this,he),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const oi=e=>{const t={};return Object.keys(e).forEach(m=>{vn(m)?t[m]=e[m]:T(`Invalid parameter to update: ${m}`)}),t};function ai(){const e=v.domCache.get(this),t=v.innerParams.get(this);if(!t){_n(this);return}e.popup&&Pe.swalCloseEventFinishedCallback&&(Pe.swalCloseEventFinishedCallback(),delete Pe.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),li(this)}const li=e=>{_n(e),delete e.params,delete Pe.keydownHandler,delete Pe.keydownTarget,delete Pe.currentInstance},_n=e=>{e.isAwaitingPromise()?(Mt(v,e),v.awaitingPromise.set(e,!0)):(Mt(bt,e),Mt(v,e))},Mt=(e,t)=>{for(const m in e)e[m].delete(t)};var An=Object.freeze({__proto__:null,hideLoading:un,disableLoading:un,getInput:ys,close:At,isAwaitingPromise:Us,rejectPromise:Ws,handleAwaitingPromise:yt,closePopup:At,closeModal:At,closeToast:At,enableButtons:Gs,disableButtons:Vs,enableInput:Xs,disableInput:Ys,showValidationMessage:Ks,resetValidationMessage:Js,update:ri,_destroy:ai});const dt=e=>{let t=a();t||new xt,t=a();const m=Q();q()?re(_()):ci(t,e),ue(m),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},ci=(e,t)=>{const m=le(),z=Q();!t&&$(ne())&&(t=ne()),ue(m),t&&(re(t),z.setAttribute("data-button-to-replace",t.className)),z.parentNode.insertBefore(z,t),W([e,m],d.loading)},ui=(e,t)=>{t.input==="select"||t.input==="radio"?gi(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||E(t.inputValue))&&(dt(ne()),mi(e,t))},di=(e,t)=>{const m=e.getInput();if(!m)return null;switch(t.input){case"checkbox":return hi(m);case"radio":return fi(m);case"file":return pi(m);default:return t.inputAutoTrim?m.value.trim():m.value}},hi=e=>e.checked?1:0,fi=e=>e.checked?e.value:null,pi=e=>e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,gi=(e,t)=>{const m=a(),z=he=>{bi[t.input](m,It(he),t)};l(t.inputOptions)||E(t.inputOptions)?(dt(ne()),h(t.inputOptions).then(he=>{e.hideLoading(),z(he)})):typeof t.inputOptions=="object"?z(t.inputOptions):N(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},mi=(e,t)=>{const m=e.getInput();re(m),h(t.inputValue).then(z=>{m.value=t.input==="number"?`${parseFloat(z)||0}`:`${z}`,ue(m),m.focus(),e.hideLoading()}).catch(z=>{N(`Error in inputValue promise: ${z}`),m.value="",ue(m),m.focus(),e.hideLoading()})},bi={select:(e,t,m)=>{const z=me(e,d.select),he=(Te,He,it)=>{const Xe=document.createElement("option");Xe.value=it,K(Xe,He),Xe.selected=Sn(it,m.inputValue),Te.appendChild(Xe)};t.forEach(Te=>{const He=Te[0],it=Te[1];if(Array.isArray(it)){const Xe=document.createElement("optgroup");Xe.label=He,Xe.disabled=!1,z.appendChild(Xe),it.forEach(ft=>he(Xe,ft[1],ft[0]))}else he(z,it,He)}),z.focus()},radio:(e,t,m)=>{const z=me(e,d.radio);t.forEach(Te=>{const He=Te[0],it=Te[1],Xe=document.createElement("input"),ft=document.createElement("label");Xe.type="radio",Xe.name=d.radio,Xe.value=He,Sn(He,m.inputValue)&&(Xe.checked=!0);const jt=document.createElement("span");K(jt,it),jt.className=d.label,ft.appendChild(Xe),ft.appendChild(jt),z.appendChild(ft)});const he=z.querySelectorAll("input");he.length&&he[0].focus()}},It=e=>{const t=[];return typeof Map<"u"&&e instanceof Map?e.forEach((m,z)=>{let he=m;typeof he=="object"&&(he=It(he)),t.push([z,he])}):Object.keys(e).forEach(m=>{let z=e[m];typeof z=="object"&&(z=It(z)),t.push([m,z])}),t},Sn=(e,t)=>t&&t.toString()===e.toString(),yi=e=>{const t=v.innerParams.get(e);e.disableButtons(),t.input?xn(e,"confirm"):Dt(e,!0)},wi=e=>{const t=v.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?xn(e,"deny"):Lt(e,!1)},vi=(e,t)=>{e.disableButtons(),t(ct.cancel)},xn=(e,t)=>{const m=v.innerParams.get(e);if(!m.input){N(`The "input" parameter is needed to be set when using returnInputValueOn${b(t)}`);return}const z=di(e,m);m.inputValidator?_i(e,z,t):e.getInput().checkValidity()?t==="deny"?Lt(e,z):Dt(e,z):(e.enableButtons(),e.showValidationMessage(m.validationMessage))},_i=(e,t,m)=>{const z=v.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>h(z.inputValidator(t,z.validationMessage))).then(Te=>{e.enableButtons(),e.enableInput(),Te?e.showValidationMessage(Te):m==="deny"?Lt(e,t):Dt(e,t)})},Lt=(e,t)=>{const m=v.innerParams.get(e||void 0);m.showLoaderOnDeny&&dt(te()),m.preDeny?(v.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>h(m.preDeny(t,m.validationMessage))).then(he=>{he===!1?(e.hideLoading(),yt(e)):e.close({isDenied:!0,value:typeof he>"u"?t:he})}).catch(he=>En(e||void 0,he))):e.close({isDenied:!0,value:t})},Cn=(e,t)=>{e.close({isConfirmed:!0,value:t})},En=(e,t)=>{e.rejectPromise(t)},Dt=(e,t)=>{const m=v.innerParams.get(e||void 0);m.showLoaderOnConfirm&&dt(),m.preConfirm?(e.resetValidationMessage(),v.awaitingPromise.set(e||void 0,!0),Promise.resolve().then(()=>h(m.preConfirm(t,m.validationMessage))).then(he=>{$(ce())||he===!1?(e.hideLoading(),yt(e)):Cn(e,typeof he>"u"?t:he)}).catch(he=>En(e||void 0,he))):Cn(e,t)},Ai=(e,t,m)=>{v.innerParams.get(e).toast?Si(e,t,m):(Ci(t),Ei(t),Ti(e,t,m))},Si=(e,t,m)=>{t.popup.onclick=()=>{const z=v.innerParams.get(e);z&&(xi(z)||z.timer||z.input)||m(ct.close)}},xi=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let St=!1;const Ci=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(St=!0)}}},Ei=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(St=!0)}}},Ti=(e,t,m)=>{t.container.onclick=z=>{const he=v.innerParams.get(e);if(St){St=!1;return}z.target===t.container&&s(he.allowOutsideClick)&&m(ct.backdrop)}},Pi=e=>typeof e=="object"&&e.jquery,Tn=e=>e instanceof Element||Pi(e),ki=e=>{const t={};return typeof e[0]=="object"&&!Tn(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((m,z)=>{const he=e[z];typeof he=="string"||Tn(he)?t[m]=he:he!==void 0&&N(`Unexpected type of ${m}! Expected "string" or "Element", got ${typeof he}`)}),t};function Ri(){const e=this;for(var t=arguments.length,m=new Array(t),z=0;z<t;z++)m[z]=arguments[z];return new e(...m)}function Fi(e){class t extends this{_main(z,he){return super._main(z,Object.assign({},e,he))}}return t}const Oi=()=>Pe.timeout&&Pe.timeout.getTimerLeft(),Pn=()=>{if(Pe.timeout)return Me(),Pe.timeout.stop()},kn=()=>{if(Pe.timeout){const e=Pe.timeout.start();return Fe(e),e}},Mi=()=>{const e=Pe.timeout;return e&&(e.running?Pn():kn())},Ii=e=>{if(Pe.timeout){const t=Pe.timeout.increase(e);return Fe(t,!0),t}},Li=()=>Pe.timeout&&Pe.timeout.isRunning();let Rn=!1;const Nt={};function Di(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Nt[e]=this,Rn||(document.body.addEventListener("click",Ni),Rn=!0)}const Ni=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const m in Nt){const z=t.getAttribute(m);if(z){Nt[m].fire({template:z});return}}};var ji=Object.freeze({__proto__:null,isValidParameter:wn,isUpdatableParameter:vn,isDeprecatedParameter:Ot,argsToParams:ki,getContainer:S,getPopup:a,getTitle:R,getHtmlContainer:A,getImage:j,getIcon:_,getIconContent:D,getInputLabel:X,getCloseButton:V,getActions:le,getConfirmButton:ne,getDenyButton:te,getCancelButton:ee,getLoader:Q,getFooter:ge,getTimerProgressBar:xe,getFocusableElements:g,getValidationMessage:ce,getProgressSteps:oe,isLoading:H,isVisible:ws,clickConfirm:dn,clickDeny:vs,clickCancel:_s,fire:Ri,mixin:Fi,showLoading:dt,enableLoading:dt,getTimerLeft:Oi,stopTimer:Pn,resumeTimer:kn,toggleTimer:Mi,increaseTimer:Ii,isTimerRunning:Li,bindClickHandler:Di});class Bi{constructor(t,m){this.callback=t,this.remaining=m,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const m=this.running;return m&&this.stop(),this.remaining+=t,m&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fn=["swal-title","swal-html","swal-footer"],Ui=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const m=t.content;return Xi(m),Object.assign($i(m),Wi(m),qi(m),Hi(m),zi(m),Gi(m),Vi(m,Fn))},$i=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(z=>{at(z,["name","value"]);const he=z.getAttribute("name"),Te=z.getAttribute("value");typeof ut[he]=="boolean"?t[he]=Te!=="false":typeof ut[he]=="object"?t[he]=JSON.parse(Te):t[he]=Te}),t},Wi=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(z=>{const he=z.getAttribute("name"),Te=z.getAttribute("value");t[he]=new Function(`return ${Te}`)()}),t},qi=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(z=>{at(z,["type","color","aria-label"]);const he=z.getAttribute("type");t[`${he}ButtonText`]=z.innerHTML,t[`show${b(he)}Button`]=!0,z.hasAttribute("color")&&(t[`${he}ButtonColor`]=z.getAttribute("color")),z.hasAttribute("aria-label")&&(t[`${he}ButtonAriaLabel`]=z.getAttribute("aria-label"))}),t},Hi=e=>{const t={},m=e.querySelector("swal-image");return m&&(at(m,["src","width","height","alt"]),m.hasAttribute("src")&&(t.imageUrl=m.getAttribute("src")),m.hasAttribute("width")&&(t.imageWidth=m.getAttribute("width")),m.hasAttribute("height")&&(t.imageHeight=m.getAttribute("height")),m.hasAttribute("alt")&&(t.imageAlt=m.getAttribute("alt"))),t},zi=e=>{const t={},m=e.querySelector("swal-icon");return m&&(at(m,["type","color"]),m.hasAttribute("type")&&(t.icon=m.getAttribute("type")),m.hasAttribute("color")&&(t.iconColor=m.getAttribute("color")),t.iconHtml=m.innerHTML),t},Gi=e=>{const t={},m=e.querySelector("swal-input");m&&(at(m,["type","label","placeholder","value"]),t.input=m.getAttribute("type")||"text",m.hasAttribute("label")&&(t.inputLabel=m.getAttribute("label")),m.hasAttribute("placeholder")&&(t.inputPlaceholder=m.getAttribute("placeholder")),m.hasAttribute("value")&&(t.inputValue=m.getAttribute("value")));const z=Array.from(e.querySelectorAll("swal-input-option"));return z.length&&(t.inputOptions={},z.forEach(he=>{at(he,["value"]);const Te=he.getAttribute("value"),He=he.innerHTML;t.inputOptions[Te]=He})),t},Vi=(e,t)=>{const m={};for(const z in t){const he=t[z],Te=e.querySelector(he);Te&&(at(Te,[]),m[he.replace(/^swal-/,"")]=Te.innerHTML.trim())}return m},Xi=e=>{const t=Fn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(m=>{const z=m.tagName.toLowerCase();t.includes(z)||T(`Unrecognized element <${z}>`)})},at=(e,t)=>{Array.from(e.attributes).forEach(m=>{t.indexOf(m.name)===-1&&T([`Unrecognized attribute "${m.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},On=10,Yi=e=>{const t=S(),m=a();typeof e.willOpen=="function"&&e.willOpen(m);const he=window.getComputedStyle(document.body).overflowY;Qi(t,m,e),setTimeout(()=>{Ki(t,m)},On),L()&&(Ji(t,e.scrollbarPadding,he),ks()),!q()&&!Pe.previousActiveElement&&(Pe.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(m)),ae(t,d["no-transition"])},Mn=e=>{const t=a();if(e.target!==t)return;const m=S();t.removeEventListener(je,Mn),m.style.overflowY="auto"},Ki=(e,t)=>{je&&ke(t)?(e.style.overflowY="hidden",t.addEventListener(je,Mn)):e.style.overflowY="auto"},Ji=(e,t,m)=>{Rs(),t&&m!=="hidden"&&Ns(),setTimeout(()=>{e.scrollTop=0})},Qi=(e,t,m)=>{W(e,m.showClass.backdrop),t.style.setProperty("opacity","0","important"),ue(t,"grid"),setTimeout(()=>{W(t,m.showClass.popup),t.style.removeProperty("opacity")},On),W([document.documentElement,document.body],d.shown),m.heightAuto&&m.backdrop&&!m.toast&&W([document.documentElement,document.body],d["height-auto"])};var In={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Zi(e){e.inputValidator||Object.keys(In).forEach(t=>{e.input===t&&(e.inputValidator=In[t])})}function er(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(T('Target parameter is not valid, defaulting to "body"'),e.target="body")}function tr(e){Zi(e),e.showLoaderOnConfirm&&!e.preConfirm&&T(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),er(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Se(e)}let st;class ht{constructor(){if(typeof window>"u")return;st=this;for(var t=arguments.length,m=new Array(t),z=0;z<t;z++)m[z]=arguments[z];const he=Object.freeze(this.constructor.argsToParams(m));Object.defineProperties(this,{params:{value:he,writable:!1,enumerable:!0,configurable:!0}});const Te=st._main(st.params);v.promise.set(this,Te)}_main(t){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ii(Object.assign({},m,t)),Pe.currentInstance&&(Pe.currentInstance._destroy(),L()&&pn()),Pe.currentInstance=st;const z=sr(t,m);tr(z),Object.freeze(z),Pe.timeout&&(Pe.timeout.stop(),delete Pe.timeout),clearTimeout(Pe.restoreFocusTimeout);const he=ir(st);return cn(st,z),v.innerParams.set(st,z),nr(st,he,z)}then(t){return v.promise.get(this).then(t)}finally(t){return v.promise.get(this).finally(t)}}const nr=(e,t,m)=>new Promise((z,he)=>{const Te=He=>{e.close({isDismissed:!0,dismiss:He})};bt.swalPromiseResolve.set(e,z),bt.swalPromiseReject.set(e,he),t.confirmButton.onclick=()=>{yi(e)},t.denyButton.onclick=()=>{wi(e)},t.cancelButton.onclick=()=>{vi(e,Te)},t.closeButton.onclick=()=>{Te(ct.close)},Ai(e,t,Te),As(e,Pe,m,Te),ui(e,m),Yi(m),rr(Pe,m,Te),or(t,m),setTimeout(()=>{t.container.scrollTop=0})}),sr=(e,t)=>{const m=Ui(e),z=Object.assign({},ut,t,m,e);return z.showClass=Object.assign({},ut.showClass,z.showClass),z.hideClass=Object.assign({},ut.hideClass,z.hideClass),z},ir=e=>{const t={popup:a(),container:S(),actions:le(),confirmButton:ne(),denyButton:te(),cancelButton:ee(),loader:Q(),closeButton:V(),validationMessage:ce(),progressSteps:oe()};return v.domCache.set(e,t),t},rr=(e,t,m)=>{const z=xe();re(z),t.timer&&(e.timeout=new Bi(()=>{m("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ue(z),w(z,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Fe(t.timer)})))},or=(e,t)=>{if(!t.toast){if(!s(t.allowEnterKey)){lr();return}ar(e,t)||Ft(t,-1,1)}},ar=(e,t)=>t.focusDeny&&$(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&$(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&$(e.confirmButton)?(e.confirmButton.focus(),!0):!1,lr=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const m=document.createElement("audio");m.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",m.loop=!0,document.body.appendChild(m),setTimeout(()=>{m.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}Object.assign(ht.prototype,An),Object.assign(ht,ji),Object.keys(An).forEach(e=>{ht[e]=function(){if(st)return st[e](...arguments)}}),ht.DismissReason=ct,ht.version="11.6.14";const xt=ht;return xt.default=xt,xt}),typeof commonjsGlobal<"u"&&commonjsGlobal.Sweetalert2&&(commonjsGlobal.swal=commonjsGlobal.sweetAlert=commonjsGlobal.Swal=commonjsGlobal.SweetAlert=commonjsGlobal.Sweetalert2),typeof document<"u"&&function(v,n){var i=v.createElement("style");if(v.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=n);else try{i.innerHTML=n}catch{i.innerText=n}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(sweetalert2_all);const Swal=sweetalert2_all.exports,mounts=[{key:"title",getter:P=>P.getTitle()},{key:"html",getter:P=>P.getHtmlContainer()},{key:"confirmButtonText",getter:P=>P.getConfirmButton()},{key:"denyButtonText",getter:P=>P.getDenyButton()},{key:"cancelButtonText",getter:P=>P.getCancelButton()},{key:"footer",getter:P=>P.getFooter()},{key:"closeButtonHtml",getter:P=>P.getCloseButton()},{key:"iconHtml",getter:P=>P.getIconContent()},{key:"loaderHtml",getter:P=>P.getLoader()}],noop=()=>{};function withReactContent(P){function c(i){const d={},I={},O=mounts.map(x=>x.key);return Object.entries(i).forEach(x=>{let[b,T]=x;O.includes(b)&&React.isValidElement(T)?(d[b]=T,I[b]=" "):I[b]=T}),[d,I]}function v(i,d){Object.entries(d).forEach(I=>{let[O,x]=I;const T=mounts.find(F=>F.key===O).getter(P),N=createRoot(T);N.render(x),i.__roots.push(N)})}function n(i){i.__roots.forEach(d=>{d.unmount()}),i.__roots=[]}return class extends P{static argsToParams(i){if(React.isValidElement(i[0])||React.isValidElement(i[1])){const d={};return["title","html","icon"].forEach((I,O)=>{i[O]!==void 0&&(d[I]=i[O])}),d}else return P.argsToParams(i)}_main(i,d){this.__roots=[],this.__params=Object.assign({},d,i);const[I,O]=c(this.__params),x=O.willOpen||noop,b=O.didOpen||noop,T=O.didDestroy||noop;return super._main(Object.assign({},O,{willOpen:N=>{v(this,I),x(N)},didOpen:N=>{setTimeout(()=>{b(N)})},didDestroy:N=>{T(N),n(this)}}))}update(i){Object.assign(this.__params,i),n(this);const[d,I]=c(this.__params);super.update(I),v(this,d)}}}const extComponentSweetAlerts="",MySwal=withReactContent(Swal),ButtonConfirmationAsync=({title:P,titleSuccess:c,textSuccess:v,titleWarning:n,color:i,onSubmit:d})=>jsx(Button,{color:i,onClick:()=>MySwal.fire({title:n,icon:"warning",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ms-1"},buttonsStyling:!1,preConfirm:()=>{d()},allowOutsideClick:()=>!Swal.isLoading()}),children:P}),ButtonShowOffCanvas=({title:P,color:c,canvasPlacementOffCanvas:v,titleOffCanvas:n,Element:i})=>{const[d,I]=react.exports.useState(v),[O,x]=react.exports.useState(!1),b=()=>{I(v),x(!O)};return jsxs("div",{children:[jsx(Button,{color:c,onClick:b,children:P}),jsxs(Offcanvas$1,{direction:d,isOpen:O,toggle:b,children:[jsx(OffcanvasHeader,{toggle:b,className:"border-bottom",children:n}),jsx(OffcanvasBody,{children:i})]})]})},InputWithCheckbox=react.exports.forwardRef(({label:P,placeholder:c,name:v,onBlur:n,onChange:i,value:d,type:I,setSchema:O,invalid:x},b)=>{const[T,N]=react.exports.useState(!1),F=k=>{N(!T),T?(i(""),O(p=>delete p.name)):O(p=>({...p,[v]:create().required()}))};return jsxs(Fragment,{children:[jsx(Label,{className:"form-label",htmlFor:P.toLocaleLowerCase(),children:P}),jsxs(InputGroup,{className:"mb-2",children:[jsx(InputGroupText,{children:jsx("input",{type:"checkbox",id:P.toLocaleLowerCase(),checked:T,onChange:F})}),jsx(Input$1,{type:I,placeholder:c,name:T?v:void 0,onChange:i,onBlur:n,disabled:!T,value:T?d:"",required:T,ref:b,invalid:T?x:void 0})]})]})}),InputWithCheckbox$1=react.exports.memo(InputWithCheckbox);export{Alert as A,ButtonConfirmationAsync as B,InputWithCheckbox$1 as I,TabsVerticalLeft as T,UILoading as U,ViewPDF as V,ButtonShowOffCanvas as a,ArrowLeft$1 as b};
